(("undefined"!==typeof self?self:this)["webpackJsonpharvester_manager_0_1_0"]=("undefined"!==typeof self?self:this)["webpackJsonpharvester_manager_0_1_0"]||[]).push([[5],{"0363":function(e,t,a){var s=a("5175");s.__esModule&&(s=s.default),"string"===typeof s&&(s=[[e.i,s,""]]),s.locals&&(e.exports=s.locals);var i=a("0ed3").default;i("a231e5ac",s,!0,{sourceMap:!1,shadowMode:!1})},"0cb2":function(e,t,a){"use strict";var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{class:{"side-tabs":!!e.sideTabs,"tabs-only":e.tabsOnly}},[a("ul",{ref:"tablist",staticClass:"tabs",class:{clearfix:!e.sideTabs,vertical:e.sideTabs,horizontal:!e.sideTabs},attrs:{role:"tablist",tabindex:"0"},on:{keydown:[function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"right",39,t.key,["Right","ArrowRight"])||"button"in t&&2!==t.button?null:(t.preventDefault(),e.selectNext(1))},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"left",37,t.key,["Left","ArrowLeft"])||"button"in t&&0!==t.button?null:(t.preventDefault(),e.selectNext(-1))},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"down",40,t.key,["Down","ArrowDown"])?null:(t.preventDefault(),e.selectNext(1))},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"up",38,t.key,["Up","ArrowUp"])?null:(t.preventDefault(),e.selectNext(-1))}]}},[e._l(e.sortedTabs,(function(t){return a("li",{key:t.name,class:{tab:!0,active:t.active,disabled:t.disabled,error:t.error},attrs:{id:t.name,role:"presentation"}},[a("a",{attrs:{"aria-controls":"#"+t.name,"aria-selected":t.active,role:"tab"},on:{click:function(a){return a.preventDefault(),e.select(t.name,a)}}},[a("span",[e._v(e._s(t.labelDisplay))]),t.badge?a("span",{staticClass:"tab-badge"},[e._v(e._s(t.badge))]):e._e(),e.hasIcon(t)?a("i",{directives:[{name:"tooltip",rawName:"v-tooltip",value:e.t("validation.tab"),expression:"t('validation.tab')"}],staticClass:"conditions-alert-icon icon-error"}):e._e()])])})),e.sideTabs&&!e.sortedTabs.length?a("li",{staticClass:"tab disabled"},[a("a",{attrs:{href:"#"},on:{click:function(e){e.preventDefault()}}},[e._v("(None)")])]):e._e(),e.sideTabs&&e.showTabsAddRemove?a("ul",{staticClass:"tab-list-footer"},[a("li",[a("button",{staticClass:"btn bg-transparent",attrs:{type:"button"},on:{click:e.tabAddClicked}},[a("i",{staticClass:"icon icon-plus"})]),a("button",{staticClass:"btn bg-transparent",attrs:{type:"button",disabled:!e.sortedTabs.length},on:{click:e.tabRemoveClicked}},[a("i",{staticClass:"icon icon-minus"})])])]):e._e(),e._t("tab-row-extras")],2),a("div",{class:{"tab-container":!!e.tabs.length||!!e.sideTabs,"no-content":e.noContent,"tab-container--flat":!!e.flat}},[e._t("default")],2)])},i=[],r=a("a1d8"),n=a.n(r),o=a("330a"),l=a.n(o),d=a("bddd"),c=a("1d19"),u=a("1659"),p=a.n(u),f={name:"Tabbed",props:{defaultTab:{type:String,default:null},sideTabs:{type:Boolean,default:!1},showTabsAddRemove:{type:Boolean,default:!1},scrollOnChange:{type:Boolean,default:!1},useHash:{type:Boolean,default:!0},noContent:{type:Boolean,default:!1},flat:{type:Boolean,default:!1},tabsOnly:{type:Boolean,default:!1}},provide(){const e=this.tabs;return{sideTabs:this.sideTabs,addTab(t){const a=Object(d["e"])(e,"name",t.name);a&&Object(d["i"])(e,a),Object(d["a"])(e,t)},removeTab(t){Object(d["i"])(e,t)}}},data(){return{tabs:[],activeTabName:null}},computed:{sortedTabs(){return Object(c["a"])(this.tabs,["weight:desc","labelDisplay","name"])}},watch:{sortedTabs(e){const{defaultTab:t,useHash:a}=this,s=e.find(e=>e.active),i=a?this.$route.hash:void 0,r=a?i.slice(1):void 0,o=e.find(e=>e.name===r&&!e.active),d=n()(e)||null;l()(s)?a&&!l()(o)?this.select(o.name):l()(t)||l()(e.find(e=>e.name===t))?null!==d&&void 0!==d&&d.name&&this.select(d.name):this.select(t):a&&(null===s||void 0===s?void 0:s.name)===r&&this.select(s.name)}},mounted(){this.useHash&&window.addEventListener("hashchange",this.hashChange)},unmounted(){this.useHash&&window.removeEventListener("hashchange",this.hashChange)},methods:{hasIcon(e){return e.displayAlertIcon||e.error&&!e.active},hashChange(){if(!this.scrollOnChange){const e=document.getElementsByTagName("main")[0];e&&(e.scrollTop=0)}this.select(this.$route.hash)},find(e){return this.sortedTabs.find(t=>t.name===e)},select(e){const{sortedTabs:t}=this,a=this.find(e),s="#"+e;if(a&&!a.disabled){if(this.useHash){const{$route:{hash:e},$router:{currentRoute:t}}=this;if(this.useHash&&e!==s){const e={...t};e.hash=s,this.$router.replace(e)}}for(const e of t)e.active=e.name===a.name;this.$emit("changed",{tab:a,selectedName:a.name}),this.activeTabName=a.name}},selectNext(e){const{sortedTabs:t}=this,a=t.findIndex(e=>e.active),s=r(a,e,t.length),i=t[s].name;function r(e,t,a){const s=e+t;return s>=a?0:s<=0?a-1:s}this.select(i),this.$nextTick(()=>{this.$refs.tablist.focus()})},tabAddClicked(){const e=p()(this.tabs,e=>e.active);this.$emit("addTab",e)},tabRemoveClicked(){const e=p()(this.tabs,e=>e.active);this.$emit("removeTab",e)}}},m=f,h=(a("53b2"),a("d802")),b=Object(h["a"])(m,s,i,!1,null,"35972161",null);t["a"]=b.exports},"0e44":function(e,t,a){"use strict";var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("Tab",{attrs:{name:"agentEnv","label-key":"cluster.tabs.agentEnv"}},[a("KeyValue",{attrs:{mode:e.mode,"key-name":"name","as-map":!1,"preserve-keys":["valueFrom"],supported:function(e){return"undefined"===typeof e.valueFrom},"read-allowed":!0,"value-can-be-empty":!0,"key-label":e.t("cluster.agentEnvVars.keyLabel"),"parse-lines-from-file":!0},model:{value:e.value.spec.agentEnvVars,callback:function(t){e.$set(e.value.spec,"agentEnvVars",t)},expression:"value.spec.agentEnvVars"}})],1)},i=[],r=a("a232"),n=a("38de"),o={components:{KeyValue:r["a"],Tab:n["a"]},props:{mode:{type:String,required:!0},value:{type:Object,required:!0}}},l=o,d=a("d802"),c=Object(d["a"])(l,s,i,!1,null,null,null);t["a"]=c.exports},"15cac":function(e,t,a){var s=a("8fd6");s.__esModule&&(s=s.default),"string"===typeof s&&(s=[[e.i,s,""]]),s.locals&&(e.exports=s.locals);var i=a("0ed3").default;i("1ab676dc",s,!0,{sourceMap:!1,shadowMode:!1})},1659:function(e,t,a){var s=a("0ee5"),i=a("4b7a"),r=a("9b66"),n=Math.max;function o(e,t,a){var o=null==e?0:e.length;if(!o)return-1;var l=null==a?0:r(a);return l<0&&(l=n(o+l,0)),s(e,i(t,3),l)}e.exports=o},2162:function(e,t,a){var s=a("5eaa");t=s(!1),t.push([e.i,'.clearfix[data-v-221318ff]:after,.clearfix[data-v-221318ff]:before{content:" ";display:table}.clearfix[data-v-221318ff]:after{clear:both}.list-unstyled[data-v-221318ff]{margin:0;padding:0;list-style-type:none}.no-select[data-v-221318ff]{-webkit-user-select:none;-moz-user-select:none;user-select:none}.no-resize[data-v-221318ff]{resize:none}.hand[data-v-221318ff]{cursor:pointer;cursor:hand}.fixed[data-v-221318ff]{table-layout:fixed}.clip[data-v-221318ff]{text-overflow:ellipsis;overflow:hidden;white-space:nowrap}.clip[data-v-221318ff],.force-wrap[data-v-221318ff]{word-wrap:break-word}.force-wrap[data-v-221318ff]{white-space:normal}.bordered-section[data-v-221318ff]{border-bottom:1px solid var(--border);margin-bottom:20px;padding-bottom:20px}.section-divider[data-v-221318ff]{margin-bottom:20px;margin-top:20px}.cru-resource-yaml-container .resource-yaml .yaml-editor[data-v-221318ff]{min-height:100px}.create-resource-container .resource-container[data-v-221318ff]{display:flex;flex-direction:column}.create-resource-container .subtype-banner .round-image[data-v-221318ff]{background-color:var(--primary)}.title[data-v-221318ff]{margin-top:20px}.title.with-description[data-v-221318ff]{margin-top:0}.subtype-container[data-v-221318ff]{position:relative;display:flex;height:100%}.subtype-body[data-v-221318ff]{flex:1;padding:10px}.subtype-logo[data-v-221318ff]{align-items:center;display:flex;justify-content:center;min-width:100px;min-height:100px;overflow:hidden;background-color:var(--box-bg)}.subtype-logo img[data-v-221318ff]{width:56px;height:56px;-o-object-fit:contain;object-fit:contain;position:relative;top:2px}form.create-resource-container .cru__footer[data-v-221318ff]{border-top:var(--header-border-size) solid var(--header-border)}.cru[data-v-221318ff],.cru__form[data-v-221318ff]{display:flex;flex-direction:column;flex-grow:1}.cru__content[data-v-221318ff]{flex-grow:1}.cru__content-wizard[data-v-221318ff]{display:flex}.cru__footer[data-v-221318ff]{right:0;bottom:0;margin-left:-20px;margin-right:-20px;margin-bottom:-20px;padding:10px 20px}.cru__errors[data-v-221318ff],.cru__footer[data-v-221318ff]{position:sticky;background-color:var(--header-bg)}.cru__errors[data-v-221318ff]{top:0;z-index:1;margin:10px 0}.description[data-v-221318ff]{margin-bottom:15px;margin-top:5px}',""]),e.exports=t},2230:function(e,t,a){var s=a("5eaa");t=s(!1),t.push([e.i,'.clearfix:after,.clearfix:before{content:" ";display:table}.clearfix:after{clear:both}.list-unstyled{margin:0;padding:0;list-style-type:none}.no-select{-webkit-user-select:none;-moz-user-select:none;user-select:none}.no-resize{resize:none}.hand{cursor:pointer;cursor:hand}.fixed{table-layout:fixed}.clip{text-overflow:ellipsis;overflow:hidden;white-space:nowrap}.clip,.force-wrap{word-wrap:break-word}.force-wrap{white-space:normal}.bordered-section{border-bottom:1px solid var(--border);margin-bottom:20px;padding-bottom:20px}.section-divider{margin-bottom:20px;margin-top:20px}.cru-resource-footer{display:flex;justify-content:flex-end;margin-top:20px}.cru-resource-footer .btn{margin-left:20px}',""]),e.exports=t},2342:function(e,t,a){"use strict";var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("Tab",{attrs:{name:"labels","label-key":"generic.labelsAndAnnotations"}},[a("Labels",{attrs:{mode:e.mode,"display-side-by-side":!1},model:{value:e.value,callback:function(t){e.value=t},expression:"value"}})],1)},i=[],r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{class:e.containerClass},[a("div",{staticClass:"labels"},[a("div",{staticClass:"labels__header"},[a("h3",[a("t",{attrs:{k:"labels.labels.title"}})],1),e.value.hasSystemLabels?a("ToggleSwitch",{attrs:{name:"label-system-toggle","on-label":e.t("labels.labels.show")},model:{value:e.toggler,callback:function(t){e.toggler=t},expression:"toggler"}}):e._e()],1),a("p",{staticClass:"mt-10 mb-10"},[a("t",{attrs:{k:"labels.labels.description"}})],1),a("div",{class:e.sectionClass},[a("KeyValue",{key:"labels",attrs:{value:e.value.labels,"protected-keys":e.value.systemLabels||[],"toggle-filter":e.toggler,"add-label":e.t("labels.addLabel"),mode:e.mode,"read-allowed":!1,"value-can-be-empty":!0},on:{input:function(t){return e.value.setLabels(t)}}})],1)]),a("div",{staticClass:"spacer"}),a("div",{class:e.sectionClass},[a("KeyValue",{key:"annotations",attrs:{value:e.value.annotations,"add-label":e.t("labels.addAnnotation"),mode:e.mode,title:e.t("labels.annotations.title"),"title-protip":e.annotationTitleTooltip,"read-allowed":!1,"value-can-be-empty":!0},on:{input:function(t){return e.value.setAnnotations(t)}}})],1)])},n=[],o=a("a232"),l=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("span",{staticClass:"toggle-container"},[a("span",{staticClass:"label no-select hand",class:{active:!e.state},on:{click:function(t){return e.toggle(!1)}}},[e._v(e._s(e.offLabel))]),a("label",{staticClass:"switch hand"},[a("input",{attrs:{type:"checkbox"},domProps:{checked:e.state},on:{input:function(t){return e.toggle(null)}}}),a("span",{staticClass:"slider round"})]),a("span",{staticClass:"label no-select hand",class:{active:e.state},on:{click:function(t){return e.toggle(!0)}}},[e._v(e._s(e.onLabel))])])},d=[],c=a("8bbf"),u=a.n(c),p=u.a.extend({props:{value:{type:[Boolean,String,Number],default:!1},offValue:{type:[Boolean,String,Number],default:!1},onValue:{type:[Boolean,String,Number],default:!0},offLabel:{type:String,default:""},onLabel:{type:String,default:""}},data(){return{state:!1}},methods:{toggle(e){this.state=null===e?!this.state:e,this.$emit("input",this.state?this.onValue:this.offValue)}},watch:{value:{handler(){this.state=this.value===this.onValue},immediate:!0}}}),f=p,m=(a("8bab"),a("d802")),h=Object(m["a"])(f,l,d,!1,null,"79936084",null),b=h.exports,v={components:{ToggleSwitch:b,KeyValue:o["a"]},props:{value:{type:Object,required:!0},mode:{type:String,required:!0},displaySideBySide:{type:Boolean,default:!1},defaultContainerClass:{type:String,default:""},defaultSectionClass:{type:String,default:""},labelTitleTooltip:{type:String,default:""},annotationTitleTooltip:{type:String,default:""}},data(){return{toggler:!1}},computed:{containerClass(){return`${this.displaySideBySide?"row":""} ${this.defaultContainerClass}`.trim()},sectionClass(){return`${this.displaySideBySide?"col span-6":"row"} ${this.defaultSectionClass}`.trim()}}},y=v,g=(a("c745"),Object(m["a"])(y,r,n,!1,null,"a0de3206",null)),x=g.exports,w=a("38de"),k={components:{Labels:x,Tab:w["a"]},props:{mode:{type:String,required:!0},value:{type:Object,required:!0}}},_=k,S=Object(m["a"])(_,s,i,!1,null,null,null);t["a"]=S.exports},"25b9":function(e,t,a){"use strict";a("b8a9")},"26ec":function(e,t,a){var s=a("2fb2");s.__esModule&&(s=s.default),"string"===typeof s&&(s=[[e.i,s,""]]),s.locals&&(e.exports=s.locals);var i=a("0ed3").default;i("085357a8",s,!0,{sourceMap:!1,shadowMode:!1})},"2f17":function(e,t,a){var s=a("5eaa");t=s(!1),t.push([e.i,'.clearfix:after,.clearfix:before{content:" ";display:table}.clearfix:after{clear:both}.list-unstyled{margin:0;padding:0;list-style-type:none}.no-select{-webkit-user-select:none;-moz-user-select:none;user-select:none}.no-resize{resize:none}.hand{cursor:pointer;cursor:hand}.fixed{table-layout:fixed}.clip{text-overflow:ellipsis;overflow:hidden;white-space:nowrap}.clip,.force-wrap{word-wrap:break-word}.force-wrap{white-space:normal}.bordered-section{border-bottom:1px solid var(--border);margin-bottom:20px;padding-bottom:20px}.section-divider{margin-bottom:20px;margin-top:20px}.resource-yaml .yaml-editor{min-height:200px}.resource-yaml footer .actions{text-align:right}',""]),e.exports=t},"2fb2":function(e,t,a){var s=a("5eaa");t=s(!1),t.push([e.i,'.clearfix[data-v-ec0a5d42]:after,.clearfix[data-v-ec0a5d42]:before{content:" ";display:table}.clearfix[data-v-ec0a5d42]:after{clear:both}.list-unstyled[data-v-ec0a5d42]{margin:0;padding:0;list-style-type:none}.no-select[data-v-ec0a5d42]{-webkit-user-select:none;-moz-user-select:none;user-select:none}.no-resize[data-v-ec0a5d42]{resize:none}.hand[data-v-ec0a5d42]{cursor:pointer;cursor:hand}.fixed[data-v-ec0a5d42]{table-layout:fixed}.clip[data-v-ec0a5d42]{text-overflow:ellipsis;overflow:hidden;white-space:nowrap}.clip[data-v-ec0a5d42],.force-wrap[data-v-ec0a5d42]{word-wrap:break-word}.force-wrap[data-v-ec0a5d42]{white-space:normal}.bordered-section[data-v-ec0a5d42]{border-bottom:1px solid var(--border);margin-bottom:20px;padding-bottom:20px}.section-divider[data-v-ec0a5d42]{margin-bottom:20px;margin-top:20px}.tab-header[data-v-ec0a5d42]{display:flex;justify-content:space-between;margin-bottom:15px;align-items:center}.tab-header h2[data-v-ec0a5d42]{margin:0}',""]),e.exports=t},3695:function(e,t,a){"use strict";a("cdac")},"38de":function(e,t,a){"use strict";var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("section",{directives:[{name:"show",rawName:"v-show",value:e.active,expression:"active"}],attrs:{id:e.name,"aria-hidden":!e.active,role:"tabpanel"}},[e.shouldShowHeader?a("div",{staticClass:"tab-header"},[a("h2",[e._v(" "+e._s(e.labelDisplay)+" "),e.tooltip?a("i",{directives:[{name:"tooltip",rawName:"v-tooltip",value:e.tooltip,expression:"tooltip"}],staticClass:"icon icon-info icon-lg"}):e._e()]),e._t("tab-header-right")],2):e._e(),e._t("default",null,null,{active:e.active})],2)},i=[],r={inject:["addTab","removeTab","sideTabs"],props:{label:{default:null,type:String},labelKey:{default:null,type:String},name:{required:!0,type:String},tooltip:{default:null,type:[String,Object]},weight:{default:0,required:!1,type:Number},showHeader:{type:Boolean,default:null},displayAlertIcon:{type:Boolean,default:null},error:{type:Boolean,default:!1},badge:{default:0,required:!1,type:Number}},data(){return{active:null}},computed:{labelDisplay(){return this.labelKey?this.$store.getters["i18n/t"](this.labelKey):this.label?this.label:this.name},shouldShowHeader(){return null!==this.showHeader?this.showHeader:this.sideTabs||!1}},watch:{active(e){e&&this.$emit("active")}},mounted(){this.addTab(this)},beforeDestroy(){this.removeTab(this)}},n=r,o=(a("e419c"),a("d802")),l=Object(o["a"])(n,s,i,!1,null,"ec0a5d42",null);t["a"]=l.exports},"3c7b":function(e,t,a){var s=a("5eaa");t=s(!1),t.push([e.i,'.clearfix:after,.clearfix:before{content:" ";display:table}.clearfix:after{clear:both}.list-unstyled{margin:0;padding:0;list-style-type:none}.no-select{-webkit-user-select:none;-moz-user-select:none;user-select:none}.no-resize{resize:none}.hand{cursor:pointer;cursor:hand}.fixed{table-layout:fixed}.clip{text-overflow:ellipsis;overflow:hidden;white-space:nowrap}.clip,.force-wrap{word-wrap:break-word}.force-wrap{white-space:normal}.bordered-section{border-bottom:1px solid var(--border);margin-bottom:20px;padding-bottom:20px}.section-divider{margin-bottom:20px;margin-top:20px}.key-value{width:100%}.key-value .file-selector.role-link{text-transform:none;padding:0}.key-value .kv-container{display:grid;align-items:center;-moz-column-gap:20px;column-gap:20px}.key-value .kv-container label{margin-bottom:0}.key-value .kv-container .kv-item{width:100%;margin:10px 0 10px 0}.key-value .kv-container .kv-item.extra,.key-value .kv-container .kv-item.key{align-self:flex-start}.key-value .kv-container .kv-item.value textarea{padding:10px 10px 10px 10px}.key-value .kv-container .kv-item .text-monospace:not(.conceal){font-family:monospace,monospace}.key-value .remove{text-align:center}.key-value .remove BUTTON{padding:0}.key-value .title{margin-bottom:10px}.key-value .title .read-from-file{float:right}.key-value input{height:40px;line-height:1}.key-value .footer .protip{float:right;padding:5px 0}.key-value .download{text-align:right}.key-value .copy-value{padding:0 0 0 10px}',""]),e.exports=t},"3c8c":function(e,t,a){"use strict";var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"row mb-20"},[e.namespaced&&!e.nameNsHidden&&e.createNamespace?a("div",{staticClass:"col span-3",attrs:{"data-testid":e.componentTestid+"-namespace-create"}},[a("LabeledInput",{ref:"namespace",attrs:{label:e.t("namespace.label"),placeholder:e.t("namespace.createNamespace"),disabled:e.namespaceReallyDisabled,mode:e.mode,"min-height":30,required:e.nameRequired,rules:e.rules.namespace},model:{value:e.namespace,callback:function(t){e.namespace=t},expression:"namespace"}}),a("button",{attrs:{aria:"Cancel create"},on:{click:e.cancelCreateNamespace}},[a("i",{directives:[{name:"tooltip",rawName:"v-tooltip",value:e.t("generic.cancel"),expression:"t('generic.cancel')"}],staticClass:"icon icon-close align-value"})])],1):e._e(),!e.namespaced||e.nameNsHidden||e.createNamespace?e._e():a("div",{staticClass:"col span-3",attrs:{"data-testid":e.componentTestid+"-namespace"}},[a("LabeledSelect",{directives:[{name:"show",rawName:"v-show",value:!e.createNamespace,expression:"!createNamespace"}],attrs:{clearable:!0,options:e.namespaces,disabled:e.namespaceReallyDisabled,searchable:!0,mode:e.mode,multiple:!1,label:e.t("namespace.label"),placeholder:e.t("namespace.selectOrCreate"),rules:e.rules.namespace,required:""},on:{selecting:e.selectNamespace},model:{value:e.namespace,callback:function(t){e.namespace=t},expression:"namespace"}})],1),e.nameNsHidden?e._e():a("div",{staticClass:"col span-3",attrs:{"data-testid":e.componentTestid+"-name"}},[a("LabeledInput",{key:"name",ref:"name",attrs:{label:e.t(e.nameLabel),placeholder:e.t(e.namePlaceholder),disabled:e.nameReallyDisabled,mode:e.mode,"min-height":30,required:e.nameRequired,rules:e.rules.name},model:{value:e.name,callback:function(t){e.name=t},expression:"name"}})],1),a("div",{directives:[{name:"show",rawName:"v-show",value:!e.descriptionHidden,expression:"!descriptionHidden"}],class:["col",e.extraColumns.length>0?"span-3":"span-6"],attrs:{"data-testid":e.componentTestid+"-description"}},[a("LabeledInput",{key:"description",attrs:{mode:e.mode,disabled:e.descriptionDisabled,label:e.t(e.descriptionLabel),placeholder:e.t(e.descriptionPlaceholder),"min-height":30,rules:e.rules.description},model:{value:e.description,callback:function(t){e.description=t},expression:"description"}})],1),e._l(e.extraColumns,(function(t){var s;return a("div",{key:t,class:(s={col:!0},s[e.colSpan]=!0,s)},[e._t(t)],2)})),e.showSpacer?a("div",{staticClass:"spacer"}):e._e()],2)},i=[],r=a("8bbf"),n=a.n(r),o=a("9ce4"),l=a("e24b"),d=a("1d19"),c=a("907c"),u=a("4ac6"),p=a("da25"),f=a("8e93"),m=a("466b");function h(e){return(e||"").trim().toLowerCase().replace(/\s+/g,"-").replace(/-+/g,"-").replace(/^-+/,"").replace(/-+$/,"")}var b={name:"NameNsDescripiton",components:{LabeledInput:f["a"],LabeledSelect:m["a"]},props:{value:{type:Object,required:!0},mode:{type:String,required:!0},nameNsHidden:{type:Boolean,default:!1},descriptionHidden:{type:Boolean,default:!1},extraColumns:{type:Array,default:()=>[]},nameLabel:{type:String,default:"nameNsDescription.name.label"},nameEditable:{type:Boolean,default:!1},namePlaceholder:{type:String,default:"nameNsDescription.name.placeholder"},nameDisabled:{type:Boolean,default:!1},nameRequired:{type:Boolean,default:!0},nameNormalized:{type:Boolean,default:!0},namespaced:{type:Boolean,default:!0},namespaceFilter:{type:Function,default:null},namespaceMapper:{type:Function,default:null},namespaceType:{type:String,default:c["n"]},namespaceLabel:{type:String,default:"nameNsDescription.namespace.label"},namespacePlaceholder:{type:String,default:"nameNsDescription.namespace.placeholder"},namespaceDisabled:{type:Boolean,default:!1},namespaceNewAllowed:{type:Boolean,default:!1},noDefaultNamespace:{type:Boolean,default:!1},namespacesOverride:{type:Array,default:null},descriptionLabel:{type:String,default:"nameNsDescription.description.label"},descriptionPlaceholder:{type:String,default:"nameNsDescription.description.placeholder"},descriptionDisabled:{type:Boolean,default:!1},nameKey:{type:String,default:null},namespaceKey:{type:String,default:null},descriptionKey:{type:String,default:null},forceNamespace:{type:String,default:null},showSpacer:{type:Boolean,default:!0},horizontal:{type:Boolean,default:!0},rules:{default:()=>({namespace:[],name:[],description:[]}),type:Object},componentTestid:{type:String,default:"name-ns-description"}},data(){const e=this.value,t=e.metadata;let a,s,i;var r;(s=this.nameKey?Object(l["f"])(e,this.nameKey):t.name,this.namespaced&&(this.forceNamespace?(a=this.forceNamespace,this.updateNamespace(a)):a=this.namespaceKey?Object(l["f"])(e,this.namespaceKey):null===t||void 0===t?void 0:t.namespace,a||this.noDefaultNamespace||(a=this.$store.getters["defaultNamespace"],t&&(t.namespace=a))),this.descriptionKey)?i=Object(l["f"])(e,this.descriptionKey):i=null===t||void 0===t||null===(r=t.annotations)||void 0===r?void 0:r[u["e"]];const n=this.$store.getters["currentStore"](),o=this.$store.getters[n+"/schemaFor"](c["n"]);return{namespace:a,name:s,description:i,createNamespace:!1,nsSchema:o}},computed:{...Object(o["a"])(["currentProduct","currentCluster"]),namespaceReallyDisabled(){return!!this.forceNamespace||this.namespaceDisabled||this.mode===p["m"]},nameReallyDisabled(){return this.nameDisabled||this.mode===p["m"]&&!this.nameEditable},namespaces(){const e=this.$store.getters["currentStore"](this.namespaceType),t=this.namespacesOverride||this.$store.getters[e+"/all"](this.namespaceType),a=t.filter(this.namespaceFilter||(e=>{var t;let a=!0;return null!==(t=this.currentProduct)&&void 0!==t&&t.hideSystemResources&&(a=!e.isSystem&&!e.isFleetManaged),this.mode===p["k"]&&(a=a&&!!e.links.update),a})),s=a.map(this.namespaceMapper||(e=>({label:e.nameDisplay,value:e.id}))),i=Object(d["a"])(s,"label");this.forceNamespace&&i.unshift({label:this.forceNamespace,value:this.forceNamespace});const r=[];return this.canCreateNamespace&&r.push({label:this.t("namespace.createNamespace"),value:"",kind:"highlighted"}),r.push({label:"divider",disabled:!0,kind:"divider"},...i),r},isView(){return this.mode===p["q"]},colSpan(){if(!this.horizontal)return"span-8";let e=(this.nameNsHidden?0:2)+(this.descriptionHidden?0:1)+this.extraColumns.length;e=Math.max(2,e);const t=12/e;return"span-"+t},canCreateNamespace(){var e;return((null===(e=this.nsSchema)||void 0===e?void 0:e.collectionMethods)||[]).includes("POST")&&this.currentCluster.canUpdate}},watch:{name(e){this.normalizeName&&(e=h(e)),this.nameKey?Object(l["h"])(this.value,this.nameKey,e):this.$set(this.value.metadata,"name",e),this.$emit("change")},namespace(e){this.updateNamespace(e),this.$emit("change")},description(e){this.descriptionKey?Object(l["h"])(this.value,this.descriptionKey,e):this.value.setAnnotation(u["e"],e),this.$emit("change")}},mounted(){this.$nextTick(()=>{this.$refs.name&&this.$refs.name.focus()})},methods:{updateNamespace(e){this.forceNamespace&&(e=this.forceNamespace),this.namespaced&&this.$emit("isNamespaceNew",!e||this.namespaces&&!this.namespaces.find(t=>t.value===e)),this.namespaceKey?Object(l["h"])(this.value,this.namespaceKey,e):this.value.metadata.namespace=e},changeNameAndNamespace(e){this.name=(e.text||"").toLowerCase(),this.namespace=e.selected},cancelCreateNamespace(e){this.createNamespace=!1,this.$parent.$emit("createNamespace",!1),this.namespace=this.$store.getters["defaultNamespace"]},selectNamespace(e){e&&""!==e.value?(this.createNamespace=!1,this.$parent.$emit("createNamespace",!1),this.$emit("isNamespaceNew",!1)):(this.createNamespace=!0,this.$parent.$emit("createNamespace",!0),this.$emit("isNamespaceNew",!0),n.a.nextTick(()=>this.$refs.namespace.focus()))}}},v=b,y=(a("c226"),a("d802")),g=Object(y["a"])(v,s,i,!1,null,"d96b5c1a",null);t["a"]=g.exports},"48b3":function(e,t,a){var s=a("2230");s.__esModule&&(s=s.default),"string"===typeof s&&(s=[[e.i,s,""]]),s.locals&&(e.exports=s.locals);var i=a("0ed3").default;i("7ab3d44b",s,!0,{sourceMap:!1,shadowMode:!1})},"4a23":function(e,t,a){var s=a("5eaa");t=s(!1),t.push([e.i,'.clearfix[data-v-79936084]:after,.clearfix[data-v-79936084]:before{content:" ";display:table}.clearfix[data-v-79936084]:after{clear:both}.list-unstyled[data-v-79936084]{margin:0;padding:0;list-style-type:none}.no-select[data-v-79936084]{-webkit-user-select:none;-moz-user-select:none;user-select:none}.no-resize[data-v-79936084]{resize:none}.hand[data-v-79936084]{cursor:pointer;cursor:hand}.fixed[data-v-79936084]{table-layout:fixed}.clip[data-v-79936084]{text-overflow:ellipsis;overflow:hidden;white-space:nowrap}.clip[data-v-79936084],.force-wrap[data-v-79936084]{word-wrap:break-word}.force-wrap[data-v-79936084]{white-space:normal}.bordered-section[data-v-79936084]{border-bottom:1px solid var(--border);margin-bottom:20px;padding-bottom:20px}.section-divider[data-v-79936084]{margin-bottom:20px;margin-top:20px}.toggle-container[data-v-79936084]{align-items:center;display:flex}.toggle-container span[data-v-79936084]:first-child{padding-right:6px}.toggle-container span[data-v-79936084]:last-child{padding-left:6px}.switch[data-v-79936084]{position:relative;display:inline-block;width:48px;height:24px}.switch input[data-v-79936084]{opacity:0;width:0;height:0}.slider[data-v-79936084]{cursor:pointer;top:0;left:0;right:0;bottom:0;background-color:var(--checkbox-disabled-bg)}.slider[data-v-79936084],.slider[data-v-79936084]:before{position:absolute;transition:.4s}.slider[data-v-79936084]:before{content:"";height:16px;width:16px;left:4px;bottom:4px;background-color:var(--checkbox-tick)}input:checked+.slider[data-v-79936084]{background-color:var(--checkbox-ticked-bg)}input:focus+.slider[data-v-79936084]{box-shadow:0 0 1px var(--checkbox-ticked-bg)}input:checked+.slider[data-v-79936084]:before{transform:translateX(24px)}.slider.round[data-v-79936084]{border-radius:34px}.slider.round[data-v-79936084]:before{border-radius:50%}',""]),e.exports=t},"4df2":function(e,t,a){var s=a("5eaa");t=s(!1),t.push([e.i,'.clearfix:after,.clearfix:before{content:" ";display:table}.clearfix:after{clear:both}.list-unstyled{margin:0;padding:0;list-style-type:none}.no-select{-webkit-user-select:none;-moz-user-select:none;user-select:none}.no-resize{resize:none}.hand{cursor:pointer;cursor:hand}.fixed{table-layout:fixed}.clip{text-overflow:ellipsis;overflow:hidden;white-space:nowrap}.clip,.force-wrap{word-wrap:break-word}.force-wrap{white-space:normal}.bordered-section{border-bottom:1px solid var(--border);margin-bottom:20px;padding-bottom:20px}.section-divider{margin-bottom:20px;margin-top:20px}.buttons{display:grid;grid-template-areas:"left right";grid-template-columns:"min-content auto"}.buttons .left{grid-area:left;text-align:left}.buttons .left .btn,.buttons .left button{margin:0 1.75% 0 0}.buttons .right{grid-area:right;text-align:right}.buttons .right .btn,.buttons .right button{margin:0 0 0 1.75%}',""]),e.exports=t},"4f34":function(e,t,a){"use strict";a("9b9c")},5175:function(e,t,a){var s=a("5eaa");t=s(!1),t.push([e.i,'.clearfix[data-v-35972161]:after,.clearfix[data-v-35972161]:before{content:" ";display:table}.clearfix[data-v-35972161]:after{clear:both}.list-unstyled[data-v-35972161]{margin:0;padding:0;list-style-type:none}.no-select[data-v-35972161]{-webkit-user-select:none;-moz-user-select:none;user-select:none}.no-resize[data-v-35972161]{resize:none}.hand[data-v-35972161]{cursor:pointer;cursor:hand}.fixed[data-v-35972161]{table-layout:fixed}.clip[data-v-35972161]{text-overflow:ellipsis;overflow:hidden;white-space:nowrap}.clip[data-v-35972161],.force-wrap[data-v-35972161]{word-wrap:break-word}.force-wrap[data-v-35972161]{white-space:normal}.bordered-section[data-v-35972161]{border-bottom:1px solid var(--border);margin-bottom:20px;padding-bottom:20px}.section-divider[data-v-35972161]{margin-bottom:20px;margin-top:20px}.tabs[data-v-35972161]{list-style-type:none;margin:0;padding:0}.tabs.horizontal[data-v-35972161]{border:solid thin var(--border);border-bottom:0;display:flex;flex-direction:row}.tabs.horizontal+.tab-container[data-v-35972161]{border:solid thin var(--border)}.tabs.horizontal .tab.active[data-v-35972161]{border-bottom:solid 2px var(--primary)}.tabs[data-v-35972161]:focus{outline:none}.tabs:focus .tab.active a span[data-v-35972161]{text-decoration:underline}.tabs .tab[data-v-35972161]{position:relative;float:left;padding:0 8px 0 0;cursor:pointer}.tabs .tab A[data-v-35972161]{display:flex;align-items:center;padding:10px 15px}.tabs .tab A[data-v-35972161]:hover{text-decoration:none}.tabs .tab A:hover span[data-v-35972161]{text-decoration:underline}.tabs .tab .conditions-alert-icon[data-v-35972161]{color:var(--error);padding-left:4px}.tabs .tab[data-v-35972161]:last-child{padding-right:0}.tabs .tab.active>A[data-v-35972161]{color:var(--primary);text-decoration:none}.tabs .tab.error A>i[data-v-35972161]{color:var(--error)}.tabs .tab .tab-badge[data-v-35972161]{margin-left:5px;background-color:var(--link);color:#fff;border-radius:6px;padding:1px 7px;font-size:11px}.tab-container[data-v-35972161]{padding:20px}.tab-container.no-content[data-v-35972161]{padding:0 0 3px 0}.tab-container--flat[data-v-35972161]{padding:0}.tab-container--flat .side-tabs[data-v-35972161]{box-shadow:unset}.tabs-only[data-v-35972161]{margin-bottom:20px}.tabs-only .tab-container[data-v-35972161]{display:none}.tabs-only .tabs[data-v-35972161]{border:0;border-bottom:2px solid var(--border)}.side-tabs[data-v-35972161]{display:flex;box-shadow:0 0 20px var(--shadow);border-radius:calc(var(--border-radius)*2);background-color:var(--tabbed-sidebar-bg)}.side-tabs .tab-container[data-v-35972161]{padding:20px}.side-tabs .tabs[data-v-35972161]{width:200px;min-width:200px;display:flex;flex:1 0;flex-direction:column}.side-tabs .tabs .tab[data-v-35972161]{width:100%;border-left:5px solid transparent}.side-tabs .tabs .tab.toggle A[data-v-35972161],.side-tabs .tabs .tab A[data-v-35972161]{color:var(--primary)}.side-tabs .tabs .tab.active[data-v-35972161]{background-color:var(--body-bg);border-left:solid 5px var(--primary)}.side-tabs .tabs .tab.active A[data-v-35972161]{color:var(--input-label)}.side-tabs .tabs .tab.disabled[data-v-35972161]{background-color:var(--disabled-bg)}.side-tabs .tabs .tab.disabled A[data-v-35972161]{color:var(--disabled-text);text-decoration:none}.side-tabs .tabs .tab-list-footer[data-v-35972161]{list-style:none;padding:0;margin-top:auto}.side-tabs .tabs .tab-list-footer li[data-v-35972161]{display:flex;flex:1}.side-tabs .tabs .tab-list-footer li .btn[data-v-35972161]{flex:1 1;display:flex;justify-content:center}.side-tabs .tabs .tab-list-footer li button[data-v-35972161]:first-of-type{border-top:solid 1px var(--border);border-right:solid 1px var(--border);border-top-right-radius:0}.side-tabs .tabs .tab-list-footer li button[data-v-35972161]:last-of-type{border-top:solid 1px var(--border);border-top-left-radius:0}.side-tabs .tab-container[data-v-35972161]{width:calc(100% - 200px);flex-grow:1;background-color:var(--body-bg)}',""]),e.exports=t},"53b2":function(e,t,a){"use strict";a("0363")},"650b":function(e,t,a){var s=a("cd2d");s.__esModule&&(s=s.default),"string"===typeof s&&(s=[[e.i,s,""]]),s.locals&&(e.exports=s.locals);var i=a("0ed3").default;i("cb13623c",s,!0,{sourceMap:!1,shadowMode:!1})},"75db":function(e,t,a){"use strict";a("650b")},"7d6c":function(e,t,a){var s=a("9ef5"),i=1/0,r=17976931348623157e292;function n(e){if(!e)return 0===e?e:0;if(e=s(e),e===i||e===-i){var t=e<0?-1:1;return t*r}return e===e?e:0}e.exports=n},8567:function(e,t,a){"use strict";a("9d58")},"8b2c":function(e,t,a){"use strict";var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.isView?e._e():a("button",{staticClass:"file-selector btn",attrs:{disabled:e.disabled,type:"button"},on:{click:e.selectFile}},[a("span",[e._v(e._s(e.label))]),a("input",{ref:"uploader",staticClass:"hide",attrs:{type:"file",multiple:e.multiple,webkitdirectory:e.directory},on:{change:e.fileChange}})])},i=[],r=a("da25");a("e24b");var n={props:{label:{type:String,required:!0},mode:{type:String,default:r["m"]},disabled:{type:Boolean,default:!1},includeFileName:{type:Boolean,default:!1},showGrowlError:{type:Boolean,default:!0},multiple:{type:Boolean,default:!1},byteLimit:{type:Number,default:0},readAsDataUrl:{type:Boolean,default:!1},directory:{type:Boolean,default:!1},rawData:{type:Boolean,default:!1}},computed:{isView(){return this.mode===r["q"]}},methods:{selectFile(){this.$refs.uploader.value=null,this.$refs.uploader.click()},async fileChange(e){const t=e.target,a=Array.from(t.files||[]);if(this.byteLimit)for(const i of a)if(i.size>this.byteLimit)return void this.$emit("error",`${i.name} exceeds the file size limit of ${this.byteLimit} bytes`);if(this.rawData){const e=this.multiple||1!==a.length?a:a[0];this.$emit("selected",e)}else try{const e=a.map(this.getFileContents),t=await Promise.all(e),s=this.multiple||1!==t.length?t:t[0];this.$emit("selected",s)}catch(s){this.$emit("error",s),this.showGrowlError&&this.$store.dispatch("growl/fromError",{title:"Error reading file",error:s},{root:!0})}},getFileContents(e){return new Promise((t,a)=>{const s=new FileReader;s.onload=a=>{const s=a.target.result,i=e.name,r=this.includeFileName?{value:s,name:i}:s;t(r)},s.onerror=e=>{a(e)},this.readAsDataUrl?s.readAsDataURL(e):s.readAsText(e)})}}},o=n,l=a("d802"),d=Object(l["a"])(o,s,i,!1,null,null,null);t["a"]=d.exports},"8bab":function(e,t,a){"use strict";a("ef48")},"8fd6":function(e,t,a){var s=a("5eaa");t=s(!1),t.push([e.i,'.clearfix[data-v-1f613982]:after,.clearfix[data-v-1f613982]:before{content:" ";display:table}.clearfix[data-v-1f613982]:after{clear:both}.list-unstyled[data-v-1f613982]{margin:0;padding:0;list-style-type:none}.no-select[data-v-1f613982]{-webkit-user-select:none;-moz-user-select:none;user-select:none}.no-resize[data-v-1f613982]{resize:none}.hand[data-v-1f613982]{cursor:pointer;cursor:hand}.fixed[data-v-1f613982]{table-layout:fixed}.clip[data-v-1f613982]{text-overflow:ellipsis;overflow:hidden;white-space:nowrap}.clip[data-v-1f613982],.force-wrap[data-v-1f613982]{word-wrap:break-word}.force-wrap[data-v-1f613982]{white-space:normal}.bordered-section[data-v-1f613982]{border-bottom:1px solid var(--border);margin-bottom:20px;padding-bottom:20px}.section-divider[data-v-1f613982]{margin-bottom:20px;margin-top:20px}.flex-content[data-v-1f613982]{display:flex;flex-direction:column;flex-grow:1}',""]),e.exports=t},9343:function(e,t,a){var s=a("5eaa");t=s(!1),t.push([e.i,'.clearfix[data-v-7090e1b4]:after,.clearfix[data-v-7090e1b4]:before{content:" ";display:table}.clearfix[data-v-7090e1b4]:after{clear:both}.list-unstyled[data-v-7090e1b4]{margin:0;padding:0;list-style-type:none}.no-select[data-v-7090e1b4]{-webkit-user-select:none;-moz-user-select:none;user-select:none}.no-resize[data-v-7090e1b4]{resize:none}.hand[data-v-7090e1b4]{cursor:pointer;cursor:hand}.fixed[data-v-7090e1b4]{table-layout:fixed}.clip[data-v-7090e1b4]{text-overflow:ellipsis;overflow:hidden;white-space:nowrap}.clip[data-v-7090e1b4],.force-wrap[data-v-7090e1b4]{word-wrap:break-word}.force-wrap[data-v-7090e1b4]{white-space:normal}.bordered-section[data-v-7090e1b4]{border-bottom:1px solid var(--border);margin-bottom:20px;padding-bottom:20px}.section-divider[data-v-7090e1b4]{margin-bottom:20px;margin-top:20px}.confirm-modal .btn[data-v-7090e1b4]{margin:0 10px}.confirm-modal .v--modal-box[data-v-7090e1b4]{background-color:var(--default);box-shadow:none;min-height:200px}.confirm-modal .v--modal-box .body[data-v-7090e1b4]{min-height:75px;padding:10px 0 0 15px}.confirm-modal .v--modal-box .body p[data-v-7090e1b4]{margin-top:10px}.confirm-modal .v--modal-box .header[data-v-7090e1b4]{background-color:var(--error);padding:15px 0 0 15px;height:50px}.confirm-modal .v--modal-box .header h4[data-v-7090e1b4]{color:#fff}.confirm-modal .v--modal-box .footer[data-v-7090e1b4]{border-top:1px solid var(--border);text-align:center;padding:10px 0 0 15px;height:60px}',""]),e.exports=t},"93a7":function(e,t,a){var s=a("aadf");s.__esModule&&(s=s.default),"string"===typeof s&&(s=[[e.i,s,""]]),s.locals&&(e.exports=s.locals);var i=a("0ed3").default;i("9b94ab42",s,!0,{sourceMap:!1,shadowMode:!1})},"9b66":function(e,t,a){var s=a("7d6c");function i(e){var t=s(e),a=t%1;return t===t?a?t-a:t:0}e.exports=i},"9b9c":function(e,t,a){var s=a("2f17");s.__esModule&&(s=s.default),"string"===typeof s&&(s=[[e.i,s,""]]),s.locals&&(e.exports=s.locals);var i=a("0ed3").default;i("67119d70",s,!0,{sourceMap:!1,shadowMode:!1})},"9d58":function(e,t,a){var s=a("4df2");s.__esModule&&(s=s.default),"string"===typeof s&&(s=[[e.i,s,""]]),s.locals&&(e.exports=s.locals);var i=a("0ed3").default;i("12b0f770",s,!0,{sourceMap:!1,shadowMode:!1})},"9eb5":function(e,t,a){var s=a("5eaa");t=s(!1),t.push([e.i,'.clearfix[data-v-d96b5c1a]:after,.clearfix[data-v-d96b5c1a]:before{content:" ";display:table}.clearfix[data-v-d96b5c1a]:after{clear:both}.list-unstyled[data-v-d96b5c1a]{margin:0;padding:0;list-style-type:none}.no-select[data-v-d96b5c1a]{-webkit-user-select:none;-moz-user-select:none;user-select:none}.no-resize[data-v-d96b5c1a]{resize:none}.hand[data-v-d96b5c1a]{cursor:pointer;cursor:hand}.fixed[data-v-d96b5c1a]{table-layout:fixed}.clip[data-v-d96b5c1a]{text-overflow:ellipsis;overflow:hidden;white-space:nowrap}.clip[data-v-d96b5c1a],.force-wrap[data-v-d96b5c1a]{word-wrap:break-word}.force-wrap[data-v-d96b5c1a]{white-space:normal}.bordered-section[data-v-d96b5c1a]{border-bottom:1px solid var(--border);margin-bottom:20px;padding-bottom:20px}.section-divider[data-v-d96b5c1a]{margin-bottom:20px;margin-top:20px}button[data-v-d96b5c1a]{all:unset;height:0;position:relative;top:-35px;float:right;margin-right:7px;cursor:pointer}button .align-value[data-v-d96b5c1a]{padding-top:7px}.row.name-ns-description[data-v-d96b5c1a]{max-height:61px}.row .namespace-select[data-v-d96b5c1a]  .labeled-select{min-width:40%}.row .namespace-select[data-v-d96b5c1a]  .labeled-select .v-select.inline.vs--single{padding-bottom:2px}.row.flip-direction[data-v-d96b5c1a]{flex-direction:column}.row.flip-direction.name-ns-description[data-v-d96b5c1a]{max-height:none}.row.flip-direction>div>*[data-v-d96b5c1a]{margin-bottom:20px}',""]),e.exports=t},"9efe":function(e,t,a){var s=a("2162");s.__esModule&&(s=s.default),"string"===typeof s&&(s=[[e.i,s,""]]),s.locals&&(e.exports=s.locals);var i=a("0ed3").default;i("73f5314e",s,!0,{sourceMap:!1,shadowMode:!1})},a1d8:function(e,t){function a(e){return e&&e.length?e[0]:void 0}e.exports=a},a232:function(e,t,a){"use strict";var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"key-value"},[e.title||e.$slots.title?a("div",{staticClass:"clearfix"},[e._t("title",(function(){return[a("h3",[e._v(" "+e._s(e.title)+" "),e.titleProtip?a("i",{directives:[{name:"tooltip",rawName:"v-tooltip",value:e.titleProtip,expression:"titleProtip"}],staticClass:"icon icon-info"}):e._e()])]}))],2):e._e(),a("div",{staticClass:"kv-container",style:e.containerStyle},[e.rows.length||e.isView?[a("label",{staticClass:"text-label"},[e._v(" "+e._s(e.keyLabel)+" "),e.protip&&!e.isView&&e.addAllowed?a("i",{directives:[{name:"tooltip",rawName:"v-tooltip",value:e.protip,expression:"protip"}],staticClass:"icon icon-info"}):e._e()]),a("label",{staticClass:"text-label"},[e._v(" "+e._s(e.valueLabel)+" ")]),e._l(e.extraColumns,(function(t){return a("label",{key:t},[e._t("label:"+t,(function(){return[e._v(e._s(t))]}))],2)})),e.canRemove?e._t("remove",(function(){return[a("span")]})):e._e()]:e._e(),!e.rows.length&&e.isView?[a("div",{staticClass:"kv-item key text-muted"},[e._v(" — ")]),a("div",{staticClass:"kv-item key text-muted"},[e._v(" — ")])]:e._l(e.filteredRows,(function(t,s){return[a("div",{key:s+"key",staticClass:"kv-item key"},[e._t("key",(function(){return[e.keyOptions?a("Select",{ref:"key",refInFor:!0,attrs:{searchable:!0,disabled:e.isProtected(t.key),clearable:!1,taggable:e.keyTaggable,options:e.calculateOptions(t[e.keyName])},on:{input:e.queueUpdate},model:{value:t[e.keyName],callback:function(a){e.$set(t,e.keyName,a)},expression:"row[keyName]"}}):a("input",{directives:[{name:"model",rawName:"v-model",value:t[e.keyName],expression:"row[keyName]"}],ref:"key",refInFor:!0,attrs:{disabled:e.isView||!e.keyEditable||e.isProtected(t.key),placeholder:e.keyPlaceholder},domProps:{value:t[e.keyName]},on:{input:[function(a){a.target.composing||e.$set(t,e.keyName,a.target.value)},e.queueUpdate],paste:function(t){return e.onPaste(s,t)}}})]}),{row:t,mode:e.mode,keyName:e.keyName,valueName:e.valueName,queueUpdate:e.queueUpdate})],2),a("div",{key:s+"value",staticClass:"kv-item value"},[e._t("value",(function(){return[t.supported?t.binary?a("div",[e._v(" "+e._s(e.binaryTextSize(t.value))+" ")]):e.valueMultiline?a("TextAreaAutoGrow",{class:{conceal:e.valueConcealed},attrs:{disabled:e.isProtected(t.key),mode:e.mode,placeholder:e.valuePlaceholder,"min-height":40,spellcheck:!1},on:{input:e.queueUpdate},model:{value:t[e.valueName],callback:function(a){e.$set(t,e.valueName,a)},expression:"row[valueName]"}}):"checkbox"===(e.valueConcealed?"password":"text")?a("input",{directives:[{name:"model",rawName:"v-model",value:t[e.valueName],expression:"row[valueName]"}],attrs:{disabled:e.isView||e.isProtected(t.key),placeholder:e.valuePlaceholder,autocorrect:"off",autocapitalize:"off",spellcheck:"false",type:"checkbox"},domProps:{checked:Array.isArray(t[e.valueName])?e._i(t[e.valueName],null)>-1:t[e.valueName]},on:{input:e.queueUpdate,change:function(a){var s=t[e.valueName],i=a.target,r=!!i.checked;if(Array.isArray(s)){var n=null,o=e._i(s,n);i.checked?o<0&&e.$set(t,e.valueName,s.concat([n])):o>-1&&e.$set(t,e.valueName,s.slice(0,o).concat(s.slice(o+1)))}else e.$set(t,e.valueName,r)}}}):"radio"===(e.valueConcealed?"password":"text")?a("input",{directives:[{name:"model",rawName:"v-model",value:t[e.valueName],expression:"row[valueName]"}],attrs:{disabled:e.isView||e.isProtected(t.key),placeholder:e.valuePlaceholder,autocorrect:"off",autocapitalize:"off",spellcheck:"false",type:"radio"},domProps:{checked:e._q(t[e.valueName],null)},on:{input:e.queueUpdate,change:function(a){return e.$set(t,e.valueName,null)}}}):a("input",{directives:[{name:"model",rawName:"v-model",value:t[e.valueName],expression:"row[valueName]"}],attrs:{disabled:e.isView||e.isProtected(t.key),placeholder:e.valuePlaceholder,autocorrect:"off",autocapitalize:"off",spellcheck:"false",type:e.valueConcealed?"password":"text"},domProps:{value:t[e.valueName]},on:{input:[function(a){a.target.composing||e.$set(t,e.valueName,a.target.value)},e.queueUpdate]}}):a("div",[e._v(" "+e._s(e.t("detailText.unsupported",null,!0))+" ")])]}),{row:t,mode:e.mode,keyName:e.keyName,valueName:e.valueName,queueUpdate:e.queueUpdate})],2),e._l(e.extraColumns,(function(i){return a("div",{key:s+i,staticClass:"kv-item extra"},[e._t("col:"+i,null,{row:t,queueUpdate:e.queueUpdate})],2)})),e.canRemove?a("div",{key:s,staticClass:"kv-item remove",attrs:{"data-testid":"remove-column-"+s}},[e._t("removeButton",(function(){return[a("button",{staticClass:"btn role-link",attrs:{type:"button",disabled:e.isView||e.isProtected(t.key)},on:{click:function(t){return e.remove(s)}}},[e._v(" "+e._s(e.removeLabel||e.t("generic.remove"))+" ")])]}),{remove:e.remove,row:t,i:s})],2):e._e()]}))],2),!e.addAllowed&&!e.readAllowed||e.isView?e._e():a("div",{staticClass:"footer mt-20"},[e._t("add",(function(){return[e.addAllowed?a("button",{staticClass:"btn role-tertiary add",attrs:{type:"button",disabled:e.loading||e.keyOptions&&0===e.filteredKeyOptions.length},on:{click:function(t){return e.add()}}},[e.loading?a("i",{staticClass:"mr-5 icon icon-spinner icon-spin icon-lg"}):e._e(),e._v(" "+e._s(e.addLabel)+" ")]):e._e(),e.readAllowed?a("FileSelector",{staticClass:"role-tertiary",attrs:{disabled:e.isView,label:e.t("generic.readFromFile"),"include-file-name":!0},on:{selected:e.onFileSelected}}):e._e()]}),{add:e.add})],2)])},i=[],r=a("44db"),n=a.n(r),o=a("1d19"),l=a("bddd"),d=a("0f81"),c=a("c87d"),u=a("8275"),p=a("e24b"),f=a("47ab"),m=a("8b2c"),h=a("da25"),b=a("2cb5"),v={name:"KeyValue",components:{Select:f["a"],TextAreaAutoGrow:u["a"],FileSelector:m["a"]},props:{value:{type:[Array,Object],default:null},defaultValue:{type:[Array,Object],default:null},binaryValueKeys:{type:[Array,Object],default:null},mode:{type:String,default:h["m"]},asMap:{type:Boolean,default:!0},initialEmptyRow:{type:Boolean,default:!1},title:{type:String,default:""},titleProtip:{type:String,default:""},protip:{type:[String,Boolean],default(){return this.$store.getters["i18n/t"]("keyValue.protip",null,!0)}},keyName:{type:String,default:"key"},keyLabel:{type:String,default(){return this.$store.getters["i18n/t"]("generic.key")}},keyEditable:{type:Boolean,default:!0},keyOptions:{type:Array,default:null},keyTaggable:{type:Boolean,default:!0},keyOptionUnique:{type:Boolean,default:!1},keyPlaceholder:{type:String,default(){return this.$store.getters["i18n/t"]("keyValue.keyPlaceholder")}},protectedKeys:{type:Array,default:()=>[]},toggleFilter:{type:Boolean,default:!1},separatorLabel:{type:String,default:""},valueName:{type:String,default:"value"},valueLabel:{type:String,default(){return this.$store.getters["i18n/t"]("generic.value")}},valuePlaceholder:{type:String,default(){return this.$store.getters["i18n/t"]("keyValue.valuePlaceholder")}},valueCanBeEmpty:{type:Boolean,default:!1},displayValuesAsBinary:{type:Boolean,default:!1},valueMultiline:{type:Boolean,default:!0},valueTrim:{type:Boolean,default:!0},handleBase64:{type:Boolean,default:!1},valueConcealed:{type:Boolean,default:!1},supported:{type:Function,default:e=>!0},preserveKeys:{type:Array,default:null},extraColumns:{type:Array,default:()=>[]},defaultAddData:{type:Object,default:()=>{}},addLabel:{type:String,default(){return this.$store.getters["i18n/t"]("generic.add")}},addIcon:{type:String,default:"icon-plus"},addAllowed:{type:Boolean,default:!0},readLabel:{type:String,default(){return this.$store.getters["i18n/t"]("generic.readFromFile")}},readIcon:{type:String,default:"icon-upload"},readAllowed:{type:Boolean,default:!0},readAccept:{type:String,default:"*"},readMultiple:{type:Boolean,default:!1},removeLabel:{type:String,default:""},removeIcon:{type:String,default:"icon-minus"},removeAllowed:{type:Boolean,default:!0},fileModifier:{type:Function,default:(e,t)=>({name:e,value:t})},parserSeparators:{type:Array,default:()=>[": ","="]},loading:{default:!1,type:Boolean},parseLinesFromFile:{default:!1,type:Boolean}},data(){const e=this.getRows(this.value);return{rows:e}},computed:{isView(){return this.mode===h["q"]},containerStyle(){const e=this.canRemove?" 50px":"",t=2+this.extraColumns.length;return`grid-template-columns: repeat(${t}, 1fr)${e};`},usedKeyOptions(){return this.rows.map(e=>e[this.keyName])},filteredKeyOptions(){return this.keyOptionUnique?this.keyOptions.filter(e=>!this.usedKeyOptions.includes(e.value)):this.keyOptions},canRemove(){return!this.isView&&this.removeAllowed},filteredRows(){return this.rows.filter(e=>!(this.isProtected(e.key)&&!this.toggleFilter))}},created(){this.queueUpdate=n()(this.update,500)},watch:{defaultValue(e){Array.isArray(e)&&(this.rows=this.getRows(e),this.$emit("input",e))}},methods:{isProtected(e){return this.protectedKeys&&this.protectedKeys.includes(e)},getRows(e){const t=[];if(this.asMap){const a=e||{};Object.keys(a).forEach(e=>{let s=a[e];const i=Object(d["a"])(a[e]),r=Object(b["a"])(i);this.handleBase64&&r&&(s=Object(d["a"])(s)),t.push({key:e,value:s,binary:this.displayValuesAsBinary||this.handleBase64&&!r,canEncode:this.handleBase64&&r,supported:!0})})}else{const s=e||[];for(const e of s){var a;let s=e[this.valueName]||"";const i=Object(d["a"])(e[this.valueName]),r=Object(b["a"])(i);this.handleBase64&&r&&(s=Object(d["a"])(s));const n={[this.keyName]:e[this.keyName]||"",[this.valueName]:s,binary:this.displayValuesAsBinary||this.handleBase64&&!r,canEncode:this.handleBase64&&r,supported:this.supported(e)};null===(a=this.preserveKeys)||void 0===a||a.map(t=>{"undefined"!==typeof e[t]&&(n[t]=e[t])}),t.push(n)}}return t&&!t.length&&this.initialEmptyRow&&t.push({[this.keyName]:"",[this.valueName]:"",binary:!1,canEncode:this.handleBase64,supported:!0}),t},add(e="",t=""){const a={...this.defaultAddData,[this.keyName]:e,[this.valueName]:t};a.binary=!1,a.canEncode=this.handleBase64,a.supported=!0,this.rows.push(a),this.queueUpdate(),this.$nextTick(()=>{if(this.$refs.key){const e=this.$refs.key,t=e[e.length-1];t.focus()}else this.$emit("focusKey")})},remove(e){Object(l["h"])(this.rows,e),this.queueUpdate()},removeEmptyRows(){const e=this.rows.filter(e=>e.value.length||e.key.length);this.$set(this,"rows",e)},onFileSelected(e){const{name:t,value:a}=this.fileModifier(e.name,e.value);if(this.parseLinesFromFile){const e=a.split("\n");e.forEach(e=>{if(e.length){const[t,a]=e.split("=");this.add(t,a)}}),e.length>0&&this.removeEmptyRows()}else this.add(t,a,this.displayValuesAsBinary)},download(e,t){const a=this.rows[e],s=a[this.keyName],i=a[this.valueName];Object(c["a"])(s,i,"application/octet-stream")},update(){let e;if(this.asMap){e={};const t=this.keyName,a=this.valueName;for(const s of this.rows){let i=s[a]||"";const r=(s[t]||"").trim();i&&"object"===Object(o["c"])(i)?e[r]=JSON.parse(JSON.stringify(i)):(i=i||"",this.valueTrim&&Object(b["a"])(i)&&(i=i.trim()),s.canEncode&&(i=Object(d["b"])(i)),r&&(i||this.valueCanBeEmpty)&&(e[r]=i))}}else{const t=this.preserveKeys||[];Object(l["i"])(t,this.keyName),Object(l["i"])(t,this.valueName),e=this.rows.map(e=>{let a=e[this.valueName];e.canEncode&&(a=Object(d["b"])(a));const s={[this.keyName]:e[this.keyName],[this.valueName]:a};for(const i of t)"undefined"!==typeof e[i]&&(s[i]=e[i]);return s})}this.$emit("input",e)},onPaste(e,t,a){const s=t.clipboardData.getData("text/plain"),i=s.split("\n"),r=i.map(e=>{const t=!e.includes(":")||e.indexOf("=")<e.indexOf(":")&&e.includes(":")?"=":":";return e.split(t)});if(0===r.length||1===r.length&&r[0].length<2)return;t.preventDefault();const n=r.map(e=>({[this.keyName]:(e[0]||"").trim(),[this.valueName]:(e[1]||"").trim(),supported:!0,canEncode:this.handleBase64,binary:this.displayValuesAsBinary}));this.rows.splice(e,1,...n),this.queueUpdate()},calculateOptions(e){const t=this.keyOptions.find(t=>t.value===e);return t?[t,...this.filteredKeyOptions]:this.filteredKeyOptions},binaryTextSize(e){const t=this.handleBase64?Object(d["a"])(e):e,a=e.length?Object(d["c"])(t):0;return this.t("detailText.binary",{n:a},!0)},get:p["f"]}},y=v,g=(a("3695"),a("d802")),x=Object(g["a"])(y,s,i,!1,null,null,null);t["a"]=x.exports},a369:function(e,t,a){"use strict";var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("MembershipEditor",e._g(e._b({attrs:{"add-member-dialog-name":"AddClusterMemberDialog","default-binding-handler":e.defaultBindingHandler,type:e.NORMAN.CLUSTER_ROLE_TEMPLATE_BINDING,mode:e.mode,"parent-key":"clusterId","parent-id":e.parentId}},"MembershipEditor",e.$attrs,!1),e.$listeners))},i=[],r=a("907c"),n=a("da25"),o=function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.$fetchState.pending?a("Loading"):a("ArrayList",{attrs:{mode:e.mode,"show-header":!0},scopedSlots:e._u([{key:"column-headers",fn:function(){return[a("div",{staticClass:"box mb-0"},[a("div",{staticClass:"column-headers row"},[a("div",{staticClass:"col span-6"},[a("label",{staticClass:"text-label"},[e._v(e._s(e.t("membershipEditor.user")))])]),a("div",{staticClass:"col span-6"},[a("label",{staticClass:"text-label"},[e._v(e._s(e.t("membershipEditor.role")))])])])])]},proxy:!0},{key:"columns",fn:function(t){var s=t.row;return[a("div",{staticClass:"columns row"},[a("div",{staticClass:"col span-6"},[a("Principal",{key:s.value.principalId,attrs:{value:s.value.principalId}})],1),a("div",{staticClass:"col span-6 role"},[e._v(" "+e._s(s.value.roleDisplay)+" ")])])]}},{key:"add",fn:function(){return[a("button",{staticClass:"btn role-primary mt-10",attrs:{type:"button"},on:{click:e.addMember}},[e._v(" "+e._s(e.t("generic.add"))+" ")])]},proxy:!0},{key:"remove-button",fn:function(t){var s=t.remove,i=t.i;return[e.isCreate&&0===i||e.isView?a("span"):a("button",{staticClass:"btn role-link",attrs:{type:"button",disabled:e.isView},on:{click:s}},[e._v(" "+e._s(e.t("generic.remove"))+" ")])]}}]),model:{value:e.bindings,callback:function(t){e.bindings=t},expression:"bindings"}})},l=[],d=a("977f"),c=a("15ca"),u=a("e24b");function p(e){return(null===e||void 0===e?void 0:e.replace(":","/"))||e}var f={components:{ArrayList:d["a"],Loading:c["a"]},props:{addMemberDialogName:{type:String,required:!0},parentKey:{type:String,required:!0},parentId:{type:String,default:null},mode:{type:String,required:!0},type:{type:String,required:!0},defaultBindingHandler:{type:Function,default:null},modalSticky:{type:Boolean,default:!1}},async fetch(){const e=[this.schema?this.$store.dispatch("rancher/findAll",{type:this.type,opt:{force:!0}}):[],this.$store.dispatch("rancher/findAll",{type:r["q"].PRINCIPAL}),this.$store.dispatch("management/findAll",{type:r["l"].ROLE_TEMPLATE}),this.$store.dispatch("management/findAll",{type:r["l"].USER})],[t]=await Promise.all(e),a=t.filter(e=>p(Object(u["f"])(e,this.parentKey))===p(this.parentId));if(this.$set(this,"lastSavedBindings",[...a]),this.mode===n["k"]&&0===a.length&&this.defaultBindingHandler){const e=await this.defaultBindingHandler();e.isDefaultBinding=!0,a.push(e)}this.$set(this,"bindings",a)},data(){return{schema:this.$store.getters["rancher/schemaFor"](this.type),bindings:[],lastSavedBindings:[]}},computed:{newBindings(){return this.bindings.filter(e=>!e.id&&!this.lastSavedBindings.includes(e)&&!e.isDefaultBinding)},removedBindings(){return this.lastSavedBindings.filter(e=>!this.bindings.includes(e))},membershipUpdate(){const e=this.newBindings,t=this.removedBindings;return{newBindings:this.newBindings,removedBindings:this.removedBindings,save:a=>{const s=e.map(e=>(Object(u["h"])(e,this.parentKey,a),e.save())),i=t.map(e=>e.remove());return Promise.all([...s,...i])}}},isCreate(){return this.mode===n["k"]},isView(){return this.mode===n["q"]}},watch:{membershipUpdate:{deep:!0,handler(){this.$emit("membership-update",this.membershipUpdate)}}},methods:{addMember(){this.$store.dispatch("cluster/promptModal",{component:this.addMemberDialogName,componentProps:{onAdd:this.onAddMember},modalSticky:this.modalSticky})},onAddMember(e){this.$set(this,"bindings",[...this.bindings,...e])}}},m=f,h=(a("75db"),a("d802")),b=Object(h["a"])(m,o,l,!1,null,"352c04fb",null),v=b.exports;var y={components:{MembershipEditor:v},props:{parentId:{type:String,default:null},mode:{type:String,required:!0}},data(){return{NORMAN:r["q"],bindings:[],lastSavedBindings:[]}},computed:{isCreate(){return this.mode===n["k"]},isView(){return this.mode===n["q"]}},methods:{defaultBindingHandler(){return this.$store.dispatch("rancher/create",{type:r["q"].CLUSTER_ROLE_TEMPLATE_BINDING,roleTemplateId:"cluster-owner",userPrincipalId:this.$store.getters["auth/principalId"]})}}},g=y,x=Object(h["a"])(g,s,i,!1,null,null,null);t["a"]=x.exports},a5bd:function(e,t,a){"use strict";a("48b3")},aadf:function(e,t,a){var s=a("5eaa");t=s(!1),t.push([e.i,'.clearfix[data-v-a0de3206]:after,.clearfix[data-v-a0de3206]:before{content:" ";display:table}.clearfix[data-v-a0de3206]:after{clear:both}.list-unstyled[data-v-a0de3206]{margin:0;padding:0;list-style-type:none}.no-select[data-v-a0de3206]{-webkit-user-select:none;-moz-user-select:none;user-select:none}.no-resize[data-v-a0de3206]{resize:none}.hand[data-v-a0de3206]{cursor:pointer;cursor:hand}.fixed[data-v-a0de3206]{table-layout:fixed}.clip[data-v-a0de3206]{text-overflow:ellipsis;overflow:hidden;white-space:nowrap}.clip[data-v-a0de3206],.force-wrap[data-v-a0de3206]{word-wrap:break-word}.force-wrap[data-v-a0de3206]{white-space:normal}.bordered-section[data-v-a0de3206]{border-bottom:1px solid var(--border);margin-bottom:20px;padding-bottom:20px}.section-divider[data-v-a0de3206]{margin-bottom:20px;margin-top:20px}.labels__header[data-v-a0de3206]{display:flex;justify-content:space-between}',""]),e.exports=t},acb4:function(e,t,a){var s=a("5eaa");t=s(!1),t.push([e.i,'.clearfix[data-v-20c56a9f]:after,.clearfix[data-v-20c56a9f]:before{content:" ";display:table}.clearfix[data-v-20c56a9f]:after{clear:both}.list-unstyled[data-v-20c56a9f]{margin:0;padding:0;list-style-type:none}.no-select[data-v-20c56a9f]{-webkit-user-select:none;-moz-user-select:none;user-select:none}.no-resize[data-v-20c56a9f]{resize:none}.hand[data-v-20c56a9f]{cursor:pointer;cursor:hand}.fixed[data-v-20c56a9f]{table-layout:fixed}.clip[data-v-20c56a9f]{text-overflow:ellipsis;overflow:hidden;white-space:nowrap}.clip[data-v-20c56a9f],.force-wrap[data-v-20c56a9f]{word-wrap:break-word}.force-wrap[data-v-20c56a9f]{white-space:normal}.bordered-section[data-v-20c56a9f]{border-bottom:1px solid var(--border);margin-bottom:20px;padding-bottom:20px}.section-divider[data-v-20c56a9f]{margin-bottom:20px;margin-top:20px}.outer-container[data-v-20c56a9f]{display:flex;flex-direction:column;flex:1;padding:0}.header[data-v-20c56a9f]{display:flex;align-content:space-between;align-items:center;border-bottom:var(--header-border-size) solid var(--header-border)}.header .step-sequence[data-v-20c56a9f],.header>.title[data-v-20c56a9f]{flex:1;min-height:60px;display:flex}.header .step-sequence .steps[data-v-20c56a9f]{flex:1;margin:0 30px;display:flex;justify-content:space-between;list-style-type:none;padding:0}.header .step-sequence .steps[data-v-20c56a9f]:focus{outline:none;box-shadow:none}.header .step-sequence .steps li.step[data-v-20c56a9f]{display:flex;flex-direction:row;flex-grow:1;align-items:center}.header .step-sequence .steps li.step>span>span[data-v-20c56a9f]:last-of-type{padding-bottom:0}.header .step-sequence .steps li.step[data-v-20c56a9f]:last-of-type{flex-grow:0}.header .step-sequence .steps li.step .controls[data-v-20c56a9f]{display:flex;flex-direction:column;align-items:center;width:40px;overflow:visible;padding-top:15px}.cru__content .header .step-sequence .steps li.step .controls[data-v-20c56a9f]{padding-top:0}.header .step-sequence .steps li.step .controls>span[data-v-20c56a9f]{padding-bottom:5px;margin-bottom:5px;white-space:nowrap}.cru__content .header .step-sequence .steps li.step .controls>span[data-v-20c56a9f]{padding-bottom:3px}.header .step-sequence .steps li.step.active .controls[data-v-20c56a9f]{color:var(--primary)}.header .step-sequence .steps li.step:not(.disabled) .controls:hover>*[data-v-20c56a9f]{color:var(--primary)!important;cursor:pointer}.header .step-sequence .steps li.step:not(.active) .controls>*[data-v-20c56a9f]{color:var(--input-disabled-text);text-decoration:none}.header .step-sequence .steps .divider[data-v-20c56a9f]{flex-basis:100%;border-top:1px solid var(--border);position:relative;top:28px}.cru__content .header .step-sequence .steps .divider[data-v-20c56a9f]{top:13px}.header .choice-banner[data-v-20c56a9f]{flex-basis:40%;display:flex;align-items:center;margin-bottom:10px}.header .choice-banner.selected[data-v-20c56a9f]{background-color:var(--accent-btn)}.header .choice-banner.top H2[data-v-20c56a9f]{margin:0}.header .choice-banner.top .title[data-v-20c56a9f]{display:flex;align-items:center;justify-content:space-evenly}.header .choice-banner.top .title>.subtitle[data-v-20c56a9f]{margin-right:20px}.header .choice-banner.top .subtitle[data-v-20c56a9f]{display:flex;flex-direction:column}.header .choice-banner.top .subtitle .subtext[data-v-20c56a9f]{color:var(--input-label)}.header .choice-banner[data-v-20c56a9f]:not(.top){box-shadow:0 0 12px 3px var(--box-bg);flex-direction:row;align-items:center;justify-content:start}.header .choice-banner[data-v-20c56a9f]:not(.top):hover{outline:var(--outline-width) solid var(--outline);cursor:pointer}.header .choice-banner .round-image[data-v-20c56a9f]{min-width:50px;height:50px;margin:10px 10px 10px 0;border-radius:50%;overflow:hidden}.header .choice-banner .round-image .logo[data-v-20c56a9f]{min-width:50px;height:50px}.step-container[data-v-20c56a9f]{position:relative;flex:1 1 auto;height:0;overflow-y:auto;padding:20px 2px 2px 2px;display:flex;flex-direction:column}.step-container__step[data-v-20c56a9f]{display:flex;flex-direction:column;flex:1}.controls-row[data-v-20c56a9f]{margin-left:-20px;margin-right:-20px;margin-bottom:-20px;padding:10px 20px;display:flex;justify-content:space-between;padding-top:10px;border-top:var(--header-border-size) solid var(--header-border)}.controls-row .controls-steps .btn[data-v-20c56a9f]{margin-left:10px}.wizard .header[data-v-20c56a9f]{margin-bottom:20px}',""]),e.exports=t},ad06:function(e,t,a){var s=a("9eb5");s.__esModule&&(s=s.default),"string"===typeof s&&(s=[[e.i,s,""]]),s.locals&&(e.exports=s.locals);var i=a("0ed3").default;i("24ed2c67",s,!0,{sourceMap:!1,shadowMode:!1})},b39f:function(e,t,a){"use strict";a("9efe")},b8a9:function(e,t,a){var s=a("9343");s.__esModule&&(s=s.default),"string"===typeof s&&(s=[[e.i,s,""]]),s.locals&&(e.exports=s.locals);var i=a("0ed3").default;i("4615f176",s,!0,{sourceMap:!1,shadowMode:!1})},be8d:function(e,t,a){"use strict";a("15cac")},c226:function(e,t,a){"use strict";a("ad06")},c745:function(e,t,a){"use strict";a("93a7")},cd2d:function(e,t,a){var s=a("5eaa");t=s(!1),t.push([e.i,'.clearfix[data-v-352c04fb]:after,.clearfix[data-v-352c04fb]:before{content:" ";display:table}.clearfix[data-v-352c04fb]:after{clear:both}.list-unstyled[data-v-352c04fb]{margin:0;padding:0;list-style-type:none}.no-select[data-v-352c04fb]{-webkit-user-select:none;-moz-user-select:none;user-select:none}.no-resize[data-v-352c04fb]{resize:none}.hand[data-v-352c04fb]{cursor:pointer;cursor:hand}.fixed[data-v-352c04fb]{table-layout:fixed}.clip[data-v-352c04fb]{text-overflow:ellipsis;overflow:hidden;white-space:nowrap}.clip[data-v-352c04fb],.force-wrap[data-v-352c04fb]{word-wrap:break-word}.force-wrap[data-v-352c04fb]{white-space:normal}.bordered-section[data-v-352c04fb]{border-bottom:1px solid var(--border);margin-bottom:20px;padding-bottom:20px}.section-divider[data-v-352c04fb]{margin-bottom:20px;margin-top:20px}.role[data-v-352c04fb]{display:flex;align-items:center;flex-direction:row}',""]),e.exports=t},cdac:function(e,t,a){var s=a("3c7b");s.__esModule&&(s=s.default),"string"===typeof s&&(s=[[e.i,s,""]]),s.locals&&(e.exports=s.locals);var i=a("0ed3").default;i("12043314",s,!0,{sourceMap:!1,shadowMode:!1})},dbce:function(e,t,a){"use strict";a("fc8d")},e419c:function(e,t,a){"use strict";a("26ec")},ef48:function(e,t,a){var s=a("4a23");s.__esModule&&(s=s.default),"string"===typeof s&&(s=[[e.i,s,""]]),s.locals&&(e.exports=s.locals);var i=a("0ed3").default;i("8db70a18",s,!0,{sourceMap:!1,shadowMode:!1})},fc8d:function(e,t,a){var s=a("acb4");s.__esModule&&(s=s.default),"string"===typeof s&&(s=[[e.i,s,""]]),s.locals&&(e.exports=s.locals);var i=a("0ed3").default;i("b9ffd26c",s,!0,{sourceMap:!1,shadowMode:!1})},fd5f:function(e,t,a){"use strict";var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("section",{staticClass:"cru"},[e._t("noticeBanner"),e.description?a("p",{staticClass:"description"},[e._v(" "+e._s(e.description)+" ")]):e._e(),a(e.isView?"div":"form",{tag:"form",staticClass:"create-resource-container cru__form",on:{submit:function(e){e.preventDefault()},keydown:function(t){if(!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter"))return null;t.preventDefault()}}},[e.hasErrors?a("div",{staticClass:"cru__errors",attrs:{id:"cru-errors"}},e._l(e.errors,(function(t,s){return a("Banner",{key:s,attrs:{color:"error",label:e.stringify(e.mappedErrors[t].message),icon:e.mappedErrors[t].icon,closable:!0},on:{close:function(t){return e.closeError(s)}}})})),1):e._e(),e.showSubtypeSelection?a("div",{staticClass:"subtypes-container cru__content"},[e._t("subtypes",(function(){return e._l(e.subtypes,(function(t){return a("div",{key:t.id,staticClass:"subtype-banner",class:{selected:t.id===e._selectedSubtype},on:{click:function(a){return e.selectType(t.id,a)}}},[e._t("subtype-content",(function(){return[a("div",{staticClass:"subtype-container"},[a("div",{staticClass:"subtype-logo"},[t.bannerImage?a("img",{attrs:{src:t.bannerImage,alt:(e.resource.type?e.resource.type+": ":"")+(t.label||"")}}):a("div",{staticClass:"round-image"},[t.bannerAbbrv?a("div",{staticClass:"banner-abbrv"},[e.$store.getters["i18n/exists"](t.bannerAbbrv)?a("span",[e._v(e._s(e.t(t.bannerAbbrv)))]):a("span",{style:{fontSize:e.abbrSizes[t.bannerAbbrv.length]}},[e._v(e._s(t.bannerAbbrv))])]):a("div",[e._v(" "+e._s(t.id.slice(0,1).toUpperCase())+" ")])])]),a("div",{staticClass:"subtype-body"},[a("div",{staticClass:"title",class:{"with-description":!!t.description}},[a("h5",[e.$store.getters["i18n/exists"](t.label)?a("span",{domProps:{innerHTML:e._s(e.t(t.label))}}):a("span",[e._v(e._s(t.label))])]),t.docLink?a("a",{staticClass:"flex-right",attrs:{href:t.docLink,target:"_blank",rel:"noopener nofollow"}},[e._v(e._s(e.t("generic.moreInfo"))+" "),a("i",{staticClass:"icon icon-external-link"})]):e._e()]),t.description?a("hr"):e._e(),t.description?a("div",{staticClass:"description"},[e.$store.getters["i18n/exists"](t.description)?a("span",{domProps:{innerHTML:e._s(e.t(t.description,{},!0))}}):a("span",[e._v(e._s(t.description))])]):e._e()])])]}))],2)}))}),{subtypes:e.subtypes})],2):e._e(),e.showAsForm&&e.steps.length?[e._selectedSubtype||!e.subtypes.length?a("div",{staticClass:"resource-container cru__content cru__content-wizard"},[e.resource?a("Wizard",{ref:"Wizard",staticClass:"wizard",attrs:{"header-mode":e.mode,steps:e.steps,errors:e.errors,"finish-mode":e.finishMode},on:{error:function(t){return e.errors=t}},scopedSlots:e._u([{key:"stepContainer",fn:function(t){var s=t.activeStep;return[e._l(e.steps,(function(t){return[t.name===s.name||t.hidden?a("div",{key:t.name,staticClass:"step-container__step",class:{hide:t.name!==s.name&&t.hidden}},[e._t(t.name,null,{step:t})],2):e._e()]}))]}},{key:"controlsContainer",fn:function(t){var s=t.showPrevious,i=t.next,r=t.back,n=t.activeStep,o=t.canNext,l=t.activeStepIndex,d=t.visibleSteps;return[[a("CruResourceFooter",{staticClass:"cru__footer",attrs:{mode:e.mode,"is-form":e.showAsForm,"show-cancel":e.showCancel},on:{"cancel-confirmed":e.confirmCancel},scopedSlots:e._u([e._l(e.$scopedSlots,(function(t,a){return{key:a,fn:function(t){return[e._t(a,null,null,t)]}}}))],null,!0)},[a("div",{staticClass:"controls-steps"},[e.showYaml?a("button",{staticClass:"btn role-secondary",attrs:{type:"button"},on:{click:e.showPreviewYaml}},[a("t",{attrs:{k:"cruResource.previewYaml"}})],1):e._e(),s?[a("button",{staticClass:"btn role-secondary",attrs:{type:"button"},on:{click:function(e){return r()}}},[a("t",{attrs:{k:"wizard.previous"}})],1)]:e._e(),l===d.length-1?[e.showSubtypeSelection||e.isView?e._e():a("AsyncButton",{ref:"save",attrs:{disabled:!n.ready,mode:e.finishButtonMode||e.mode},on:{click:function(t){return e.$emit("finish",t)}}})]:[a("button",{staticClass:"btn role-primary",attrs:{disabled:!o,type:"button"},on:{click:function(e){return i()}}},[a("t",{attrs:{k:"wizard.next"}})],1)]],2)])]]}}],null,!0)}):e._e()],1):e._e()]:e.showAsForm?[e._selectedSubtype||!e.subtypes.length?a("div",{staticClass:"resource-container cru__content",style:[e.minHeight?{"min-height":e.minHeight}:{}]},[e._t("default")],2):e._e(),e._t("form-footer",(function(){return[a("CruResourceFooter",{staticClass:"cru__footer",attrs:{mode:e.mode,"is-form":e.showAsForm,"show-cancel":e.showCancel,"component-testid":e.componentTestid},on:{"cancel-confirmed":e.confirmCancel},scopedSlots:e._u([e._l(e.$scopedSlots,(function(t,a){return{key:a,fn:function(t){return[e._t(a,null,null,t)]}}})),{key:"default",fn:function(){return[e.isView?e._e():a("div",[e.showYaml?a("button",{staticClass:"btn role-secondary",attrs:{"data-testid":e.componentTestid+"-yaml",type:"button"},on:{click:e.showPreviewYaml}},[a("t",{attrs:{k:"cruResource.previewYaml"}})],1):e._e(),e.showSubtypeSelection?e._e():a("AsyncButton",{ref:"save",attrs:{disabled:!e.canSave,mode:e.finishButtonMode||e.mode,"data-testid":e.componentTestid+"-save"},on:{click:function(t){return e.clickSave(t)}}})],1)]},proxy:!0}],null,!0)})]}))]:e.showYaml?a("section",{staticClass:"cru-resource-yaml-container resource-container cru__content"},[a("ResourceYaml",{ref:"resourceyaml",staticClass:"resource-container cru__content",attrs:{value:e.resource,mode:e.mode,"initial-yaml-for-diff":e.initialYaml,yaml:e.resourceYaml,"offer-preview":e.isEdit,"done-route":e.doneRoute,"done-override":e.resource.doneOverride,errors:e.errors,"apply-hooks":e.applyHooks},on:{error:function(t){return e.$emit("error",t)}},scopedSlots:e._u([{key:"yamlFooter",fn:function(t){var s=t.yamlSave,i=t.showPreview,r=t.yamlPreview,n=t.yamlUnpreview;return[e._t("cru-yaml-footer",(function(){return[a("CruResourceFooter",{staticClass:"cru__footer",attrs:{"done-route":e.doneRoute,mode:e.mode,"is-form":e.showAsForm},on:{"cancel-confirmed":e.confirmCancel},scopedSlots:e._u([{key:"default",fn:function(t){var o=t.checkCancel;return[a("div",{staticClass:"controls-middle"},[i?a("button",{staticClass:"btn role-secondary",attrs:{type:"button","data-testid":e.componentTestid+"-yaml-yaml"},on:{click:n}},[a("t",{attrs:{k:"resourceYaml.buttons.continue"}})],1):e._e(),!i&&e.isEdit?a("button",{staticClass:"btn role-secondary",attrs:{"data-testid":e.componentTestid+"-yaml-yaml-preview",disabled:!e.canDiff,type:"button"},on:{click:r}},[a("t",{attrs:{k:"resourceYaml.buttons.diff"}})],1):e._e()]),e._selectedSubtype||!e.subtypes.length?a("div",{staticClass:"controls-right"},[a("button",{staticClass:"btn role-secondary",attrs:{"data-testid":e.componentTestid+"-yaml-cancel",type:"button"},on:{click:function(e){return o(!1)}}},[a("t",{attrs:{k:"cruResource.backToForm"}})],1),e.showSubtypeSelection?e._e():a("AsyncButton",{attrs:{"data-testid":e.componentTestid+"-yaml-save",disabled:!e.canSave,"action-label":e.isEdit?e.t("generic.save"):e.t("generic.create")},on:{click:function(e){return s(e)}}})],1):e._e()]}}],null,!0)})]}))]}}],null,!0)})],1):e._e()],2)],2)},i=[],r=a("330a"),n=a.n(r),o=a("c5e6"),l=a("e24b"),d=a("907c"),c=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"root resource-yaml"},[a("YamlEditor",{ref:"yamleditor",staticClass:"yaml-editor flex-content",attrs:{"initial-yaml-values":e.initialYaml,"editor-mode":e.editorMode},on:{onInput:e.onInput,onReady:e.onReady,onChanges:e.onChanges},model:{value:e.currentYaml,callback:function(t){e.currentYaml=t},expression:"currentYaml"}}),e._t("yamlFooter",(function(){return[e.showFooter?a("Footer",{attrs:{mode:e.mode,errors:e.errors},on:{save:e.save,done:e.done},scopedSlots:e._u([e.isView?null:{key:"left",fn:function(){return[a("FileSelector",{staticClass:"btn role-secondary",attrs:{label:e.t("generic.readFromFile")},on:{selected:e.onFileSelected}})]},proxy:!0},e.isView?null:{key:"middle",fn:function(){return[e.showPreview?a("button",{staticClass:"btn role-secondary",attrs:{type:"button"},on:{click:e.unpreview}},[a("t",{attrs:{k:"resourceYaml.buttons.continue"}})],1):e.offerPreview?a("button",{staticClass:"btn role-secondary",attrs:{disabled:!e.canDiff,type:"button"},on:{click:e.preview}},[a("t",{attrs:{k:"resourceYaml.buttons.diff"}})],1):e._e()]},proxy:!0}],null,!0)}):e._e()]}),{currentYaml:e.currentYaml,showPreview:e.showPreview,yamlPreview:e.preview,yamlSave:e.save,yamlUnpreview:e.unpreview})],2)},u=[],p=a("7838"),f=a.n(p),m=a("870a"),h=a("8b2c"),b=function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.isView?e._e():a("div",[a("div",{staticClass:"spacer-small"}),e._l(e.errors,(function(e,t){return a("div",{key:t},[a("Banner",{attrs:{color:"error",label:e}})],1)})),a("div",{staticClass:"buttons"},[a("div",{staticClass:"left"},[e._t("left")],2),a("div",{staticClass:"right"},[e._t("cancel",(function(){return[a("button",{staticClass:"btn role-secondary",attrs:{type:"button"},on:{click:e.done}},[a("t",{attrs:{k:"generic.cancel"}})],1)]})),e._t("middle"),e._t("save",(function(){return[e.isView?e._e():a("AsyncButton",{attrs:{mode:e.mode,disabled:e.disableSave},on:{click:e.save}})]})),e._t("right")],2)])],2)},v=[],y=a("8bbf"),g=a.n(y),x=a("da25"),w=a("d709"),k=a("eb32"),_=g.a.extend({components:{AsyncButton:w["b"],Banner:k["a"]},props:{mode:{type:String,required:!0},errors:{type:Array,default:null},disableSave:{type:Boolean,default:!1}},computed:{isView(){return this.mode===x["q"]}},methods:{save(e){this.$emit("save",e)},done(){this.$emit("done")}}}),S=_,C=(a("8567"),a("d802")),N=Object(C["a"])(S,b,v,!1,null,null,null),$=N.exports,B=a("4ac6"),O=a("2cb5"),A=a("1d19"),T=a("842c"),M=a("3e9d"),E={components:{Footer:$,FileSelector:h["a"],YamlEditor:m["b"]},props:{mode:{type:String,required:!0},value:{type:Object,required:!0},initialYamlForDiff:{type:String,default:null},yaml:{type:String,required:!0},doneRoute:{type:[String,Object],default:null},offerPreview:{type:Boolean,default:!0},parentParams:{type:Object,default:null},doneOverride:{type:[Function,Object],default:null},showFooter:{type:Boolean,default:!0},applyHooks:{type:Function,default:null}},data(){return this.$router.applyQuery({[x["d"]]:x["p"]}),{initialYaml:this.initialYamlForDiff||this.yaml,currentYaml:this.yaml,showPreview:!1,errors:null,cm:null,initialReady:!0}},computed:{schema(){const e=this.$store.getters["currentStore"](this.value.type);return this.$store.getters[e+"/schemaFor"](this.value.type)},isCreate(){return this.mode===x["k"]},isView(){return this.mode===x["q"]},isEdit(){return this.mode===x["m"]},editorMode(){return this.$route.query.mode===x["q"]||this.isView&&(this.$route.query.mode!==x["m"]||this.$route.query.mode!==x["q"])?m["a"].VIEW_CODE:this.showPreview?m["a"].DIFF_CODE:m["a"].EDIT_CODE},canDiff(){return this.initialYaml!==this.currentYaml}},watch:{yaml(e){this.mode===x["q"]&&(this.currentYaml=e)},mode(e,t){e===x["k"]&&t===x["q"]&&(this.currentYaml=this.value.cleanYaml(this.yaml,e))}},methods:{onInput(e){this.currentYaml=e,this.onReady(this.cm)},onReady(e){if(!this.initialReady)return;this.initialReady=!1,this.cm=e,this.isEdit&&e.foldLinesMatching(/^status:\s*$/);try{var t;const a=f.a.load(this.currentYaml),s=Object.keys((null===a||void 0===a||null===(t=a.metadata)||void 0===t?void 0:t.annotations)||{}),i=B["a"].map(e=>Object(O["e"])(e));let r=!1;for(const e of s){if(r)break;for(const t of i)if(e.match(t)){r=!0;break}}r&&e.foldLinesMatching(/^\s+annotations:\s*$/)}catch(s){}e.foldLinesMatching(/managedFields/);const a=e.getMode().fold;e.getMode().fold="yamlcomments",e.execCommand("foldAll"),e.getMode().fold=a},onChanges(e,t){if(1!==t.length)return;const a=t[0];if(a.from.line!==a.to.line)return;let s=a.from.line,i=e.getLine(s),r=n(i);if(null!==r){e.replaceRange("",{line:s,ch:0},{line:s,ch:1},"+input");while(s>0){s--,i=e.getLine(s);const t=n(i);if(null===t)break;if(t<r){if(e.replaceRange("",{line:s,ch:0},{line:s,ch:1},"+input"),0===t)break;r=t}}}function n(e){const t=e.match(/^#(\s+)/);return t?t[1].length:null}},updateValue(e){this.$refs.yamleditor.updateValue(e)},preview(){this.updateValue(this.currentYaml),this.showPreview=!0,this.$router.applyQuery({[x["d"]]:x["n"]})},unpreview(){this.showPreview=!1,this.$router.applyQuery({[x["d"]]:x["p"]})},async save(e){const t=this.value.yamlForSave(this.currentYaml)||this.currentYaml;try{this.applyHooks&&await this.applyHooks(T["b"]);try{await this.value.saveYaml(t)}catch(s){return a.call(this,s)}this.applyHooks&&await this.applyHooks(T["a"]),e(!0),this.done()}catch(s){return a.call(this,s)}function a(t){if(t&&t.response&&t.response.data){const e=t.response.data;e&&e.message?this.errors=[e.message]:this.errors=[t]}else this.errors=[t];e(!1),this.$emit("error",Object(M["c"])(t))}},done(){if(this.doneOverride)return"function"===typeof this.doneOverride?this.doneOverride():this.$router.replace(this.doneOverride);this.doneRoute&&("object"!==Object(A["c"])(this.doneRoute)?this.$router.replace({name:this.doneRoute,params:{resource:this.value.type}}):this.$router.replace(this.doneRoute))},onFileSelected(e){const t=this.$refs.yamleditor;t&&t.updateValue(e)}}},j=E,q=(a("be8d"),a("4f34"),Object(C["a"])(j,c,u,!1,null,"1f613982",null)),R=q.exports,F=a("6418"),z=a("9ce4"),P=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"cru-resource-footer"},[e._t("footer-prefix"),e._t("cancel",(function(){return[!e.isView&&e.showCancel?a("button",{staticClass:"btn role-secondary",attrs:{id:"cru-cancel","data-testid":e.componentTestid+"-cancel",type:"button"},on:{click:function(t){e.confirmCancelRequired?e.checkCancel(!0):e.$emit("cancel-confirmed",!0)}}},[a("t",{attrs:{k:"generic.cancel"}})],1):e._e()]})),e._t("default",(function(){return[e.isView?e._e():a("AsyncButton",{attrs:{"data-testid":e.componentTestid+"-create",mode:e.finishButtonMode||e.mode},on:{click:function(t){return e.$emit("finish",t)}}})]}),{checkCancel:e.checkCancel}),a("ResourceCancelModal",{ref:"cancelModal",attrs:{"is-cancel-modal":e.isCancelModal,"is-form":e.isForm},on:{"confirm-cancel":function(t){return e.confirmCancel(t)}}})],2)},L=[],I=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("modal",{staticClass:"confirm-modal",attrs:{name:"cancel-modal",width:440,height:"auto"}},[a("div",{staticClass:"header"},[a("h4",{staticClass:"text-default-text"},[e.isCancelModal?a("t",{attrs:{k:"generic.cancel"}}):a("span",[e._v(e._s(e.t("cruResource.backToForm")))])],1)]),a("div",{staticClass:"body"},[e.isCancelModal?a("p",[a("t",{attrs:{k:"cruResource.cancelBody"}})],1):a("p",[a("t",{attrs:{k:"cruResource.backBody"}})],1)]),a("div",{staticClass:"footer"},[a("button",{staticClass:"btn role-secondary",attrs:{type:"button"},on:{click:e.cancelCancel}},[e._v(" "+e._s(e.isForm?e.t("cruResource.reviewForm"):e.t("cruResource.reviewYaml"))+" ")]),a("button",{staticClass:"btn role-primary",attrs:{type:"button"},on:{click:e.confirmCancel}},[e.isCancelModal?a("span",[e._v(e._s(e.t("cruResource.confirmCancel")))]):a("span",[e._v(e._s(e.t("cruResource.confirmBack")))])])])])},D=[],V={props:{isCancelModal:{type:Boolean,default:!1},isForm:{type:Boolean,default:!1}},watch:{},methods:{show(){this.$modal.show("cancel-modal")},cancelCancel(){this.$modal.hide("cancel-modal"),this.$emit("cancel-cancel")},confirmCancel(){this.$modal.hide("cancel-modal"),this.$emit("confirm-cancel",this.isCancelModal)}}},Y=V,K=(a("25b9"),Object(C["a"])(Y,I,D,!1,null,"7090e1b4",null)),H=K.exports,U={components:{AsyncButton:w["b"],ResourceCancelModal:H},props:{mode:{type:String,default:"create"},isForm:{type:Boolean,default:!0},finishButtonMode:{type:String,default:null},confirmCancelRequired:{type:Boolean,default:!1},confirmBackRequired:{type:Boolean,default:!0},showCancel:{type:Boolean,default:!0},componentTestid:{type:String,default:"form-footer"}},data(){return{isCancelModal:!1}},computed:{...Object(z["a"])({t:"i18n/t"}),isView(){return this.mode===x["q"]}},methods:{checkCancel(e){this.isCancelModal=!!e,this.$refs.cancelModal.show()},confirmCancel(e){this.$emit("cancel-confirmed",e)}}},G=U,Q=(a("a5bd"),Object(C["a"])(G,P,L,!1,null,null,null)),W=Q.exports,J=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"outer-container"},[e.stepsLoaded?e._e():a("Loading",{attrs:{mode:"relative"}}),a("div",{staticClass:"outer-container",class:{hide:!e.stepsLoaded}},[a("div",{staticClass:"header"},[a("div",{staticClass:"title"},[e.showBanner?a("div",{staticClass:"top choice-banner"},[e.bannerImage||e.bannerTitle?e._t("bannerTitle",(function(){return[a("div",{directives:[{name:"show",rawName:"v-show",value:e.initialTitle||e.activeStepIndex>0,expression:"initialTitle || activeStepIndex > 0"}],staticClass:"title"},[e._t("bannerTitleImage",(function(){return[e.bannerImage?a("div",{staticClass:"round-image"},[a("LazyImage",{staticClass:"logo",attrs:{src:e.bannerImage}})],1):e._e()]})),a("div",{staticClass:"subtitle"},[e.bannerTitle?a("h2",[e._v(" "+e._s(e.bannerTitle)+" ")]):e._e(),e.bannerTitleSubtext?a("span",{staticClass:"subtext"},[e._v(e._s(e.bannerTitleSubtext))]):e._e()])],2)]})):e._e(),e.activeStep&&e.showSteps?a("div",{staticClass:"subtitle"},[a("h2",[e._v(e._s(e.headerMode?e.t("wizard."+e.headerMode):e.t("asyncButton."+e.finishMode+".action"))+": "+e._s(e.t("wizard.step",{number:e.activeStepIndex+1})))]),e._t("bannerSubtext",(function(){return[null!==e.activeStep.subtext?a("span",{staticClass:"subtext"},[e._v(e._s(e.activeStep.subtext||e.activeStep.label))]):e._e()]}))],2):e._e()],2):e._e(),a("div",{staticClass:"step-sequence"},[e.showSteps?a("ul",{staticClass:"steps",attrs:{tabindex:"0"},on:{keyup:[function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"right",39,t.key,["Right","ArrowRight"])||"button"in t&&2!==t.button?null:(t.stopPropagation(),e.selectNext(1))},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"left",37,t.key,["Left","ArrowLeft"])||"button"in t&&0!==t.button?null:(t.stopPropagation(),e.selectNext(-1))}]}},[e._l(e.visibleSteps,(function(t,s){return[a("li",{key:t.name+"li",class:{step:!0,active:t.name===e.activeStep.name,disabled:!e.isAvailable(t)},attrs:{id:t.name,role:"presentation"}},[a("span",{staticClass:"controls",attrs:{"aria-controls":"step"+s+1,"aria-selected":t.name===e.activeStep.name,role:"tab"},on:{click:function(t){return t.preventDefault(),e.goToStep(s+1,!0)}}},[a("span",{staticClass:"icon icon-lg",class:{"icon-dot":t.name===e.activeStep.name,"icon-dot-open":t.name!==e.activeStep.name}}),a("span",[e._v(" "+e._s(t.label)+" ")])])]),s!==e.visibleSteps.length-1?a("div",{key:t.name,staticClass:"divider"}):e._e()]}))],2):e._e()])])]),e._t("stepContainer",(function(){return[e._l(e.steps,(function(t){return[t.name===e.activeStep.name||t.hidden?a("div",{key:t.name,staticClass:"step-container__step",class:{hide:t.name!==e.activeStep.name&&t.hidden}},[e._t(t.name,null,{step:t})],2):e._e()]}))]}),{activeStep:e.activeStep}),e._t("controlsContainer",(function(){return[e._l(e.errorStrings,(function(t,s){return a("div",{key:s},[a("Banner",{attrs:{color:"error",label:t,closable:!0},on:{close:function(t){return e.errors.splice(s,1)}}})],1)})),a("div",{staticClass:"controls-row pt-20"},[e._t("cancel",(function(){return[a("button",{staticClass:"btn role-secondary",attrs:{type:"button"},on:{click:e.cancel}},[a("t",{attrs:{k:"generic.cancel"}})],1)]}),{cancel:e.cancel}),a("div",{staticClass:"controls-steps"},[e.showPrevious?e._t("back",(function(){return[a("button",{staticClass:"btn role-secondary",attrs:{disabled:!e.canPrevious||!e.editFirstStep&&1===e.activeStepIndex,type:"button"},on:{click:function(t){return e.back()}}},[a("t",{attrs:{k:"wizard.previous"}})],1)]}),{back:e.back}):e._e(),e.activeStepIndex===e.visibleSteps.length-1?e._t("finish",(function(){return[a("AsyncButton",{attrs:{disabled:!e.activeStep.ready,mode:e.finishMode},on:{click:e.finish}})]}),{finish:e.finish}):e._t("next",(function(){return[a("button",{class:e.nextButtonStyle,attrs:{disabled:!e.canNext,type:"button"},on:{click:function(t){return e.next()}}},[a("t",{attrs:{k:e.nextButtonLabel}})],1)]}),{next:e.next})],2)],2)]}),{showPrevious:e.showPrevious,next:e.next,back:e.back,canNext:e.canNext,activeStepIndex:e.activeStepIndex,visibleSteps:e.visibleSteps,errorStrings:e.errorStrings,finish:e.finish,cancel:e.cancel,activeStep:e.activeStep})],2)],1)},X=[],Z=a("15ca"),ee={name:"Wizard",components:{AsyncButton:w["b"],Banner:F["a"],Loading:Z["a"]},props:{steps:{type:Array,required:!0},initStepIndex:{type:Number,default:0},editFirstStep:{type:Boolean,default:!1},showBanner:{type:Boolean,default:!0},initialTitle:{type:Boolean,default:!0},bannerTitle:{type:String,default:null},bannerImage:{type:String,default:null},bannerTitleSubtext:{type:String,default:null},headerMode:{type:String,default:null},finishMode:{type:String,default:"finish"},errors:{type:Array,default:null}},data(){return{activeStep:null}},computed:{errorStrings(){return(this.errors||[]).map(e=>Object(M["d"])(e))},activeStepIndex(){return this.visibleSteps.findIndex(e=>e.name===this.activeStep.name)},showPrevious(){if(0===this.activeStepIndex)return!1;for(let e=0;e<this.activeStepIndex;e++){const t=this.visibleSteps[e];if(!t)break;if(!t.hidden)return!0}return!1},canPrevious(){var e,t;return!(null!==(e=this.activeStep)&&void 0!==e&&null!==(t=e.previousButton)&&void 0!==t&&t.disable)&&(this.activeStepIndex>1||this.editFirstStep)},canNext(){return this.activeStepIndex<this.visibleSteps.length-1&&this.activeStep.ready},readySteps(){return this.visibleSteps.filter(e=>e.ready)},showSteps(){return!1!==this.activeStep.showSteps&&this.visibleSteps.length>1},stepsLoaded(){return!this.steps.some(e=>!0===e.loading)},visibleSteps(){return this.steps.filter(e=>!e.hidden)},nextButtonStyle(){var e;return(null===(e=this.activeStep.nextButton)||void 0===e?void 0:e.style)||"btn role-primary"},nextButtonLabel(){var e;return(null===(e=this.activeStep.nextButton)||void 0===e?void 0:e.labelKey)||"wizard.next"}},watch:{stepsLoaded(e,t){!t&&e&&(this.activeStep=this.visibleSteps[this.initStepIndex],this.goToStep(this.activeStepIndex+1))}},created(){this.activeStep=this.visibleSteps[this.initStepIndex],this.goToStep(this.activeStepIndex+1)},methods:{goToStep(e,t){if(e<1)return;if(!this.editFirstStep&&1===e&&t)return;const a=this.visibleSteps[e-1];a&&(this.isAvailable(a)||1===e)&&(this.activeStep=a,this.$emit("next",{step:a}))},cancel(){this.$emit("cancel")},finish(e){this.$emit("finish",e)},next(){this.goToStep(this.activeStepIndex+2)},back(){this.goToStep(this.activeStepIndex)},isAvailable(e){if(!e)return!1;const t=this.visibleSteps.findIndex(t=>t.name===e.name);if(0===t&&!this.editFirstStep)return!1;for(let a=0;a<t;a++)if(!1===this.visibleSteps[a].ready)return!1;return!0}}},te=ee,ae=(a("dbce"),Object(C["a"])(te,J,X,!1,null,"20c56a9f",null)),se=ae.exports,ie={name:"CruResource",components:{AsyncButton:w["b"],Banner:F["a"],CruResourceFooter:W,ResourceYaml:R,Wizard:se},props:{doneRoute:{type:[String,Object],default:null},cancelEvent:{type:Boolean,default:!1},showCancel:{type:Boolean,default:!0},mode:{type:String,required:!0},resource:{type:Object,required:!0},subtypes:{type:Array,default:()=>[]},selectedSubtype:{type:String,default:null},validationPassed:{type:Boolean,default:!0},errors:{type:Array,default:()=>[]},errorsMap:{type:Object,default:null},canYaml:{type:Boolean,default:!0},generateYaml:{type:Function,default:null},finishButtonMode:{type:String,default:null},applyHooks:{type:Function,default:null},steps:{type:Array,default:()=>[]},finishMode:{type:String,default:"finish"},minHeight:{type:String,default:""},namespaceKey:{type:String,default:"metadata.namespace"},componentTestid:{type:String,default:"form"},description:{type:String,default:""}},data(e){const t=this.createResourceYaml();return this.$on("createNamespace",e=>{this.createNamespace=e}),{isCancelModal:!1,createNamespace:!1,showAsForm:this.$route.query[x["a"]]!==x["r"],resourceYaml:t,initialYaml:t,abbrSizes:{3:"24px",4:"18px",5:"16px",6:"14px"}}},computed:{canSave(){const{validationPassed:e,showAsForm:t,steps:a}=this;return t&&null!==a&&void 0!==a&&a.length?e&&this.steps.every(e=>e.ready):!this.showAsForm||this.validationPassed},canDiff(){return this.initialYaml!==this.resourceYaml},canEditYaml(){var e;const t=this.$store.getters["currentStore"](this.resource),a=this.$store.getters[t+"/schemaFor"](this.resource.type);return!(null!==a&&void 0!==a&&null!==(e=a.resourceMethods)&&void 0!==e&&e.includes("blocked-PUT"))},showYaml(){return this.canYaml&&(this._selectedSubtype||!this.subtypes.length)&&this.canEditYaml&&this.mode!==x["q"]},isView(){return this.mode===x["q"]},isEdit(){return this.mode===x["m"]},_selectedSubtype(){return this.selectedSubtype?this.selectedSubtype:this.$route.query[x["f"]]},showSubtypeSelection(){return!n()(this.subtypes)&&!this._selectedSubtype},...Object(z["a"])({t:"i18n/t"}),hasErrors(){var e;return(null===(e=this.errors)||void 0===e?void 0:e.length)&&Array.isArray(this.errors)},mappedErrors(){return this.errors?this.errorsMap||this.errors.reduce((e,t)=>({...e,[t]:{message:t,icon:null}}),{}):{}}},created(){this._selectedSubtype&&this.$emit("select-type",this._selectedSubtype)},methods:{stringify:M["d"],confirmCancel(e=!0){e?this.emitOrRoute():this.showAsForm||(this.resourceYaml=null,this.showAsForm=!0,this.$router.applyQuery({[x["a"]]:x["p"]}))},closeError(e){const t=this.errors.filter((t,a)=>a!==e);this.$emit("error",t)},emitOrRoute(){if(this.cancelEvent)this.$emit("cancel");else{const{resource:e=this.resource.type}=this.$route.params,t=this.resource.doneOverride,a={name:this.doneRoute,params:{resource:e}};this.$router.replace(t||a)}},createResourceYaml(){const e=this.resource;if("function"===typeof this.generateYaml)return this.generateYaml.apply(this,e);{const t=this.$store.getters["currentStore"](e),a=this.$store.getters[t+"/all"](d["x"]),s=Object(l["e"])(e),i=Object(o["b"])(a,e.type,s);return i}},async showPreviewYaml(){this.applyHooks&&await this.applyHooks(T["b"]);const e=this.createResourceYaml();this.resourceYaml=e,this.showAsForm=!1,this.$router.applyQuery({[x["a"]]:x["r"]})},selectType(e,t){var a;"A"!==(null===t||void 0===t||null===(a=t.srcElement)||void 0===a?void 0:a.tagName)&&(this.$router.applyQuery({[x["f"]]:e}),this.$emit("select-type",e))},async clickSave(e){try{await this.createNamespaceIfNeeded(),this.$emit("finish",e)}catch(t){this.$emit("error",Object(M["c"])(t.message)),e(!1)}},save(){this.$refs.save.clicked()},async createNamespaceIfNeeded(){const e=this.$store.getters["currentStore"](this.resource),t=Object(l["f"])(this.resource,this.namespaceKey);let a=!1;try{a=!!await this.$store.dispatch(e+"/find",{type:d["n"],id:t})}catch{}if(this.createNamespace&&!a)try{const a=await this.$store.dispatch(e+"/createNamespace",{name:t},{root:!0});a.applyDefaults(),await a.save()}catch(s){throw this.$emit("error",Object(M["c"])(s)),new Error("Could not create the new namespace. "+s.message)}}}},re=ie,ne=(a("b39f"),Object(C["a"])(re,s,i,!1,null,"221318ff",null));t["a"]=ne.exports}}]);
//# sourceMappingURL=harvester-manager-0.1.0.umd.min.vendors~edit.js.map