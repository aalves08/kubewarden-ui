(("undefined"!==typeof self?self:this)["webpackJsonpkubewarden_0_1_0"]=("undefined"!==typeof self?self:this)["webpackJsonpkubewarden_0_1_0"]||[]).push([[26],{"0020":function(e,t,a){"use strict";a("ba49")},"058d":function(e,t,a){var s=a("5eaa");t=s(!1),t.push([e.i,'.clearfix:after,.clearfix:before{content:" ";display:table}.clearfix:after{clear:both}.list-unstyled{margin:0;padding:0;list-style-type:none}.no-select{-webkit-user-select:none;-moz-user-select:none;user-select:none}.no-resize{resize:none}.hand{cursor:pointer;cursor:hand}.fixed{table-layout:fixed}.clip{text-overflow:ellipsis;overflow:hidden;white-space:nowrap}.clip,.force-wrap{word-wrap:break-word}.force-wrap{white-space:normal}.bordered-section{border-bottom:1px solid var(--border);margin-bottom:20px;padding-bottom:20px}.section-divider{margin-bottom:20px;margin-top:20px}.prometheus-config>*{margin-top:10px}',""]),e.exports=t},"05df":function(e,t,a){"use strict";a("06c3")},"06c3":function(e,t,a){var s=a("fca5");s.__esModule&&(s=s.default),"string"===typeof s&&(s=[[e.i,s,""]]),s.locals&&(e.exports=s.locals);var r=a("0ed3").default;r("298d330c",s,!0,{sourceMap:!1,shadowMode:!1})},"0a93":function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"title"},[a("h3",[e._v(e._s(e.t("monitoring.prometheus.title")))])]),e.filteredWorkloads&&e.warnUser?a("Banner",{attrs:{color:"warning"},scopedSlots:e._u([{key:"default",fn:function(){return[a("t",{attrs:{k:"monitoring.prometheus.warningInstalled",raw:!0}}),e._l(e.filteredWorkloads,(function(t){return a("div",{key:t.id,staticClass:"mt-10"},[a("nuxt-link",{staticClass:"btn role-tertiary",attrs:{to:t.link}},[e._v(" "+e._s(t.label)+" ")])],1)}))]},proxy:!0}],null,!1,1007101933)}):e._e(),a("div",{staticClass:"prometheus-config"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col span-6 col-full-height"},[a("Checkbox",{attrs:{label:e.t("monitoring.prometheus.config.adminApi")},model:{value:e.value.prometheus.prometheusSpec.enableAdminAPI,callback:function(t){e.$set(e.value.prometheus.prometheusSpec,"enableAdminAPI",t)},expression:"value.prometheus.prometheusSpec.enableAdminAPI"}})],1),a("div",{staticClass:"col span-6 col-full-height"},[a("RadioGroup",{attrs:{mode:e.mode,name:"ignoreNamespaceSelectors","label-key":"monitoring.prometheus.config.ignoreNamespaceSelectors.label",tooltip:e.t("monitoring.prometheus.config.ignoreNamespaceSelectors.help",{},!0),labels:[e.t("monitoring.prometheus.config.ignoreNamespaceSelectors.radio.enforced"),e.t("monitoring.prometheus.config.ignoreNamespaceSelectors.radio.ignored")],options:[!1,!0]},model:{value:e.value.prometheus.prometheusSpec.ignoreNamespaceSelectors,callback:function(t){e.$set(e.value.prometheus.prometheusSpec,"ignoreNamespaceSelectors",t)},expression:"value.prometheus.prometheusSpec.ignoreNamespaceSelectors"}})],1)]),a("div",{staticClass:"row"},[a("div",{staticClass:"col span-6"},[a("LabeledInput",{attrs:{label:e.t("monitoring.prometheus.config.scrape"),mode:e.mode},model:{value:e.value.prometheus.prometheusSpec.scrapeInterval,callback:function(t){e.$set(e.value.prometheus.prometheusSpec,"scrapeInterval",t)},expression:"value.prometheus.prometheusSpec.scrapeInterval"}})],1),a("div",{staticClass:"col span-6"},[a("LabeledInput",{attrs:{label:e.t("monitoring.prometheus.config.evaluation"),mode:e.mode},model:{value:e.value.prometheus.prometheusSpec.evaluationInterval,callback:function(t){e.$set(e.value.prometheus.prometheusSpec,"evaluationInterval",t)},expression:"value.prometheus.prometheusSpec.evaluationInterval"}})],1)]),a("div",{staticClass:"row"},[a("div",{staticClass:"col span-6"},[a("LabeledInput",{attrs:{label:e.t("monitoring.prometheus.config.retention"),mode:e.mode},model:{value:e.value.prometheus.prometheusSpec.retention,callback:function(t){e.$set(e.value.prometheus.prometheusSpec,"retention",t)},expression:"value.prometheus.prometheusSpec.retention"}})],1),a("div",{staticClass:"col span-6"},[a("LabeledInput",{attrs:{label:e.t("monitoring.prometheus.config.retentionSize"),mode:e.mode},model:{value:e.value.prometheus.prometheusSpec.retentionSize,callback:function(t){e.$set(e.value.prometheus.prometheusSpec,"retentionSize",t)},expression:"value.prometheus.prometheusSpec.retentionSize"}})],1)]),a("div",{staticClass:"row"},[a("div",{staticClass:"col span-12 mt-5"},[a("h4",{staticClass:"mb-0"},[e._v(" "+e._s(e.t("monitoring.prometheus.config.resourceLimits"))+" ")])])]),a("div",{staticClass:"row"},[a("div",{staticClass:"col span-6"},[a("LabeledInput",{attrs:{label:e.t("monitoring.prometheus.config.requests.cpu"),mode:e.mode},model:{value:e.value.prometheus.prometheusSpec.resources.requests.cpu,callback:function(t){e.$set(e.value.prometheus.prometheusSpec.resources.requests,"cpu",t)},expression:"value.prometheus.prometheusSpec.resources.requests.cpu"}})],1),a("div",{staticClass:"col span-6"},[a("LabeledInput",{attrs:{label:e.t("monitoring.prometheus.config.requests.memory"),mode:e.mode},model:{value:e.value.prometheus.prometheusSpec.resources.requests.memory,callback:function(t){e.$set(e.value.prometheus.prometheusSpec.resources.requests,"memory",t)},expression:"value.prometheus.prometheusSpec.resources.requests.memory"}})],1)]),a("div",{staticClass:"row"},[a("div",{staticClass:"col span-6"},[a("LabeledInput",{attrs:{label:e.t("monitoring.prometheus.config.limits.cpu"),mode:e.mode},model:{value:e.value.prometheus.prometheusSpec.resources.limits.cpu,callback:function(t){e.$set(e.value.prometheus.prometheusSpec.resources.limits,"cpu",t)},expression:"value.prometheus.prometheusSpec.resources.limits.cpu"}})],1),a("div",{staticClass:"col span-6"},[a("LabeledInput",{attrs:{label:e.t("monitoring.prometheus.config.limits.memory"),mode:e.mode},model:{value:e.value.prometheus.prometheusSpec.resources.limits.memory,callback:function(t){e.$set(e.value.prometheus.prometheusSpec.resources.limits,"memory",t)},expression:"value.prometheus.prometheusSpec.resources.limits.memory"}})],1)]),a("div",{staticClass:"row row-full-height container-flex-center",staticStyle:{"min-height":"55px"}},[a("div",{staticClass:"col span-6"},[a("Checkbox",{attrs:{label:e.t("monitoring.prometheus.storage.label")},model:{value:e.enablePersistentStorage,callback:function(t){e.enablePersistentStorage=t},expression:"enablePersistentStorage"}})],1)]),e.enablePersistentStorage?[a("div",{staticClass:"row"},[a("div",{staticClass:"col span-6"},[a("LabeledInput",{attrs:{label:e.t("monitoring.prometheus.storage.size"),mode:e.mode},model:{value:e.value.prometheus.prometheusSpec.storageSpec.volumeClaimTemplate.spec.resources.requests.storage,callback:function(t){e.$set(e.value.prometheus.prometheusSpec.storageSpec.volumeClaimTemplate.spec.resources.requests,"storage",t)},expression:"value.prometheus.prometheusSpec.storageSpec.volumeClaimTemplate.spec.resources.requests.storage"}})],1),a("div",{staticClass:"col span-6"},[e.showStorageClasses?a("div",[a("StorageClassSelector",{attrs:{mode:e.mode,options:e.storageClasses,value:e.value.prometheus.prometheusSpec.storageSpec.volumeClaimTemplate.spec.storageClassName,label:e.t("monitoring.prometheus.storage.className")},on:{updateName:function(t){return e.$set(e.value.prometheus.prometheusSpec.storageSpec.volumeClaimTemplate.spec,"storageClassName",t)}}})],1):e._e()])]),a("div",{staticClass:"row"},[a("div",{staticClass:"col span-6"},[a("LabeledSelect",{attrs:{label:e.t("monitoring.prometheus.storage.mode"),"localized-label":!0,mode:e.mode,multiple:!0,options:e.accessModes,reduce:function(e){var t=e.id;return t}},model:{value:e.value.prometheus.prometheusSpec.storageSpec.volumeClaimTemplate.spec.accessModes,callback:function(t){e.$set(e.value.prometheus.prometheusSpec.storageSpec.volumeClaimTemplate.spec,"accessModes",t)},expression:"value.prometheus.prometheusSpec.storageSpec.volumeClaimTemplate.spec.accessModes"}})],1),a("div",{staticClass:"col span-6"},[a("LabeledSelect",{attrs:{label:e.t("monitoring.prometheus.storage.volumeMode"),"localized-label":!0,mode:e.mode,options:e.volumeModes,reduce:function(e){var t=e.id;return t}},model:{value:e.value.prometheus.prometheusSpec.storageSpec.volumeClaimTemplate.spec.volumeMode,callback:function(t){e.$set(e.value.prometheus.prometheusSpec.storageSpec.volumeClaimTemplate.spec,"volumeMode",t)},expression:"value.prometheus.prometheusSpec.storageSpec.volumeClaimTemplate.spec.volumeMode"}})],1)]),a("div",{staticClass:"row"},[a("div",{staticClass:"col span-12"},[a("div",{staticClass:"mb-5 mt-5"},[a("h4",{staticClass:" mb-10"},[e._v(" "+e._s(e.t("monitoring.prometheus.storage.selector"))+" ")])]),a("Banner",{attrs:{color:"warning",label:e.t("monitoring.prometheus.storage.selectorWarning",{},!0)}}),a("MatchExpressions",{attrs:{"initial-empty-row":!1,mode:e.mode,value:e.matchExpressions,"show-remove":!1},on:{input:function(t){return e.matchChanged(t)}}})],1)])]:e._e()],2)],1)},r=[],o=a("753c"),l=(a("ee0a"),a("d802")),i=Object(l["a"])(o["a"],s,r,!1,null,null,null);t["default"]=i.exports},"0b6f":function(e,t,a){var s=a("5eaa");t=s(!1),t.push([e.i,'.clearfix[data-v-76381a0a]:after,.clearfix[data-v-76381a0a]:before{content:" ";display:table}.clearfix[data-v-76381a0a]:after{clear:both}.list-unstyled[data-v-76381a0a]{margin:0;padding:0;list-style-type:none}.no-select[data-v-76381a0a]{-webkit-user-select:none;-moz-user-select:none;user-select:none}.no-resize[data-v-76381a0a]{resize:none}.hand[data-v-76381a0a]{cursor:pointer;cursor:hand}.fixed[data-v-76381a0a]{table-layout:fixed}.clip[data-v-76381a0a]{text-overflow:ellipsis;overflow:hidden;white-space:nowrap}.clip[data-v-76381a0a],.force-wrap[data-v-76381a0a]{word-wrap:break-word}.force-wrap[data-v-76381a0a]{white-space:normal}.bordered-section[data-v-76381a0a]{border-bottom:1px solid var(--border);margin-bottom:20px;padding-bottom:20px}.section-divider[data-v-76381a0a]{margin-bottom:20px;margin-top:20px}.alerting-config>.row[data-v-76381a0a]{padding:10px 0}.alerting-config .banner.info[data-v-76381a0a]{margin-bottom:0;margin-top:0}',""]),e.exports=t},"103b":function(e,t,a){var s=a("5eaa");t=s(!1),t.push([e.i,'.clearfix:after,.clearfix:before{content:" ";display:table}.clearfix:after{clear:both}.list-unstyled{margin:0;padding:0;list-style-type:none}.no-select{-webkit-user-select:none;-moz-user-select:none;user-select:none}.no-resize{resize:none}.hand{cursor:pointer;cursor:hand}.fixed{table-layout:fixed}.clip{text-overflow:ellipsis;overflow:hidden;white-space:nowrap}.clip,.force-wrap{word-wrap:break-word}.force-wrap{white-space:normal}.bordered-section{border-bottom:1px solid var(--border);margin-bottom:20px;padding-bottom:20px}.section-divider{margin-bottom:20px;margin-top:20px}.prometheus-config>*{margin-top:10px}',""]),e.exports=t},"194c":function(e,t,a){"use strict";var s=a("330a"),r=a.n(s),o=a("1fcb"),l=a.n(o),i=a("9ce4"),n=a("72af"),c=a("0df0"),u=a("9d63"),d=a("28b8"),p=a("8e93"),m=a("15ca"),v=a("0a93"),g=a("38de"),h=a("a8b9"),b=a("907c"),f={components:{Alerting:n["default"],Checkbox:c["a"],ClusterSelector:u["default"],Grafana:d["default"],LabeledInput:p["a"],Loading:m["a"],Prometheus:v["default"],Tab:g["a"]},hasTabs:!0,props:{chart:{type:Object,default:()=>({})},mode:{type:String,default:"create"},value:{type:Object,default:()=>({})}},async fetch(){const{$store:e}=this,t=await Object(h["a"])({namespaces:e.getters["namespaces"](),pvcs:e.dispatch("cluster/findAll",{type:b["u"]}),secrets:e.dispatch("cluster/findAll",{type:b["y"]}),storageClasses:e.dispatch("cluster/findAll",{type:b["C"]})});await Promise.all(Object.values(b["H"]).map(e=>this.$store.dispatch("cluster/findAll",{type:e}))),this.targetNamespace=t.namespaces[this.chart.targetNamespace]||!1,r()(t.storageClasses)||(this.storageClasses=t.storageClasses),r()(t.pvcs)||(this.pvcs=t.pvcs),r()(t.secrets)||(this.secrets=t.secrets)},data(){return{accessModes:[{id:"ReadWriteOnce",label:"monitoring.accessModes.once"},{id:"ReadOnlyMany",label:"monitoring.accessModes.readOnlyMany"},{id:"ReadWriteMany",label:"monitoring.accessModes.many"}],clusterType:{},disableAggregateRoles:!1,prometheusResources:[],pvcs:[],secrets:[],storageClasses:[],targetNamespace:null}},computed:{...Object(i["a"])(["currentCluster"]),provider(){return this.currentCluster.status.provider.toLowerCase()},workloads(){return Object.values(b["H"]).flatMap(e=>this.$store.getters["cluster/all"](e))}},watch:{"value.global.rbac.userRoles.create"(e){e?this.disableAggregateRoles=!1:(this.value.global.rbac.userRoles.aggregateToDefaultRoles=!1,this.disableAggregateRoles=!0)}},created(){if("create"===this.mode){var e,t,a,s,r,o,i,n,c,u,d,p,m,v,g,h,b,f,y,x,S,C,w;const k={global:{rbac:{userRoles:{create:this.mergeValue(null===(e=this.value)||void 0===e||null===(t=e.global)||void 0===t||null===(a=t.rbac)||void 0===a||null===(s=a.userRoles)||void 0===s?void 0:s.create,!0),aggregateToDefaultRoles:this.mergeValue(null===(r=this.value)||void 0===r||null===(o=r.global)||void 0===o||null===(i=o.rbac)||void 0===i||null===(n=i.userRoles)||void 0===n?void 0:n.aggregateToDefaultRoles,!0)}}},prometheus:{prometheusSpec:{scrapeInterval:this.mergeValue(null===(c=this.value)||void 0===c||null===(u=c.prometheus)||void 0===u||null===(d=u.prometheusSpec)||void 0===d?void 0:d.scrapeInterval,"1m"),evaluationInterval:this.mergeValue(null===(p=this.value)||void 0===p||null===(m=p.prometheus)||void 0===m||null===(v=m.prometheusSpec)||void 0===v?void 0:v.evaluationInterval,"1m"),retention:this.mergeValue(null===(g=this.value)||void 0===g||null===(h=g.prometheus)||void 0===h||null===(b=h.prometheusSpec)||void 0===b?void 0:b.retention,"10d"),retentionSize:this.mergeValue(null===(f=this.value)||void 0===f||null===(y=f.prometheus)||void 0===y||null===(x=y.prometheusSpec)||void 0===x?void 0:x.retentionSize,"50GiB"),enableAdminAPI:this.mergeValue(null===(S=this.value)||void 0===S||null===(C=S.prometheus)||void 0===C||null===(w=C.prometheusSpec)||void 0===w?void 0:w.enableAdminAPI,!1)}}};l()(this.value,k),this.provider.startsWith("rke2")?(this.$set(this.value.rke2IngressNginx,"enabled",!0),this.$set(this.value.rke2Etcd,"enabled",!0),this.$set(this.value.rkeEtcd,"enabled",!1)):this.provider.startsWith("rke")?(this.$set(this.value,"ingressNginx",this.value.ingressNginx||{}),this.$set(this.value.ingressNginx,"enabled",!0)):this.$set(this.value.rkeEtcd,"enabled",!1)}this.$emit("register-before-hook",this.willSave,"willSave")},methods:{willSave(){var e,t,a;const{prometheusSpec:s}=this.value.prometheus,o=null===s||void 0===s||null===(e=s.storageSpec)||void 0===e||null===(t=e.volumeClaimTemplate)||void 0===t||null===(a=t.spec)||void 0===a?void 0:a.selector;o&&r()(o.matchExpressions)&&r()(o.matchLabels)&&delete this.value.prometheus.prometheusSpec.storageSpec.volumeClaimTemplate.spec.selector},mergeValue(e,t){return void 0===e||"string"===typeof e&&!e.length?t:e}}};t["a"]=f},"1c3e":function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.$fetchState.pending?a("Loading",{attrs:{mode:"relative"}}):a("div",{staticClass:"config-monitoring-container"},[a("Tab",{attrs:{name:"general",label:e.t("monitoring.tabs.general"),weight:99}},[a("div",[a("div",{staticClass:"row mb-20"},[a("ClusterSelector",{attrs:{value:e.value,mode:e.mode},on:{onClusterTypeChanged:function(t){e.clusterType=t}}})],1),"managed"===e.clusterType.group?a("div",{staticClass:"row mb-20"},[a("Checkbox",{attrs:{"label-key":"monitoring.hostNetwork.label",tooltip:e.t("monitoring.hostNetwork.tip",{},!0)},model:{value:e.value.prometheusOperator.hostNetwork,callback:function(t){e.$set(e.value.prometheusOperator,"hostNetwork",t)},expression:"value.prometheusOperator.hostNetwork"}})],1):e._e(),a("div",{staticClass:"row"},[a("div",{staticClass:"col span-6"},[a("Checkbox",{attrs:{"label-key":"monitoring.createDefaultRoles.label",tooltip:e.t("monitoring.createDefaultRoles.tip",{},!0)},model:{value:e.value.global.rbac.userRoles.create,callback:function(t){e.$set(e.value.global.rbac.userRoles,"create",t)},expression:"value.global.rbac.userRoles.create"}})],1),a("div",{staticClass:"col span-6"},[a("Checkbox",{attrs:{"label-key":"monitoring.aggregateDefaultRoles.label",tooltip:{content:e.t("monitoring.aggregateDefaultRoles.tip",{},!0),autoHide:!1},disabled:e.disableAggregateRoles},model:{value:e.value.global.rbac.userRoles.aggregateToDefaultRoles,callback:function(t){e.$set(e.value.global.rbac.userRoles,"aggregateToDefaultRoles",t)},expression:"value.global.rbac.userRoles.aggregateToDefaultRoles"}})],1)]),"rke"===e.provider&&e.value.rkeEtcd?a("div",{staticClass:"row mt-20"},[a("div",{staticClass:"col span-6"},[a("LabeledInput",{attrs:{label:e.t("monitoring.etcdNodeDirectory.label"),tooltip:e.t("monitoring.etcdNodeDirectory.tooltip",{},!0),"hover-tooltip":!0,mode:e.mode},model:{value:e.value.rkeEtcd.clients.https.certDir,callback:function(t){e.$set(e.value.rkeEtcd.clients.https,"certDir",t)},expression:"value.rkeEtcd.clients.https.certDir"}})],1)]):e._e()])]),a("Tab",{attrs:{name:"prometheus",label:e.t("monitoring.tabs.prometheus"),weight:98}},[a("div",[a("Prometheus",e._b({attrs:{"access-modes":e.accessModes,mode:e.mode,"storage-classes":e.storageClasses,"prometheus-pods":e.prometheusResources,workloads:e.workloads},model:{value:e.value,callback:function(t){e.value=t},expression:"value"}},"Prometheus",e.$attrs,!1))],1)]),a("Tab",{attrs:{name:"alerting",label:e.t("monitoring.tabs.alerting"),weight:97}},[a("div",[a("Alerting",{attrs:{mode:e.mode,secrets:e.secrets},model:{value:e.value,callback:function(t){e.value=t},expression:"value"}})],1)]),a("Tab",{attrs:{name:"grafana",label:e.t("monitoring.tabs.grafana"),weight:96}},[a("div",[a("Grafana",{attrs:{"access-modes":e.accessModes,mode:e.mode,pvcs:e.pvcs,"storage-classes":e.storageClasses},model:{value:e.value,callback:function(t){e.value=t},expression:"value"}})],1)])],1)},r=[],o=a("194c"),l=a("d802"),i=Object(l["a"])(o["a"],s,r,!1,null,null,null);t["default"]=i.exports},2440:function(e,t,a){var s=a("0b6f");s.__esModule&&(s=s.default),"string"===typeof s&&(s=[[e.i,s,""]]),s.locals&&(e.exports=s.locals);var r=a("0ed3").default;r("1bbf374f",s,!0,{sourceMap:!1,shadowMode:!1})},2789:function(e,t,a){var s=a("fab8");s.__esModule&&(s=s.default),"string"===typeof s&&(s=[[e.i,s,""]]),s.locals&&(e.exports=s.locals);var r=a("0ed3").default;r("7700a864",s,!0,{sourceMap:!1,shadowMode:!1})},"28b8":function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"title"},[a("h3",[e._v(e._s(e.t("monitoring.grafana.title")))])]),a("div",{staticClass:"grafana-config"},[a("div",{staticClass:"row pt-10 pb-10"},[a("div",{staticClass:"col span-12 persistent-storage-config"},[a("RadioGroup",{attrs:{name:"persistentStorageType",label:e.t("monitoring.grafana.storage.label"),labels:e.persistentStorageTypeLabels,mode:e.mode,options:e.persistentStorageTypes},model:{value:e.persistentStorageType,callback:function(t){e.persistentStorageType=t},expression:"persistentStorageType"}})],1)]),"existing"===e.persistentStorageType?[a("div",{staticClass:"row"},[a("div",{staticClass:"col span-6"},[a("StorageClassSelector",{attrs:{value:e.value.grafana.persistence.existingClaim,mode:e.mode,options:e.pvcs,label:e.t("monitoring.grafana.storage.existingClaim")},on:{updateName:function(t){return e.$set(e.value.grafana.persistence,"existingClaim",t)}}})],1)])]:"pvc"===e.persistentStorageType?[a("div",{staticClass:"row"},[a("div",{staticClass:"col span-6"},[a("LabeledInput",{attrs:{label:e.t("monitoring.grafana.storage.size"),mode:e.mode},model:{value:e.value.grafana.persistence.size,callback:function(t){e.$set(e.value.grafana.persistence,"size",t)},expression:"value.grafana.persistence.size"}})],1),a("div",{staticClass:"col span-6"},[e.showStorageClasses?a("div",[a("StorageClassSelector",{attrs:{value:e.value.grafana.persistence.storageClassName,mode:e.mode,options:e.storageClasses,label:e.t("monitoring.prometheus.storage.className")},on:{updateName:function(t){return e.$set(e.value.grafana.persistence,"storageClassName",t)}}})],1):e._e()])]),a("div",{staticClass:"row"},[a("div",{staticClass:"col span-6"},[a("LabeledSelect",{attrs:{label:e.t("monitoring.grafana.storage.mode"),"localized-label":!0,mode:e.mode,multiple:!0,options:e.accessModes,reduce:function(e){var t=e.id;return t}},model:{value:e.value.grafana.persistence.accessModes,callback:function(t){e.$set(e.value.grafana.persistence,"accessModes",t)},expression:"value.grafana.persistence.accessModes"}})],1)]),a("div",{staticClass:"mt-20"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col span-12"},[a("KeyValue",{attrs:{mode:e.mode,protip:!0,"read-allowed":!1,title:e.t("monitoring.grafana.storage.annotations")},scopedSlots:e._u([{key:"title",fn:function(){return[a("h4",[e._v(e._s(e.t("monitoring.grafana.storage.annotations")))])]},proxy:!0}]),model:{value:e.value.grafana.persistence.annotations,callback:function(t){e.$set(e.value.grafana.persistence,"annotations",t)},expression:"value.grafana.persistence.annotations"}})],1)])]),a("div",{staticClass:"row mt-20"},[a("div",{staticClass:"col span-12"},[a("ArrayList",{attrs:{"table-class":"fixed",mode:e.mode,title:e.t("monitoring.grafana.storage.finalizers")},scopedSlots:e._u([{key:"title",fn:function(){return[a("h4",[e._v(e._s(e.t("monitoring.grafana.storage.finalizers")))])]},proxy:!0}]),model:{value:e.value.grafana.persistence.finalizers,callback:function(t){e.$set(e.value.grafana.persistence,"finalizers",t)},expression:"value.grafana.persistence.finalizers"}})],1)])]:"statefulset"===e.persistentStorageType?[a("div",{staticClass:"row"},[a("div",{staticClass:"col span-6"},[a("LabeledInput",{attrs:{label:e.t("monitoring.grafana.storage.size"),mode:e.mode},model:{value:e.value.grafana.persistence.size,callback:function(t){e.$set(e.value.grafana.persistence,"size",t)},expression:"value.grafana.persistence.size"}})],1),a("div",{staticClass:"col span-6"},[e.showStorageClasses?a("div",[a("StorageClassSelector",{attrs:{value:e.value.grafana.persistence.storageClassName,mode:e.mode,options:e.storageClasses,label:e.t("monitoring.prometheus.storage.className")},on:{updateName:function(t){return e.$set(e.value.grafana.persistence,"storageClassName",t)}}})],1):e._e()])]),a("div",{staticClass:"row"},[a("div",{staticClass:"col span-6"},[a("LabeledSelect",{attrs:{label:e.t("monitoring.grafana.storage.mode"),"localized-label":!0,mode:e.mode,multiple:!0,options:e.accessModes,reduce:function(e){var t=e.id;return t}},model:{value:e.value.grafana.persistence.accessModes,callback:function(t){e.$set(e.value.grafana.persistence,"accessModes",t)},expression:"value.grafana.persistence.accessModes"}})],1)])]:e._e()],2)])},r=[],o=a("f23d"),l=(a("f89b"),a("d802")),i=Object(l["a"])(o["a"],s,r,!1,null,null,null);t["default"]=i.exports},"29af":function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"v1-monitoring"},[e.haveV1Monitoring?[a("IconMessage",{staticClass:"mt-40 mb-20",attrs:{icon:"icon-warning",vertical:!0,"icon-state":"warning"},scopedSlots:e._u([{key:"message",fn:function(){return[a("p",[e._v(" "+e._s(e.t("monitoring.installSteps.uninstallV1.warning1"))+" ")]),a("p",{staticClass:"mt-10",domProps:{innerHTML:e._s(e.t("monitoring.installSteps.uninstallV1.warning2",{},!0))}})]},proxy:!0}],null,!1,429924177)}),a("AsyncButton",{attrs:{mode:"uninstall",delay:0},on:{click:e.uninstall}})]:a("IconMessage",{staticClass:"mt-40",attrs:{icon:"icon-checkmark",vertical:!0,"icon-state":"success"},scopedSlots:e._u([{key:"message",fn:function(){return[a("p",{},[e._v(" "+e._s(e.t("monitoring.installSteps.uninstallV1.success1"))+" ")]),a("p",{staticClass:"mt-10",domProps:{innerHTML:e._s(e.t("monitoring.installSteps.uninstallV1.success2"))}})]},proxy:!0}])})],2)},r=[],o=a("f390"),l=a("d709"),i=a("7b40");function n(e,t){return new Promise(a=>{setTimeout(a.bind(null,t),e)})}var c={label:"monitoring.installSteps.uninstallV1.stepTitle",subtext:"monitoring.installSteps.uninstallV1.stepSubtext",weight:100,components:{AsyncButton:l["b"],IconMessage:i["a"]},data(){return{haveV1Monitoring:!1,error:null}},mounted(){this.haveV1Monitoring=Object(o["a"])(this.$store.getters),this.$emit("update",{loading:!1,ready:!1,hidden:!this.haveV1Monitoring})},methods:{uninstall(e){this.$store.dispatch("cluster/promptModal",{component:"GenericPrompt",resources:{applyMode:"uninstall",applyAction:async e=>{await this.$store.getters["currentCluster"].doAction("disableMonitoring");for(let t=0;t<30;t++){const t=Object(o["a"])(this.$store.getters),a=await Object(o["b"])(this.$store);if(!t&&!a)return this.$emit("update",{ready:!0,hidden:!0}),this.haveV1Monitoring=!1,void e(!0);await n(1e3)}throw new Error("Failed to uninstall: timed out")},title:this.t("promptRemove.title",{},!0),body:this.t("monitoring.installSteps.uninstallV1.promptDescription",{},!0)}}),e(!0)}}},u=c,d=(a("691b"),a("d802")),p=Object(d["a"])(u,s,r,!1,null,"00e1386d",null);t["default"]=p.exports},"2c14":function(e,t,a){"use strict";a("2440")},"2ffc":function(e,t,a){var s=a("392a");s.__esModule&&(s=s.default),"string"===typeof s&&(s=[[e.i,s,""]]),s.locals&&(e.exports=s.locals);var r=a("0ed3").default;r("405f7b8c",s,!0,{sourceMap:!1,shadowMode:!1})},3442:function(e,t,a){"use strict";a.d(t,"a",(function(){return s})),a.d(t,"b",(function(){return r}));var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"title"},[a("h3",[e._v(e._s(e.t("monitoring.prometheus.title")))])]),e.filteredWorkloads&&e.warnUser?a("Banner",{attrs:{color:"warning"},scopedSlots:e._u([{key:"default",fn:function(){return[a("t",{attrs:{k:"monitoring.prometheus.warningInstalled",raw:!0}}),e._l(e.filteredWorkloads,(function(t){return a("div",{key:t.id,staticClass:"mt-10"},[a("nuxt-link",{staticClass:"btn role-tertiary",attrs:{to:t.link}},[e._v(" "+e._s(t.label)+" ")])],1)}))]},proxy:!0}],null,!1,1007101933)}):e._e(),a("div",{staticClass:"prometheus-config"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col span-6 col-full-height"},[a("Checkbox",{attrs:{label:e.t("monitoring.prometheus.config.adminApi")},model:{value:e.value.prometheus.prometheusSpec.enableAdminAPI,callback:function(t){e.$set(e.value.prometheus.prometheusSpec,"enableAdminAPI",t)},expression:"value.prometheus.prometheusSpec.enableAdminAPI"}})],1),a("div",{staticClass:"col span-6 col-full-height"},[a("RadioGroup",{attrs:{mode:e.mode,name:"ignoreNamespaceSelectors","label-key":"monitoring.prometheus.config.ignoreNamespaceSelectors.label",tooltip:e.t("monitoring.prometheus.config.ignoreNamespaceSelectors.help",{},!0),labels:[e.t("monitoring.prometheus.config.ignoreNamespaceSelectors.radio.enforced"),e.t("monitoring.prometheus.config.ignoreNamespaceSelectors.radio.ignored")],options:[!1,!0]},model:{value:e.value.prometheus.prometheusSpec.ignoreNamespaceSelectors,callback:function(t){e.$set(e.value.prometheus.prometheusSpec,"ignoreNamespaceSelectors",t)},expression:"value.prometheus.prometheusSpec.ignoreNamespaceSelectors"}})],1)]),a("div",{staticClass:"row"},[a("div",{staticClass:"col span-6"},[a("LabeledInput",{attrs:{label:e.t("monitoring.prometheus.config.scrape"),mode:e.mode},model:{value:e.value.prometheus.prometheusSpec.scrapeInterval,callback:function(t){e.$set(e.value.prometheus.prometheusSpec,"scrapeInterval",t)},expression:"value.prometheus.prometheusSpec.scrapeInterval"}})],1),a("div",{staticClass:"col span-6"},[a("LabeledInput",{attrs:{label:e.t("monitoring.prometheus.config.evaluation"),mode:e.mode},model:{value:e.value.prometheus.prometheusSpec.evaluationInterval,callback:function(t){e.$set(e.value.prometheus.prometheusSpec,"evaluationInterval",t)},expression:"value.prometheus.prometheusSpec.evaluationInterval"}})],1)]),a("div",{staticClass:"row"},[a("div",{staticClass:"col span-6"},[a("LabeledInput",{attrs:{label:e.t("monitoring.prometheus.config.retention"),mode:e.mode},model:{value:e.value.prometheus.prometheusSpec.retention,callback:function(t){e.$set(e.value.prometheus.prometheusSpec,"retention",t)},expression:"value.prometheus.prometheusSpec.retention"}})],1),a("div",{staticClass:"col span-6"},[a("LabeledInput",{attrs:{label:e.t("monitoring.prometheus.config.retentionSize"),mode:e.mode},model:{value:e.value.prometheus.prometheusSpec.retentionSize,callback:function(t){e.$set(e.value.prometheus.prometheusSpec,"retentionSize",t)},expression:"value.prometheus.prometheusSpec.retentionSize"}})],1)]),a("div",{staticClass:"row"},[a("div",{staticClass:"col span-12 mt-5"},[a("h4",{staticClass:"mb-0"},[e._v(" "+e._s(e.t("monitoring.prometheus.config.resourceLimits"))+" ")])])]),a("div",{staticClass:"row"},[a("div",{staticClass:"col span-6"},[a("LabeledInput",{attrs:{label:e.t("monitoring.prometheus.config.requests.cpu"),mode:e.mode},model:{value:e.value.prometheus.prometheusSpec.resources.requests.cpu,callback:function(t){e.$set(e.value.prometheus.prometheusSpec.resources.requests,"cpu",t)},expression:"value.prometheus.prometheusSpec.resources.requests.cpu"}})],1),a("div",{staticClass:"col span-6"},[a("LabeledInput",{attrs:{label:e.t("monitoring.prometheus.config.requests.memory"),mode:e.mode},model:{value:e.value.prometheus.prometheusSpec.resources.requests.memory,callback:function(t){e.$set(e.value.prometheus.prometheusSpec.resources.requests,"memory",t)},expression:"value.prometheus.prometheusSpec.resources.requests.memory"}})],1)]),a("div",{staticClass:"row"},[a("div",{staticClass:"col span-6"},[a("LabeledInput",{attrs:{label:e.t("monitoring.prometheus.config.limits.cpu"),mode:e.mode},model:{value:e.value.prometheus.prometheusSpec.resources.limits.cpu,callback:function(t){e.$set(e.value.prometheus.prometheusSpec.resources.limits,"cpu",t)},expression:"value.prometheus.prometheusSpec.resources.limits.cpu"}})],1),a("div",{staticClass:"col span-6"},[a("LabeledInput",{attrs:{label:e.t("monitoring.prometheus.config.limits.memory"),mode:e.mode},model:{value:e.value.prometheus.prometheusSpec.resources.limits.memory,callback:function(t){e.$set(e.value.prometheus.prometheusSpec.resources.limits,"memory",t)},expression:"value.prometheus.prometheusSpec.resources.limits.memory"}})],1)]),a("div",{staticClass:"row row-full-height container-flex-center",staticStyle:{"min-height":"55px"}},[a("div",{staticClass:"col span-6"},[a("Checkbox",{attrs:{label:e.t("monitoring.prometheus.storage.label")},model:{value:e.enablePersistentStorage,callback:function(t){e.enablePersistentStorage=t},expression:"enablePersistentStorage"}})],1)]),e.enablePersistentStorage?[a("div",{staticClass:"row"},[a("div",{staticClass:"col span-6"},[a("LabeledInput",{attrs:{label:e.t("monitoring.prometheus.storage.size"),mode:e.mode},model:{value:e.value.prometheus.prometheusSpec.storageSpec.volumeClaimTemplate.spec.resources.requests.storage,callback:function(t){e.$set(e.value.prometheus.prometheusSpec.storageSpec.volumeClaimTemplate.spec.resources.requests,"storage",t)},expression:"value.prometheus.prometheusSpec.storageSpec.volumeClaimTemplate.spec.resources.requests.storage"}})],1),a("div",{staticClass:"col span-6"},[e.showStorageClasses?a("div",[a("StorageClassSelector",{attrs:{mode:e.mode,options:e.storageClasses,value:e.value.prometheus.prometheusSpec.storageSpec.volumeClaimTemplate.spec.storageClassName,label:e.t("monitoring.prometheus.storage.className")},on:{updateName:function(t){return e.$set(e.value.prometheus.prometheusSpec.storageSpec.volumeClaimTemplate.spec,"storageClassName",t)}}})],1):e._e()])]),a("div",{staticClass:"row"},[a("div",{staticClass:"col span-6"},[a("LabeledSelect",{attrs:{label:e.t("monitoring.prometheus.storage.mode"),"localized-label":!0,mode:e.mode,multiple:!0,options:e.accessModes,reduce:function(e){var t=e.id;return t}},model:{value:e.value.prometheus.prometheusSpec.storageSpec.volumeClaimTemplate.spec.accessModes,callback:function(t){e.$set(e.value.prometheus.prometheusSpec.storageSpec.volumeClaimTemplate.spec,"accessModes",t)},expression:"value.prometheus.prometheusSpec.storageSpec.volumeClaimTemplate.spec.accessModes"}})],1),a("div",{staticClass:"col span-6"},[a("LabeledSelect",{attrs:{label:e.t("monitoring.prometheus.storage.volumeMode"),"localized-label":!0,mode:e.mode,options:e.volumeModes,reduce:function(e){var t=e.id;return t}},model:{value:e.value.prometheus.prometheusSpec.storageSpec.volumeClaimTemplate.spec.volumeMode,callback:function(t){e.$set(e.value.prometheus.prometheusSpec.storageSpec.volumeClaimTemplate.spec,"volumeMode",t)},expression:"value.prometheus.prometheusSpec.storageSpec.volumeClaimTemplate.spec.volumeMode"}})],1)]),a("div",{staticClass:"row"},[a("div",{staticClass:"col span-12"},[a("div",{staticClass:"mb-5 mt-5"},[a("h4",{staticClass:" mb-10"},[e._v(" "+e._s(e.t("monitoring.prometheus.storage.selector"))+" ")])]),a("Banner",{attrs:{color:"warning",label:e.t("monitoring.prometheus.storage.selectorWarning",{},!0)}}),a("MatchExpressions",{attrs:{"initial-empty-row":!1,mode:e.mode,value:e.matchExpressions,"show-remove":!1},on:{input:function(t){return e.matchChanged(t)}}})],1)])]:e._e()],2)],1)},r=[]},"34ac":function(e,t,a){"use strict";a("6d12")},"38b7":function(e,t,a){"use strict";a("8b88")},"392a":function(e,t,a){var s=a("5eaa");t=s(!1),t.push([e.i,'.clearfix[data-v-c37a1d12]:after,.clearfix[data-v-c37a1d12]:before{content:" ";display:table}.clearfix[data-v-c37a1d12]:after{clear:both}.list-unstyled[data-v-c37a1d12]{margin:0;padding:0;list-style-type:none}.no-select[data-v-c37a1d12]{-webkit-user-select:none;-moz-user-select:none;user-select:none}.no-resize[data-v-c37a1d12]{resize:none}.hand[data-v-c37a1d12]{cursor:pointer;cursor:hand}.fixed[data-v-c37a1d12]{table-layout:fixed}.clip[data-v-c37a1d12]{text-overflow:ellipsis;overflow:hidden;white-space:nowrap}.clip[data-v-c37a1d12],.force-wrap[data-v-c37a1d12]{word-wrap:break-word}.force-wrap[data-v-c37a1d12]{white-space:normal}.bordered-section[data-v-c37a1d12]{border-bottom:1px solid var(--border);margin-bottom:20px;padding-bottom:20px}.section-divider[data-v-c37a1d12]{margin-bottom:20px;margin-top:20px}[data-v-c37a1d12] .radio-group.label>SPAN{font-size:1em}',""]),e.exports=t},"39f3":function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("Tab",{attrs:{label:"Chart Options",name:"chartOptions"}},[a("Banner",{attrs:{color:"info",label:e.t("backupRestoreOperator.deployment.storage.tip")}}),a("RadioGroup",{staticClass:"mb-10",attrs:{name:"storageSource",label:e.t("backupRestoreOperator.deployment.storage.label"),options:e.radioOptions.options,labels:e.radioOptions.labels},model:{value:e.storageSource,callback:function(t){e.storageSource=t},expression:"storageSource"}}),"s3"===e.storageSource?a("S3",{attrs:{value:e.value.s3,secrets:e.secrets,mode:e.mode}}):[a("div",{staticClass:"row"},["pickSC"===e.storageSource?[a("div",{staticClass:"col span-6"},[a("LabeledSelect",{key:e.storageSource,attrs:{"get-option-label":function(e){return e.id||e},label:e.t("backupRestoreOperator.deployment.storage.storageClass.label"),tooltip:e.reclaimWarning?e.t("backupRestoreOperator.deployment.storage.warning",{type:"Storage Class"}):null,mode:e.mode,status:e.reclaimWarning?"warning":null,options:e.storageClasses,"hover-tooltip":!0},model:{value:e.storageClass,callback:function(t){e.storageClass=t},expression:"storageClass"}})],1),a("div",{staticClass:"col span-6"},[a("LabeledInput",{attrs:{mode:e.mode,label:e.t("backupRestoreOperator.deployment.size")},model:{value:e.value.persistence.size,callback:function(t){e.$set(e.value.persistence,"size",t)},expression:"value.persistence.size"}})],1)]:"pickPV"===e.storageSource?a("div",{staticClass:"col span-6"},[a("LabeledSelect",{key:e.storageSource,attrs:{"get-option-label":function(e){return e.id||e},label:e.t("backupRestoreOperator.deployment.storage.persistentVolume.label"),tooltip:e.reclaimWarning?e.t("backupRestoreOperator.deployment.storage.warning",{type:"Persistent Volume"}):null,mode:e.mode,status:e.reclaimWarning?"warning":null,options:e.availablePVs,"hover-tooltip":!0},model:{value:e.persistentVolume,callback:function(t){e.persistentVolume=t},expression:"persistentVolume"}})],1):e._e()],2)]],2)],1)},r=[],o=a("92ef"),l=(a("a20f"),a("d802")),i=Object(l["a"])(o["a"],s,r,!1,null,"c37a1d12",null);t["default"]=i.exports},"3a2e":function(e,t,a){"use strict";a("b5f3")},"3c13":function(e,t,a){var s=a("9afd");s.__esModule&&(s=s.default),"string"===typeof s&&(s=[[e.i,s,""]]),s.locals&&(e.exports=s.locals);var r=a("0ed3").default;r("6a11ffb8",s,!0,{sourceMap:!1,shadowMode:!1})},"3c69":function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"logging"},["k3s"===e.provider?a("div",{staticClass:"row mb-20"},[a("div",{staticClass:"col span-6"},[a("LabeledInput",{attrs:{label:e.t("logging.install.k3sContainerEngine")},model:{value:e.value.additionalLoggingSources.k3s.container_engine,callback:function(t){e.$set(e.value.additionalLoggingSources.k3s,"container_engine",t)},expression:"value.additionalLoggingSources.k3s.container_engine"}})],1)]):e._e(),a("div",{staticClass:"row mb-20"},[a("div",{staticClass:"col span-6"},[a("LabeledInput",{attrs:{label:e.t("logging.install.dockerRootDirectory")},model:{value:e.value.global.dockerRootDirectory,callback:function(t){e.$set(e.value.global,"dockerRootDirectory",t)},expression:"value.global.dockerRootDirectory"}})],1)]),a("div",{staticClass:"row mb-20"},[a("div",{staticClass:"col span-6"},[a("LabeledInput",{attrs:{placeholder:e.t("logging.install.default"),label:e.t("logging.install.systemdLogPath"),tooltip:e.t("logging.install.tooltip",{},!0)},model:{value:e.value.systemdLogPath,callback:function(t){e.$set(e.value,"systemdLogPath",t)},expression:"value.systemdLogPath"}}),a("p",{staticClass:"mt-6",domProps:{innerHTML:e._s(e.t("logging.install.url",{},!0))}})],1)]),a("div",{staticClass:"row"},[a("div",{staticClass:"col span-6"},[a("Checkbox",{attrs:{label:e.t("logging.install.enableAdditionalLoggingSources")},model:{value:e.value.additionalLoggingSources[e.provider].enabled,callback:function(t){e.$set(e.value.additionalLoggingSources[e.provider],"enabled",t)},expression:"value.additionalLoggingSources[provider].enabled"}})],1)])])},r=[],o=a("a071"),l=a("d802"),i=Object(l["a"])(o["a"],s,r,!1,null,null,null);t["default"]=i.exports},"3e15":function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("LabeledSelect",e._b({attrs:{value:e.value,"option-key":"metadata.name","option-label":"metadata.name","create-option":e.createNewStorageClassName,"localized-label":!1,options:e.options,"push-tags":!0,taggable:!0},on:{input:e.updateName}},"LabeledSelect",e.$attrs,!1))},r=[],o=a("466b"),l={components:{LabeledSelect:o["a"]},props:{options:{type:Array,default:()=>[]},value:{type:String,default:""}},methods:{createNewStorageClassName(e){return e={metadata:{name:e}},e},updateName({metadata:{name:e}}){this.$emit("updateName",e)}}},i=l,n=a("d802"),c=Object(n["a"])(i,s,r,!1,null,null,null);t["default"]=c.exports},"42b0":function(e,t,a){"use strict";var s=a("9ce4"),r=a("da25"),o=a("4ac6"),l=a("5000"),i=a("bcb3"),n=a("d004"),c=a("d37d"),u=a("907c"),d=(a("1d19"),a("fec4")),p=a.n(d);function m(e){return p.a.valid(e)||(e=p.a.clean(e,{loose:!0})),!!p.a.prerelease(e)}var v=a("94a3"),g=a.n(v);a("4048"),a("a8b9"),a("e24b"),a("bddd"),a("3e9d"),a("3f01"),a("d5fb"),a("2cb5"),a("72f9");o["c"]._RANCHER,o["c"]._EXPERIMENTAL,o["c"]._PARTNER;const h="linux";t["a"]={data(){return{version:null,versionInfo:null,existing:null,ignoreWarning:!1}},computed:{...Object(s["a"])(["currentCluster","isRancher"]),showPreRelease:Object(l["s"])(l["p"]),chart(){return this.repo&&this.query.chartName?this.$store.getters["catalog/chart"]({repoType:this.query.repoType,repoName:this.query.repoName,chartName:this.query.chartName,includeHidden:!0}):null},repo(){return this.$store.getters["catalog/repo"]({repoType:this.query.repoType,repoName:this.query.repoName})},showReadme(){var e;return!(null===(e=this.versionInfo)||void 0===e||!e.readme)},hasReadme(){var e,t;return!(null===(e=this.versionInfo)||void 0===e||!e.appReadme)||!(null===(t=this.versionInfo)||void 0===t||!t.readme)},mappedVersions(){var e,t;const a=(null===(e=this.chart)||void 0===e?void 0:e.versions)||[],s=this.targetVersion,r=null===(t=this.currentCluster)||void 0===t?void 0:t.workerOSs,l=[];a.forEach(e=>{var t;const a={label:e.version,version:e.version,originalVersion:e.version,shortLabel:e.version.length>16?e.version.slice(0,15)+"...":e.version,id:e.version,created:e.created,disabled:!1,keywords:e.keywords},s=((null===e||void 0===e||null===(t=e.annotations)||void 0===t?void 0:t[o["c"].PERMITTED_OS])||h).split(",");s.length>0&&g()(r,s).length>0&&(a.disabled=!0),1===s.length&&(a.label=this.t("catalog.install.versions."+s[0],{ver:e.version})),!this.showPreRelease&&m(e.version)||l.push(a)});const i=l.find(e=>e.id===s);i||l.unshift({label:s,originalVersion:s,shortLabel:s.length>16?s.slice(0,15)+"...":s,id:s,created:null,disabled:!1,keywords:[]});const n=l.find(e=>e.originalVersion===this.currentVersion);return n&&(n.label=this.t("catalog.install.versions.current",{ver:this.currentVersion})),l},filteredVersions(){return this.showPreRelease?this.mappedVersions:this.mappedVersions.filter(e=>!e.isPre)},query(){const e=this.$route.query;return{repoType:e[r["m"]],repoName:e[r["l"]],chartName:e[r["c"]],versionName:e[r["r"]],appNamespace:e[r["j"]]||"",appName:e[r["i"]]||"",description:e[r["e"]]}},showDeprecated(){return this.$route.query[r["d"]]===r["x"]},showHidden(){return this.$route.query[r["f"]]===r["x"]},warnings(){const e=[];if(this.existing);else{var t,a,s,r,l,i;const n=Object(c["d"])((null===(t=this.version)||void 0===t||null===(a=t.annotations)||void 0===a?void 0:a[o["c"].REQUESTS_CPU])||"0"),u=Object(c["d"])((null===(s=this.version)||void 0===s||null===(r=s.annotations)||void 0===r?void 0:r[o["c"].REQUESTS_MEMORY])||"0"),d=null===(l=this.currentCluster)||void 0===l?void 0:l.availableCpu,p=null===(i=this.currentCluster)||void 0===i?void 0:i.availableMemory;null!==d&&d<n&&e.push(this.t("catalog.install.error.insufficientCpu",{need:Math.round(100*n)/100,have:Math.round(100*d)/100})),null!==p&&p<u&&e.push(this.t("catalog.install.error.insufficientMemory",{need:Object(c["c"])(u,{increment:1024,suffix:"iB",firstSuffix:"B"}),have:Object(c["c"])(p,{increment:1024,suffix:"iB",firstSuffix:"B"})}))}return e},requires(){var e,t;const a=[],s=((null===(e=this.version)||void 0===e||null===(t=e.annotations)||void 0===t?void 0:t[o["c"].REQUIRES_GVK])||"").split(/\s*,\s*/).filter(e=>!!e).reverse();if(s.length)for(const r of s){if(this.$store.getters["catalog/isInstalled"]({gvr:r}))continue;const e=this.provider(r);if(e){const t=this.$router.resolve(this.chartLocation(!0,e)).href;a.push(this.t("catalog.install.error.requiresFound",{url:t,name:e.name},!0))}else a.push(this.t("catalog.install.error.requiresMissing",{name:r}))}return a},currentVersion(){var e;return null===(e=this.existing)||void 0===e?void 0:e.spec.chart.metadata.version},targetVersion(){return this.version?this.version.version:this.query.versionName},action(){return this.existing?this.currentVersion===this.targetVersion?"update":"upgrade":"install"},isChartTargeted(){var e,t;return(null===(e=this.chart)||void 0===e?void 0:e.targetNamespace)&&(null===(t=this.chart)||void 0===t?void 0:t.targetName)},hasQuestions(){return this.versionInfo&&!!this.versionInfo.questions}},methods:{async fetchChart(){var e,t,a;if(await this.$store.dispatch("catalog/load"),this.query.appNamespace&&this.query.appName)try{this.existing=await this.$store.dispatch("cluster/find",{type:u["b"].APP,id:`${this.query.appNamespace}/${this.query.appName}`}),this.mode=r["w"]}catch(s){this.mode=r["u"],this.existing=null}else if(null!==(e=this.chart)&&void 0!==e&&e.targetNamespace&&null!==(t=this.chart)&&void 0!==t&&t.targetName)try{this.existing=await this.$store.dispatch("cluster/find",{type:u["b"].APP,id:`${this.chart.targetNamespace}/${this.chart.targetName}`}),this.mode=r["w"]}catch(s){this.mode=r["u"],this.existing=null}else this.mode=r["u"];if(this.chart&&(!this.query.versionName&&null!==(a=this.chart.versions)&&void 0!==a&&a.length&&(this.query.versionName=this.chart.versions[0].version),this.query.versionName)){try{this.version=this.$store.getters["catalog/version"]({repoType:this.query.repoType,repoName:this.query.repoName,chartName:this.query.chartName,versionName:this.query.versionName})}catch(s){console.error("Unable to fetch Version: ",s)}this.version||console.warn("No version found: ",this.query.repoType,this.query.repoName,this.query.chartName,this.query.versionName);try{this.versionInfo=await this.$store.dispatch("catalog/getVersionInfo",{repoType:this.query.repoType,repoName:this.query.repoName,chartName:this.query.chartName,versionName:this.query.versionName})}catch(s){console.error("Unable to fetch VersionInfo: ",s)}}},selectVersion({id:e}){this.$router.applyQuery({[r["r"]]:e})},provider(e){return this.$store.getters["catalog/versionProviding"]({gvr:e,repoName:this.chart.repoName,repoType:this.chart.repoType})},chartLocation(e=!1,t){const a=t||{repoType:this.chart.repoType,repoName:this.chart.repoName,name:this.chart.chartName,version:this.chart.versionName};return{name:e?"c-cluster-apps-charts-install":"c-cluster-apps-charts-chart",params:{cluster:this.$route.params.cluster,product:this.$store.getters["productId"]},query:{[r["m"]]:a.repoType,[r["l"]]:a.repoName,[r["c"]]:a.name,[r["r"]]:a.version}}},appLocation(){var e;return(null===(e=this.existing)||void 0===e?void 0:e.detailLocation)||{name:"c-cluster-product-resource",params:{product:this.$store.getters["productId"],cluster:this.$store.getters["clusterId"],resource:u["b"].APP}}},clusterToolsLocation(){return{name:"c-cluster-explorer-tools",params:{product:i["a"],cluster:this.$store.getters["clusterId"],resource:u["b"].APP}}},clustersLocation(){return{name:"c-cluster-product-resource",params:{cluster:this.$route.params.cluster,product:n["a"],resource:u["a"].RANCHER_CLUSTER}}}}}},"51a4":function(e,t,a){"use strict";a.d(t,"a",(function(){return s})),a.d(t,"b",(function(){return r}));var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"title"},[a("h3",[e._v(e._s(e.t("monitoring.grafana.title")))])]),a("div",{staticClass:"grafana-config"},[a("div",{staticClass:"row pt-10 pb-10"},[a("div",{staticClass:"col span-12 persistent-storage-config"},[a("RadioGroup",{attrs:{name:"persistentStorageType",label:e.t("monitoring.grafana.storage.label"),labels:e.persistentStorageTypeLabels,mode:e.mode,options:e.persistentStorageTypes},model:{value:e.persistentStorageType,callback:function(t){e.persistentStorageType=t},expression:"persistentStorageType"}})],1)]),"existing"===e.persistentStorageType?[a("div",{staticClass:"row"},[a("div",{staticClass:"col span-6"},[a("StorageClassSelector",{attrs:{value:e.value.grafana.persistence.existingClaim,mode:e.mode,options:e.pvcs,label:e.t("monitoring.grafana.storage.existingClaim")},on:{updateName:function(t){return e.$set(e.value.grafana.persistence,"existingClaim",t)}}})],1)])]:"pvc"===e.persistentStorageType?[a("div",{staticClass:"row"},[a("div",{staticClass:"col span-6"},[a("LabeledInput",{attrs:{label:e.t("monitoring.grafana.storage.size"),mode:e.mode},model:{value:e.value.grafana.persistence.size,callback:function(t){e.$set(e.value.grafana.persistence,"size",t)},expression:"value.grafana.persistence.size"}})],1),a("div",{staticClass:"col span-6"},[e.showStorageClasses?a("div",[a("StorageClassSelector",{attrs:{value:e.value.grafana.persistence.storageClassName,mode:e.mode,options:e.storageClasses,label:e.t("monitoring.prometheus.storage.className")},on:{updateName:function(t){return e.$set(e.value.grafana.persistence,"storageClassName",t)}}})],1):e._e()])]),a("div",{staticClass:"row"},[a("div",{staticClass:"col span-6"},[a("LabeledSelect",{attrs:{label:e.t("monitoring.grafana.storage.mode"),"localized-label":!0,mode:e.mode,multiple:!0,options:e.accessModes,reduce:function(e){var t=e.id;return t}},model:{value:e.value.grafana.persistence.accessModes,callback:function(t){e.$set(e.value.grafana.persistence,"accessModes",t)},expression:"value.grafana.persistence.accessModes"}})],1)]),a("div",{staticClass:"mt-20"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col span-12"},[a("KeyValue",{attrs:{mode:e.mode,protip:!0,"read-allowed":!1,title:e.t("monitoring.grafana.storage.annotations")},scopedSlots:e._u([{key:"title",fn:function(){return[a("h4",[e._v(e._s(e.t("monitoring.grafana.storage.annotations")))])]},proxy:!0}]),model:{value:e.value.grafana.persistence.annotations,callback:function(t){e.$set(e.value.grafana.persistence,"annotations",t)},expression:"value.grafana.persistence.annotations"}})],1)])]),a("div",{staticClass:"row mt-20"},[a("div",{staticClass:"col span-12"},[a("ArrayList",{attrs:{"table-class":"fixed",mode:e.mode,title:e.t("monitoring.grafana.storage.finalizers")},scopedSlots:e._u([{key:"title",fn:function(){return[a("h4",[e._v(e._s(e.t("monitoring.grafana.storage.finalizers")))])]},proxy:!0}]),model:{value:e.value.grafana.persistence.finalizers,callback:function(t){e.$set(e.value.grafana.persistence,"finalizers",t)},expression:"value.grafana.persistence.finalizers"}})],1)])]:"statefulset"===e.persistentStorageType?[a("div",{staticClass:"row"},[a("div",{staticClass:"col span-6"},[a("LabeledInput",{attrs:{label:e.t("monitoring.grafana.storage.size"),mode:e.mode},model:{value:e.value.grafana.persistence.size,callback:function(t){e.$set(e.value.grafana.persistence,"size",t)},expression:"value.grafana.persistence.size"}})],1),a("div",{staticClass:"col span-6"},[e.showStorageClasses?a("div",[a("StorageClassSelector",{attrs:{value:e.value.grafana.persistence.storageClassName,mode:e.mode,options:e.storageClasses,label:e.t("monitoring.prometheus.storage.className")},on:{updateName:function(t){return e.$set(e.value.grafana.persistence,"storageClassName",t)}}})],1):e._e()])]),a("div",{staticClass:"row"},[a("div",{staticClass:"col span-6"},[a("LabeledSelect",{attrs:{label:e.t("monitoring.grafana.storage.mode"),"localized-label":!0,mode:e.mode,multiple:!0,options:e.accessModes,reduce:function(e){var t=e.id;return t}},model:{value:e.value.grafana.persistence.accessModes,callback:function(t){e.$set(e.value.grafana.persistence,"accessModes",t)},expression:"value.grafana.persistence.accessModes"}})],1)])]:e._e()],2)])},r=[]},"56dc":function(e,t,a){"use strict";var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.loaded?a("div",{staticClass:"markdown",domProps:{innerHTML:e._s(e.sanitized)}}):a("Loading")},r=[],o=a("15ca"),l={components:{Loading:o["a"]},props:{value:{type:String,required:!0}},data(){return{loaded:!1,marked:null,dompurify:null}},computed:{html(){return this.marked.parse(this.value,{renderer:this.markedRenderer,breaks:!0})},sanitized(){return this.dompurify.sanitize(this.html)}},async mounted(){const e=await a.e(27).then(a.t.bind(null,"80da",7)),t=(await a.e(27).then(a.t.bind(null,"3e09",7))).default,s=new e.Renderer,r=s.link,o=this.$router.resolve(this.$route).href.replace(/#.*$/,"");s.link=function(e,t,a){let s=!0;if(e.startsWith("./"))return a;e.startsWith("#")&&(e=`${o}${e}`,s=!1);const l=r.call(this,e,t,a);return s?l.replace(/^<a /,'<a target="_blank" rel="nofollow noopener noreferrer" '):l},t.setConfig({ADD_ATTR:["target"]}),this.marked=e,this.markedRenderer=s,this.dompurify=t,this.loaded=!0,this.$emit("loaded",!0)}},i=l,n=(a("928d"),a("d802")),c=Object(n["a"])(i,s,r,!1,null,null,null);t["a"]=c.exports},"5f61":function(e,t,a){"use strict";a.d(t,"a",(function(){return s})),a.d(t,"b",(function(){return r}));var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"title"},[a("h3",[a("t",{attrs:{k:"monitoring.alerting.title"}})],1)]),a("div",{staticClass:"alerting-config"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col span-6"},[a("Checkbox",{attrs:{label:e.t("monitoring.alerting.enable.label")},model:{value:e.value.alertmanager.enabled,callback:function(t){e.$set(e.value.alertmanager,"enabled",t)},expression:"value.alertmanager.enabled"}})],1)]),e.value.alertmanager.enabled?[a("div",{staticClass:"row"},[a("div",{staticClass:"col span-6"},[a("RadioGroup",{attrs:{name:"useExistingSecret",disabled:e.forceCreateNewSecret,"label-key":"monitoring.alerting.secrets.radio.label",tooltip:e.t("monitoring.alerting.secrets.info",{},e.raw=!0),mode:e.mode,labels:e.useExistingLabels,options:e.useExistingOptions},model:{value:e.value.alertmanager.alertmanagerSpec.useExistingSecret,callback:function(t){e.$set(e.value.alertmanager.alertmanagerSpec,"useExistingSecret",t)},expression:"value.alertmanager.alertmanagerSpec.useExistingSecret"}})],1),a("div",{staticClass:"col span-6"},[e.value.alertmanager.alertmanagerSpec.useExistingSecret?a("LabeledSelect",{staticClass:"provider",attrs:{label:e.t("monitoring.alerting.secrets.label"),options:e.filteredSecrets},model:{value:e.value.alertmanager.alertmanagerSpec.configSecret,callback:function(t){e.$set(e.value.alertmanager.alertmanagerSpec,"configSecret",t)},expression:"value.alertmanager.alertmanagerSpec.configSecret"}}):e._e()],1)]),e.allSecrets.length>0?a("div",{staticClass:"row"},[a("div",{staticClass:"col span-6"},[a("LabeledSelect",{attrs:{options:e.allSecrets,label:e.t("monitoring.alerting.secrets.additional.label"),mode:e.mode,multiple:!0},model:{value:e.value.alertmanager.alertmanagerSpec.secrets,callback:function(t){e.$set(e.value.alertmanager.alertmanagerSpec,"secrets",t)},expression:"value.alertmanager.alertmanagerSpec.secrets"}})],1)]):e._e()]:e._e()],2)])},r=[]},"67ba":function(e,t,a){"use strict";a("b561")},"691b":function(e,t,a){"use strict";a("cb66")},"6a1e":function(e,t,a){var s=a("5eaa");t=s(!1),t.push([e.i,'.clearfix[data-v-1ade22a7]:after,.clearfix[data-v-1ade22a7]:before{content:" ";display:table}.clearfix[data-v-1ade22a7]:after{clear:both}.list-unstyled[data-v-1ade22a7]{margin:0;padding:0;list-style-type:none}.no-select[data-v-1ade22a7]{-webkit-user-select:none;-moz-user-select:none;user-select:none}.no-resize[data-v-1ade22a7]{resize:none}.hand[data-v-1ade22a7]{cursor:pointer;cursor:hand}.fixed[data-v-1ade22a7]{table-layout:fixed}.clip[data-v-1ade22a7]{text-overflow:ellipsis;overflow:hidden;white-space:nowrap}.clip[data-v-1ade22a7],.force-wrap[data-v-1ade22a7]{word-wrap:break-word}.force-wrap[data-v-1ade22a7]{white-space:normal}.bordered-section[data-v-1ade22a7]{border-bottom:1px solid var(--border);margin-bottom:20px;padding-bottom:20px}.section-divider[data-v-1ade22a7]{margin-bottom:20px;margin-top:20px}.addon.with-tooltip[data-v-1ade22a7]{position:relative;right:30px}',""]),e.exports=t},"6d12":function(e,t,a){var s=a("058d");s.__esModule&&(s=s.default),"string"===typeof s&&(s=[[e.i,s,""]]),s.locals&&(e.exports=s.locals);var r=a("0ed3").default;r("67fecdcc",s,!0,{sourceMap:!1,shadowMode:!1})},"6f12":function(e,t,a){"use strict";a.d(t,"a",(function(){return s})),a.d(t,"b",(function(){return r}));var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.$fetchState.pending?a("Loading",{attrs:{mode:"relative"}}):a("div",{staticClass:"config-monitoring-container"},[a("Tab",{attrs:{name:"general",label:e.t("monitoring.tabs.general"),weight:99}},[a("div",[a("div",{staticClass:"row mb-20"},[a("ClusterSelector",{attrs:{value:e.value,mode:e.mode},on:{onClusterTypeChanged:function(t){e.clusterType=t}}})],1),"managed"===e.clusterType.group?a("div",{staticClass:"row mb-20"},[a("Checkbox",{attrs:{"label-key":"monitoring.hostNetwork.label",tooltip:e.t("monitoring.hostNetwork.tip",{},!0)},model:{value:e.value.prometheusOperator.hostNetwork,callback:function(t){e.$set(e.value.prometheusOperator,"hostNetwork",t)},expression:"value.prometheusOperator.hostNetwork"}})],1):e._e(),a("div",{staticClass:"row"},[a("div",{staticClass:"col span-6"},[a("Checkbox",{attrs:{"label-key":"monitoring.createDefaultRoles.label",tooltip:e.t("monitoring.createDefaultRoles.tip",{},!0)},model:{value:e.value.global.rbac.userRoles.create,callback:function(t){e.$set(e.value.global.rbac.userRoles,"create",t)},expression:"value.global.rbac.userRoles.create"}})],1),a("div",{staticClass:"col span-6"},[a("Checkbox",{attrs:{"label-key":"monitoring.aggregateDefaultRoles.label",tooltip:{content:e.t("monitoring.aggregateDefaultRoles.tip",{},!0),autoHide:!1},disabled:e.disableAggregateRoles},model:{value:e.value.global.rbac.userRoles.aggregateToDefaultRoles,callback:function(t){e.$set(e.value.global.rbac.userRoles,"aggregateToDefaultRoles",t)},expression:"value.global.rbac.userRoles.aggregateToDefaultRoles"}})],1)]),"rke"===e.provider&&e.value.rkeEtcd?a("div",{staticClass:"row mt-20"},[a("div",{staticClass:"col span-6"},[a("LabeledInput",{attrs:{label:e.t("monitoring.etcdNodeDirectory.label"),tooltip:e.t("monitoring.etcdNodeDirectory.tooltip",{},!0),"hover-tooltip":!0,mode:e.mode},model:{value:e.value.rkeEtcd.clients.https.certDir,callback:function(t){e.$set(e.value.rkeEtcd.clients.https,"certDir",t)},expression:"value.rkeEtcd.clients.https.certDir"}})],1)]):e._e()])]),a("Tab",{attrs:{name:"prometheus",label:e.t("monitoring.tabs.prometheus"),weight:98}},[a("div",[a("Prometheus",e._b({attrs:{"access-modes":e.accessModes,mode:e.mode,"storage-classes":e.storageClasses,"prometheus-pods":e.prometheusResources,workloads:e.workloads},model:{value:e.value,callback:function(t){e.value=t},expression:"value"}},"Prometheus",e.$attrs,!1))],1)]),a("Tab",{attrs:{name:"alerting",label:e.t("monitoring.tabs.alerting"),weight:97}},[a("div",[a("Alerting",{attrs:{mode:e.mode,secrets:e.secrets},model:{value:e.value,callback:function(t){e.value=t},expression:"value"}})],1)]),a("Tab",{attrs:{name:"grafana",label:e.t("monitoring.tabs.grafana"),weight:96}},[a("div",[a("Grafana",{attrs:{"access-modes":e.accessModes,mode:e.mode,pvcs:e.pvcs,"storage-classes":e.storageClasses},model:{value:e.value,callback:function(t){e.value=t},expression:"value"}})],1)])],1)},r=[]},"6f6c":function(e,t,a){"use strict";a.d(t,"a",(function(){return s})),a.d(t,"b",(function(){return r}));var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"logging"},["k3s"===e.provider?a("div",{staticClass:"row mb-20"},[a("div",{staticClass:"col span-6"},[a("LabeledInput",{attrs:{label:e.t("logging.install.k3sContainerEngine")},model:{value:e.value.additionalLoggingSources.k3s.container_engine,callback:function(t){e.$set(e.value.additionalLoggingSources.k3s,"container_engine",t)},expression:"value.additionalLoggingSources.k3s.container_engine"}})],1)]):e._e(),a("div",{staticClass:"row mb-20"},[a("div",{staticClass:"col span-6"},[a("LabeledInput",{attrs:{label:e.t("logging.install.dockerRootDirectory")},model:{value:e.value.global.dockerRootDirectory,callback:function(t){e.$set(e.value.global,"dockerRootDirectory",t)},expression:"value.global.dockerRootDirectory"}})],1)]),a("div",{staticClass:"row mb-20"},[a("div",{staticClass:"col span-6"},[a("LabeledInput",{attrs:{placeholder:e.t("logging.install.default"),label:e.t("logging.install.systemdLogPath"),tooltip:e.t("logging.install.tooltip",{},!0)},model:{value:e.value.systemdLogPath,callback:function(t){e.$set(e.value,"systemdLogPath",t)},expression:"value.systemdLogPath"}}),a("p",{staticClass:"mt-6",domProps:{innerHTML:e._s(e.t("logging.install.url",{},!0))}})],1)]),a("div",{staticClass:"row"},[a("div",{staticClass:"col span-6"},[a("Checkbox",{attrs:{label:e.t("logging.install.enableAdditionalLoggingSources")},model:{value:e.value.additionalLoggingSources[e.provider].enabled,callback:function(t){e.$set(e.value.additionalLoggingSources[e.provider],"enabled",t)},expression:"value.additionalLoggingSources[provider].enabled"}})],1)])])},r=[]},"72af":function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"title"},[a("h3",[a("t",{attrs:{k:"monitoring.alerting.title"}})],1)]),a("div",{staticClass:"alerting-config"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col span-6"},[a("Checkbox",{attrs:{label:e.t("monitoring.alerting.enable.label")},model:{value:e.value.alertmanager.enabled,callback:function(t){e.$set(e.value.alertmanager,"enabled",t)},expression:"value.alertmanager.enabled"}})],1)]),e.value.alertmanager.enabled?[a("div",{staticClass:"row"},[a("div",{staticClass:"col span-6"},[a("RadioGroup",{attrs:{name:"useExistingSecret",disabled:e.forceCreateNewSecret,"label-key":"monitoring.alerting.secrets.radio.label",tooltip:e.t("monitoring.alerting.secrets.info",{},e.raw=!0),mode:e.mode,labels:e.useExistingLabels,options:e.useExistingOptions},model:{value:e.value.alertmanager.alertmanagerSpec.useExistingSecret,callback:function(t){e.$set(e.value.alertmanager.alertmanagerSpec,"useExistingSecret",t)},expression:"value.alertmanager.alertmanagerSpec.useExistingSecret"}})],1),a("div",{staticClass:"col span-6"},[e.value.alertmanager.alertmanagerSpec.useExistingSecret?a("LabeledSelect",{staticClass:"provider",attrs:{label:e.t("monitoring.alerting.secrets.label"),options:e.filteredSecrets},model:{value:e.value.alertmanager.alertmanagerSpec.configSecret,callback:function(t){e.$set(e.value.alertmanager.alertmanagerSpec,"configSecret",t)},expression:"value.alertmanager.alertmanagerSpec.configSecret"}}):e._e()],1)]),e.allSecrets.length>0?a("div",{staticClass:"row"},[a("div",{staticClass:"col span-6"},[a("LabeledSelect",{attrs:{options:e.allSecrets,label:e.t("monitoring.alerting.secrets.additional.label"),mode:e.mode,multiple:!0},model:{value:e.value.alertmanager.alertmanagerSpec.secrets,callback:function(t){e.$set(e.value.alertmanager.alertmanagerSpec,"secrets",t)},expression:"value.alertmanager.alertmanagerSpec.secrets"}})],1)]):e._e()]:e._e()],2)])},r=[],o=a("edea"),l=(a("67ba"),a("d802")),i=Object(l["a"])(o["a"],s,r,!1,null,"fd8c73f8",null);t["default"]=i.exports},"753c":function(e,t,a){"use strict";var s=a("330a"),r=a.n(s),o=a("9ce4"),l=a("6418"),i=a("0df0"),n=a("8e93"),c=a("466b"),u=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[e.showRemove&&!e.isView?a("button",{staticClass:"btn role-link remove-expression",attrs:{type:"button"},on:{click:function(t){return e.$emit("remove")}}},[a("i",{staticClass:"icon icon-x"})]):e._e(),e.rules.length?a("div",{staticClass:"match-expression-header",class:{view:e.isView}},[a("label",[e._v(" "+e._s(e.t("workload.scheduling.affinity.matchExpressions.key"))+" ")]),a("label",[e._v(" "+e._s(e.t("workload.scheduling.affinity.matchExpressions.operator"))+" ")]),a("label",[e._v(" "+e._s(e.t("workload.scheduling.affinity.matchExpressions.value"))+" ")]),a("span")]):e._e(),e._l(e.rules,(function(t,s){return a("div",{key:t.id,staticClass:"match-expression-row",class:{view:e.isView,"mb-10":s!==e.rules.length-1}},[a("div",{attrs:{"data-testid":"input-match-expression-key-"+s}},[e.isView?a("div",[e._v(" "+e._s(t.key)+" ")]):a("input",{directives:[{name:"model",rawName:"v-model",value:t.key,expression:"row.key"}],attrs:{mode:e.mode},domProps:{value:t.key},on:{input:[function(a){a.target.composing||e.$set(t,"key",a.target.value)},e.update]}})]),a("div",{attrs:{"data-testid":"input-match-expression-operator-"+s}},[e.isView?a("div",[e._v(" "+e._s(t.operator)+" ")]):a("Select",{staticClass:"operator single",attrs:{options:e.ops,clearable:!1,reduce:function(e){return e.value},mode:e.mode},on:{input:e.update},model:{value:t.operator,callback:function(a){e.$set(t,"operator",a)},expression:"row.operator"}})],1),"Exists"===t.operator||"DoesNotExist"===t.operator?a("div",{staticClass:"no-value"},[a("label",{staticClass:"text-muted"},[e._v("…")])]):a("div",{attrs:{"data-testid":"input-match-expression-values-"+s}},[e.isView?a("div",[e._v(" "+e._s(t.values)+" ")]):a("input",{directives:[{name:"model",rawName:"v-model",value:t.values,expression:"row.values"}],attrs:{mode:e.mode,disabled:"Exists"===t.operator||"DoesNotExist"===t.operator},domProps:{value:t.values},on:{input:[function(a){a.target.composing||e.$set(t,"values",a.target.value)},e.update]}})]),a("div",{staticClass:"remove-container"},[e.isView?e._e():a("button",{staticClass:"btn role-link",style:{padding:"0px"},attrs:{type:"button",disabled:"view"===e.mode},on:{click:function(a){return e.removeRule(t)}}},[a("t",{attrs:{k:"generic.remove"}})],1)])])})),e.isView?e._e():a("div",{staticClass:"mt-20"},[a("button",{staticClass:"btn role-tertiary add",attrs:{type:"button"},on:{click:e.addRule}},[a("t",{attrs:{k:"workload.scheduling.affinity.matchExpressions.addRule"}})],1)])],2)},d=[],p=a("907c"),m=a("47ab"),v=a("bddd"),g=a("e24b"),h=a("2879"),b={components:{Select:m["a"]},props:{value:{type:[Array,Object],default:()=>[]},mode:{type:String,default:"edit"},type:{type:String,default:p["q"]},initialEmptyRow:{type:Boolean,default:!1},showRemove:{type:Boolean,default:!0}},data(){const e=this.$store.getters["i18n/t"],t=[{label:e("workload.scheduling.affinity.matchExpressions.in"),value:"In"},{label:e("workload.scheduling.affinity.matchExpressions.notIn"),value:"NotIn"},{label:e("workload.scheduling.affinity.matchExpressions.exists"),value:"Exists"},{label:e("workload.scheduling.affinity.matchExpressions.doesNotExist"),value:"DoesNotExist"}],a=[{label:e("workload.scheduling.affinity.matchExpressions.in"),value:"In"},{label:e("workload.scheduling.affinity.matchExpressions.notIn"),value:"NotIn"},{label:e("workload.scheduling.affinity.matchExpressions.exists"),value:"Exists"},{label:e("workload.scheduling.affinity.matchExpressions.doesNotExist"),value:"DoesNotExist"},{label:e("workload.scheduling.affinity.matchExpressions.lessThan"),value:"Lt"},{label:e("workload.scheduling.affinity.matchExpressions.greaterThan"),value:"Gt"}],s=this.type===p["q"]?a:t;let r;return r=Object(v["g"])(this.value)?[...this.value]:Object(h["a"])(this.value.matchLabels,this.value.matchExpressions),r=r.map(e=>{const t=Object(g["e"])(e);return t.values&&"string"!==typeof t.values&&(t.values=t.values.join(", ")),t}),r.length||!this.initialEmptyRow||this.isView||r.push({key:"",operator:"In",values:""}),{ops:s,rules:r,custom:[]}},computed:{isView(){return"view"===this.mode},node(){return p["q"]},pod(){return p["s"]},...Object(o["a"])({t:"i18n/t"})},methods:{removeRule(e){Object(v["i"])(this.rules,e),this.update()},addRule(){this.rules.push({key:"",operator:"In",values:""})},update(){this.$nextTick(()=>{const e=this.rules.map(e=>{const t={key:e.key,operator:e.operator};let a=(e.values||"").trim();if("Exists"===e.operator||"DoesNotExist"===e.operator)a=null;else if(!a)return;return null!==a&&(t.values=a.split(/\s*,\s*/).filter(e=>!!e)),t}).filter(e=>!!e);Object(v["g"])(this.value)?this.$emit("input",e):this.$emit("input",Object(h["c"])(e))})}}},f=b,y=(a("8a46"),a("d802")),x=Object(y["a"])(f,u,d,!1,null,"cb2d95b2",null),S=x.exports,C=a("3e15"),w=a("e143"),k={components:{Banner:l["a"],Checkbox:i["a"],LabeledInput:n["a"],LabeledSelect:c["a"],MatchExpressions:S,RadioGroup:w["a"],StorageClassSelector:C["default"]},props:{accessModes:{type:Array,required:!0},mode:{type:String,default:"create"},prometheusPods:{type:Array,default:()=>[]},storageClasses:{type:Array,default:()=>[]},value:{type:Object,default:()=>({})},workloads:{type:Array,default:()=>[]}},data(){var e,t,a,s,r;return{volumeModes:[{id:"Filesystem",label:"monitoring.volume.modes.file"},{id:"Block",label:"monitoring.volume.modes.block"}],enablePersistentStorage:!(null===(e=this.value)||void 0===e||null===(t=e.prometheus)||void 0===t||null===(a=t.prometheusSpec)||void 0===a||null===(s=a.storageSpec)||void 0===s||null===(r=s.volumeClaimTemplate)||void 0===r||!r.spec),warnUser:!1}},computed:{...Object(o["a"])(["currentCluster"]),matchExpressions:{get(){var e,t,a,s,r,o;const l=null===(e=this.value)||void 0===e||null===(t=e.prometheus)||void 0===t||null===(a=t.prometheusSpec)||void 0===a||null===(s=a.storageSpec)||void 0===s||null===(r=s.volumeClaimTemplate)||void 0===r||null===(o=r.spec)||void 0===o?void 0:o.selector;let i;return l&&null!==l&&void 0!==l&&l.matchExpressions?(i=Object(h["a"])((null===l||void 0===l?void 0:l.matchLabels)||{},l.matchExpressions),i):[]}},filteredWorkloads(){let{workloads:e}=this;const{existing:t=!1}=this.$attrs;return t||(e=e.filter(e=>{var t,a,s;if(!r()(null===e||void 0===e||null===(t=e.spec)||void 0===t||null===(a=t.template)||void 0===a||null===(s=a.spec)||void 0===s?void 0:s.containers)&&e.spec.template.spec.containers.find(e=>e.image.includes("quay.io/coreos/prometheus-operator")||e.image.includes("rancher/coreos-prometheus-operator")))return this.warnUser||(this.warnUser=!0),e})),e.map(e=>({label:e.id,link:{name:"c-cluster-product-resource-namespace-id",params:{cluster:this.currentCluster.id,product:"explorer",resource:e.type,namespace:e.metadata.namespace,id:e.metadata.name}}}))},podsAndNamespaces(){const{prometheusPods:e}=this,t=[];return e.forEach(e=>{t.push({label:e.id,link:{name:"c-cluster-product-resource-namespace-id",params:{cluster:this.currentCluster.id,product:"explorer",resource:p["s"],namespace:e.metadata.namespace,id:e.metadata.name}}})}),t},showStorageClasses(){const{storageClasses:e}=this;return(e||[]).length>=1}},watch:{enablePersistentStorage(e){e?this.$set(this.value.prometheus.prometheusSpec.storageSpec,"volumeClaimTemplate",{spec:{accessModes:["ReadWriteOnce"],resources:{requests:{storage:"50Gi"}},selector:{matchExpressions:[],matchLabels:{}},volumeMode:"Filesystem"}}):this.$delete(this.value.prometheus.prometheusSpec.storageSpec,"volumeClaimTemplate")}},methods:{set:g["i"],matchChanged(e){const{matchLabels:t,matchExpressions:a}=Object(h["c"])(e),s=this.value.prometheus.prometheusSpec.storageSpec.volumeClaimTemplate.spec;null!==s&&void 0!==s&&s.selector||(s["selector"]={matchExpressions:[],matchLabels:{}}),this.$set(s.selector,"matchLabels",t),this.$set(s.selector,"matchExpressions",a)}}};t["a"]=k},7562:function(e,t,a){"use strict";a.d(t,"a",(function(){return s})),a.d(t,"b",(function(){return r}));var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("Tab",{attrs:{label:"Chart Options",name:"chartOptions"}},[a("Banner",{attrs:{color:"info",label:e.t("backupRestoreOperator.deployment.storage.tip")}}),a("RadioGroup",{staticClass:"mb-10",attrs:{name:"storageSource",label:e.t("backupRestoreOperator.deployment.storage.label"),options:e.radioOptions.options,labels:e.radioOptions.labels},model:{value:e.storageSource,callback:function(t){e.storageSource=t},expression:"storageSource"}}),"s3"===e.storageSource?a("S3",{attrs:{value:e.value.s3,secrets:e.secrets,mode:e.mode}}):[a("div",{staticClass:"row"},["pickSC"===e.storageSource?[a("div",{staticClass:"col span-6"},[a("LabeledSelect",{key:e.storageSource,attrs:{"get-option-label":function(e){return e.id||e},label:e.t("backupRestoreOperator.deployment.storage.storageClass.label"),tooltip:e.reclaimWarning?e.t("backupRestoreOperator.deployment.storage.warning",{type:"Storage Class"}):null,mode:e.mode,status:e.reclaimWarning?"warning":null,options:e.storageClasses,"hover-tooltip":!0},model:{value:e.storageClass,callback:function(t){e.storageClass=t},expression:"storageClass"}})],1),a("div",{staticClass:"col span-6"},[a("LabeledInput",{attrs:{mode:e.mode,label:e.t("backupRestoreOperator.deployment.size")},model:{value:e.value.persistence.size,callback:function(t){e.$set(e.value.persistence,"size",t)},expression:"value.persistence.size"}})],1)]:"pickPV"===e.storageSource?a("div",{staticClass:"col span-6"},[a("LabeledSelect",{key:e.storageSource,attrs:{"get-option-label":function(e){return e.id||e},label:e.t("backupRestoreOperator.deployment.storage.persistentVolume.label"),tooltip:e.reclaimWarning?e.t("backupRestoreOperator.deployment.storage.warning",{type:"Persistent Volume"}):null,mode:e.mode,status:e.reclaimWarning?"warning":null,options:e.availablePVs,"hover-tooltip":!0},model:{value:e.persistentVolume,callback:function(t){e.persistentVolume=t},expression:"persistentVolume"}})],1):e._e()],2)]],2)],1)},r=[]},"7d99":function(e,t,a){var s=a("5eaa");t=s(!1),t.push([e.i,'.clearfix[data-v-1cf2de20]:after,.clearfix[data-v-1cf2de20]:before{content:" ";display:table}.clearfix[data-v-1cf2de20]:after{clear:both}.list-unstyled[data-v-1cf2de20]{margin:0;padding:0;list-style-type:none}.no-select[data-v-1cf2de20]{-webkit-user-select:none;-moz-user-select:none;user-select:none}.no-resize[data-v-1cf2de20]{resize:none}.hand[data-v-1cf2de20]{cursor:pointer;cursor:hand}.fixed[data-v-1cf2de20]{table-layout:fixed}.clip[data-v-1cf2de20]{text-overflow:ellipsis;overflow:hidden;white-space:nowrap}.clip[data-v-1cf2de20],.force-wrap[data-v-1cf2de20]{word-wrap:break-word}.force-wrap[data-v-1cf2de20]{white-space:normal}.bordered-section[data-v-1cf2de20]{border-bottom:1px solid var(--border);margin-bottom:20px;padding-bottom:20px}.section-divider[data-v-1cf2de20]{margin-bottom:20px;margin-top:20px}[data-v-1cf2de20] .radio-group.label>SPAN{font-size:1em}',""]),e.exports=t},"826d":function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("Tab",{attrs:{name:"components",label:e.t("istio.titles.components")}},[a("div",{staticClass:"row"},[e.value.cni?a("div",{staticClass:"col span-4"},[a("Checkbox",{attrs:{label:e.t("istio.cni")},on:{input:e.update},model:{value:e.value.cni.enabled,callback:function(t){e.$set(e.value.cni,"enabled",t)},expression:"value.cni.enabled"}})],1):e._e(),e.value.ingressGateways?a("div",{staticClass:"col span-4"},[a("Checkbox",{attrs:{label:e.t("istio.ingressGateway")},model:{value:e.value.ingressGateways.enabled,callback:function(t){e.$set(e.value.ingressGateways,"enabled",t)},expression:"value.ingressGateways.enabled"}})],1):e._e(),e.value.egressGateways?a("div",{staticClass:"col span-4"},[a("Checkbox",{attrs:{label:e.t("istio.egressGateway")},model:{value:e.value.egressGateways.enabled,callback:function(t){e.$set(e.value.egressGateways,"enabled",t)},expression:"value.egressGateways.enabled"}})],1):e._e()]),a("div",{staticClass:"row"},[e.value.pilot?a("div",{staticClass:"col span-4"},[a("Checkbox",{attrs:{label:e.t("istio.pilot")},model:{value:e.value.pilot.enabled,callback:function(t){e.$set(e.value.pilot,"enabled",t)},expression:"value.pilot.enabled"}})],1):e._e(),e.value.policy?a("div",{staticClass:"col span-4"},[a("Checkbox",{attrs:{label:e.t("istio.policy")},model:{value:e.value.policy.enabled,callback:function(t){e.$set(e.value.policy,"enabled",t)},expression:"value.policy.enabled"}})],1):e._e(),e.value.telemetry?a("div",{staticClass:"col span-4"},[a("Checkbox",{attrs:{label:e.t("istio.telemetry")},model:{value:e.value.telemetry.enabled,callback:function(t){e.$set(e.value.telemetry,"enabled",t)},expression:"value.telemetry.enabled"}})],1):e._e()]),a("div",{staticClass:"row"},[e.value.kiali?a("div",{staticClass:"col span-4"},[a("Checkbox",{attrs:{label:e.t("istio.kiali")},model:{value:e.value.kiali.enabled,callback:function(t){e.$set(e.value.kiali,"enabled",t)},expression:"value.kiali.enabled"}})],1):e._e(),e.value.tracing?a("div",{staticClass:"col span-4"},[a("Checkbox",{attrs:{label:e.t("istio.tracing")},model:{value:e.value.tracing.enabled,callback:function(t){e.$set(e.value.tracing,"enabled",t)},expression:"value.tracing.enabled"}})],1):e._e(),a("div",{staticClass:"col span-4"})])]),a("Tab",{attrs:{label:e.t("istio.customOverlayFile.label"),name:"overlay"},on:{active:function(t){return e.$refs["yaml-editor"].refresh()}}},[a("div",{staticClass:"custom-overlay"},[a("Banner",{attrs:{color:"info"}},[a("span",{domProps:{innerHTML:e._s(e.t("istio.customOverlayFile.tip",{},!0))}})]),a("YamlEditor",{ref:"yaml-editor",staticClass:"yaml-editor mb-10",attrs:{value:e.overlayFile},on:{onInput:e.valuesChanged}}),a("FileSelector",{staticClass:"role-primary  btn-sm",attrs:{label:e.t("generic.readFromFile")},on:{selected:e.onFileSelected}})],1)])],1)},r=[],o=a("44db"),l=a.n(o),i=a("7838"),n=a.n(i),c=a("0df0"),u=a("870a"),d=a("9ce4"),p=a("8b2c"),m=a("38de"),v=a("6418");const g="#apiVersion: install.istio.io/v1alpha1\n#kind: IstioOperator\n#spec:\n#  components:\n#    ingressGateways:\n#    - enabled: true\n#      name: istio-ingressgateway\n#    - enabled: true\n#      k8s:\n#        resources:\n#          requests:\n#            cpu: 200m\n#        service:\n#          ports:\n#          - name: tcp-citadel-grpc-tls\n#            port: 8060\n#            targetPort: 8060\n#          - name: tcp-dns\n#            port: 5353\n#        serviceAnnotations:\n#          cloud.google.com/load-balancer-type: internal\n#      name: ilb-gateway\n#      namespace: user-ingressgateway-ns\n#    - enabled: true\n#      k8s:\n#        resources:\n#          requests:\n#            cpu: 200m\n#        service:\n#          ports:\n#          - name: tcp-citadel-grpc-tls\n#            port: 8060\n#            targetPort: 8060\n#          - name: tcp-dns\n#            port: 5353\n#        serviceAnnotations:\n#          cloud.google.com/load-balancer-type: internal\n#      name: other-gateway\n#      namespace: istio-system\n";var h={components:{Checkbox:c["a"],FileSelector:p["b"],YamlEditor:u["b"],Tab:m["a"],Banner:v["a"]},hasTabs:!0,props:{value:{type:Object,default:()=>({})}},data(){var e;let t=this.value.overlayFile;return null!==(e=t)&&void 0!==e&&e.length||(t=g),{overlayFile:t}},computed:{valuesYaml:{get(){try{const e=n.a.dump(this.value);return e}catch(e){return null}},set:l()((function(e){try{const t=n.a.load(e);Object.assign(this.value,t)}catch(t){}}),500)},...Object(d["a"])({t:"i18n/t"})},methods:{update(){this.$emit("input",this.value)},valuesChanged(e){try{n.a.load(e),e===g?e="":this.overlayFile=e,this.value.overlayFile=e}catch(t){}},onFileSelected(e){this.$refs["yaml-editor"].updateValue(e)}}},b=h,f=(a("05df"),a("d802")),y=Object(f["a"])(b,s,r,!1,null,null,null);t["default"]=y.exports},"8a13":function(e,t,a){var s=a("c347");s.__esModule&&(s=s.default),"string"===typeof s&&(s=[[e.i,s,""]]),s.locals&&(e.exports=s.locals);var r=a("0ed3").default;r("797c9168",s,!0,{sourceMap:!1,shadowMode:!1})},"8a46":function(e,t,a){"use strict";a("fb2f")},"8b03":function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"row mb-10"},[a("div",{staticClass:"col span-6"},[a("LabeledSelect",{attrs:{"get-option-label":function(e){return e.metadata.name||""},"option-key":"id",mode:e.mode,options:e.secrets,label:e.t("backupRestoreOperator.s3.credentialSecretName")},model:{value:e.credentialSecret,callback:function(t){e.credentialSecret=t},expression:"credentialSecret"}})],1),a("div",{staticClass:"col span-6"},[a("LabeledInput",{attrs:{mode:e.mode,label:e.t("backupRestoreOperator.s3.bucketName")},model:{value:e.value.bucketName,callback:function(t){e.$set(e.value,"bucketName",t)},expression:"value.bucketName"}})],1)]),a("div",{staticClass:"row mb-10"},[a("div",{staticClass:"col span-6"},[a("LabeledInput",{attrs:{mode:e.mode,label:e.t("backupRestoreOperator.s3.region")},model:{value:e.value.region,callback:function(t){e.$set(e.value,"region",t)},expression:"value.region"}})],1),a("div",{staticClass:"col span-6"},[a("LabeledInput",{attrs:{mode:e.mode,label:e.t("backupRestoreOperator.s3.folder")},model:{value:e.value.folder,callback:function(t){e.$set(e.value,"folder",t)},expression:"value.folder"}})],1)]),a("div",{staticClass:"row mb-10"},[a("div",{staticClass:"col span-6"},[a("LabeledInput",{attrs:{mode:e.mode,label:e.t("backupRestoreOperator.s3.endpoint")},model:{value:e.value.endpoint,callback:function(t){e.$set(e.value,"endpoint",t)},expression:"value.endpoint"}}),a("Checkbox",{staticClass:"mt-10",attrs:{mode:e.mode,label:e.t("backupRestoreOperator.s3.insecureTLSSkipVerify")},model:{value:e.value.insecureTLSSkipVerify,callback:function(t){e.$set(e.value,"insecureTLSSkipVerify",t)},expression:"value.insecureTLSSkipVerify"}})],1),a("div",{staticClass:"col span-6"},[a("LabeledInput",{attrs:{mode:e.mode,type:"multiline",label:e.t("backupRestoreOperator.s3.endpointCA.label")},model:{value:e.value.endpointCA,callback:function(t){e.$set(e.value,"endpointCA",t)},expression:"value.endpointCA"}}),a("div",{staticClass:"ca-controls"},["view"!==e.mode?a("FileSelector",{staticClass:"btn btn-sm role-primary mt-5",attrs:{mode:e.mode,label:e.t("generic.readFromFile")},on:{selected:function(t){return e.setCA(t)}}}):e._e(),a("div",{staticClass:"ca-tooltip"},[a("i",{directives:[{name:"tooltip",rawName:"v-tooltip",value:e.t("backupRestoreOperator.s3.endpointCA.prompt"),expression:"t('backupRestoreOperator.s3.endpointCA.prompt')"}],staticClass:"icon icon-info"})])],1)],1)])])},r=[],o=a("8e93"),l=a("0df0"),i=a("8b2c"),n=a("466b"),c=a("9ce4"),u={components:{LabeledInput:o["a"],Checkbox:l["a"],FileSelector:i["b"],LabeledSelect:n["a"]},props:{value:{type:Object,default:()=>({})},mode:{type:String,default:"create"},secrets:{type:Array,default:()=>[]}},computed:{credentialSecret:{get(){const{credentialSecretName:e,credentialSecretNamespace:t}=this.value;return{metadata:{name:e,namespace:t}}},set(e){const{name:t,namespace:a}=e.metadata;this.$set(this.value,"credentialSecretName",t),this.$set(this.value,"credentialSecretNamespace",a)}},...Object(c["a"])({t:"i18n/t"})},methods:{setCA(e){try{const t=btoa(e);this.$set(this.value,"endpointCA",t)}catch(t){console.warn(t)}}},created(){const{credentialSecretName:e,credentialSecretNamespace:t}=this.value;e&&!t&&(this.value.credentialSecretName="")}},d=u,p=(a("aaa7"),a("d802")),m=Object(p["a"])(d,s,r,!1,null,"f7b155aa",null);t["default"]=m.exports},"8b88":function(e,t,a){var s=a("7d99");s.__esModule&&(s=s.default),"string"===typeof s&&(s=[[e.i,s,""]]),s.locals&&(e.exports=s.locals);var r=a("0ed3").default;r("6c840ffd",s,!0,{sourceMap:!1,shadowMode:!1})},"928d":function(e,t,a){"use strict";a("2789")},"92ef":function(e,t,a){"use strict";var s=a("38de"),r=a("8b03"),o=a("e143"),l=a("466b"),i=a("8e93"),n=a("6418"),c=a("e24b"),u=a("a8b9"),d=a("907c"),p=a("9ce4"),m=a("4ac6"),v={components:{Tab:s["a"],RadioGroup:o["a"],S3:r["default"],LabeledInput:i["a"],LabeledSelect:l["a"],Banner:n["a"]},hasTabs:!0,props:{value:{type:Object,default:()=>({})},mode:{type:String,default:"create"}},async fetch(){const e=await Object(u["a"])({storageClasses:this.$store.dispatch("cluster/findAll",{type:d["C"]}),persistentVolumes:this.$store.dispatch("cluster/findAll",{type:d["t"]}),secrets:this.$store.dispatch("cluster/findAll",{type:d["y"]})});this.secrets=e.secrets,this.storageClasses=e.storageClasses,this.persistentVolumes=e.persistentVolumes,this.storageSource=this.getStorageSource(this.value)||"none"},data(){return{secrets:[],storageClasses:[],persistentVolumes:[],storageSource:null,storageClass:"",persistentVolume:"",reclaimWarning:!1}},computed:{defaultStorageClass(){return this.storageClasses.filter(e=>e.metadata.annotations[m["l"].DEFAULT_STORAGE_CLASS]&&"false"!==e.metadata.annotations[m["l"].DEFAULT_STORAGE_CLASS])[0]||""},availablePVs(){return this.persistentVolumes.filter(e=>"bound"!==e.status.phase.toLowerCase())},radioOptions(){const e=["none","s3","pickSC","pickPV"],t=[this.t("backupRestoreOperator.deployment.storage.options.none"),this.t("backupRestoreOperator.deployment.storage.options.s3"),this.t("backupRestoreOperator.deployment.storage.options.pickSC"),this.t("backupRestoreOperator.deployment.storage.options.pickPV")];return{options:e,labels:t}},...Object(p["a"])({t:"i18n/t"})},watch:{storageSource(e){var t;switch(e){case"pickSC":this.value.persistence.enabled=!0,this.value.s3.enabled=!1,!this.defaultStorageClass||this.value.persistence.storageClass&&"-"!==this.value.persistence.storageClass||(this.value.persistence.storageClass=this.defaultStorageClass.id,this.storageClass=this.defaultStorageClass),"Delete"===(null===(t=this.storageClass)||void 0===t?void 0:t.reclaimPolicy)&&(this.reclaimWarning=!0),delete this.value.persistence.volumeName;break;case"pickPV":this.value.persistence.enabled=!0,this.value.s3.enabled=!1,this.value.persistence.storageClass="-",this.reclaimWarning=!1;break;case"s3":this.value.persistence.enabled=!1,this.value.s3.enabled=!0;break;default:this.value.persistence.enabled=!1,this.value.s3.enabled=!1;break}},storageClass(e={}){this.value.persistence.storageClass=e.id,"Delete"===e.reclaimPolicy?this.reclaimWarning=!0:this.reclaimWarning=!1},persistentVolume(e){var t;this.value.persistence.volumeName=e.metadata.name,"Delete"===(null===(t=e.spec)||void 0===t?void 0:t.persistentVolumeReclaimPolicy)?this.reclaimWarning=!0:this.reclaimWarning=!1}},methods:{getStorageSource(){if(Object(c["g"])(this.value,"s3.enabled"))return"s3";if(Object(c["g"])(this.value,"persistence.enabled")){if(this.value.persistence.storageClass)return"pickSC";if(this.value.persistence.volumeName)return"pickPV"}return"none"}},get:c["g"]};t["a"]=v},"96b3":function(e,t,a){var s=a("5eaa");t=s(!1),t.push([e.i,'.clearfix:after,.clearfix:before{content:" ";display:table}.clearfix:after{clear:both}.list-unstyled{margin:0;padding:0;list-style-type:none}.no-select{-webkit-user-select:none;-moz-user-select:none;user-select:none}.no-resize{resize:none}.hand{cursor:pointer;cursor:hand}.fixed{table-layout:fixed}.clip{text-overflow:ellipsis;overflow:hidden;white-space:nowrap}.clip,.force-wrap{word-wrap:break-word}.force-wrap{white-space:normal}.bordered-section{border-bottom:1px solid var(--border);margin-bottom:20px;padding-bottom:20px}.section-divider{margin-bottom:20px;margin-top:20px}.grafana-config>*{margin-top:10px}',""]),e.exports=t},"9afd":function(e,t,a){var s=a("5eaa");t=s(!1),t.push([e.i,'.clearfix:after,.clearfix:before{content:" ";display:table}.clearfix:after{clear:both}.list-unstyled{margin:0;padding:0;list-style-type:none}.no-select{-webkit-user-select:none;-moz-user-select:none;user-select:none}.no-resize{resize:none}.hand{cursor:pointer;cursor:hand}.fixed{table-layout:fixed}.clip{text-overflow:ellipsis;overflow:hidden;white-space:nowrap}.clip,.force-wrap{word-wrap:break-word}.force-wrap{white-space:normal}.bordered-section{border-bottom:1px solid var(--border);margin-bottom:20px;padding-bottom:20px}.section-divider{margin-bottom:20px;margin-top:20px}.grafana-config>*{margin-top:10px}',""]),e.exports=t},"9d63":function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("LabeledSelect",{attrs:{label:e.t("monitoring.clusterType.label"),placeholder:e.t("monitoring.clusterType.placeholder"),"localized-label":!0,options:e.clusterTypes},model:{value:e.clusterType,callback:function(t){e.clusterType=t},expression:"clusterType"}})},r=[],o=a("330a"),l=a.n(o),i=a("466b"),n=a("9ce4"),c=a("bddd"),u=a("bba0"),d=a.n(u);const p=["kubeControllerManager","kubeScheduler","kubeEtcd","kubeProxy"],m=["kubeControllerManager","kubeScheduler","kubeEtcd","kubeProxy"],v=[{group:"managed",id:"aks",label:"cluster.provider.azureaks",configKeys:p},{group:"managed",id:"eks",label:"cluster.provider.amazoneks",configKeys:p},{group:"managed",id:"gke",label:"cluster.provider.googlegke",configKeys:p},{group:"k3s",id:"k3s",label:"cluster.provider.k3s",configKeys:["k3sControllerManager","k3sScheduler","k3sProxy","k3sServer"]},{group:"kubeadm",id:"kubeadm",label:"cluster.provider.kubeAdmin",configKeys:["kubeAdmControllerManager","kubeAdmScheduler","kubeAdmProxy","kubeAdmEtcd"]},{group:"other",id:"other",label:"cluster.provider.other",configKeys:m},{group:"rke",id:"rke",label:"cluster.provider.rke",configKeys:["rkeControllerManager","rkeScheduler","rkeProxy","rkeEtcd"]},{group:"rke",id:"rke2",label:"cluster.provider.rke2",configKeys:["rke2ControllerManager","rke2Scheduler","rke2Proxy","rke2Etcd"]},{group:"rke",id:"rke.windows",label:"cluster.provider.rkeWindows",configKeys:["rkeControllerManager","rkeScheduler","rkeProxy","rkeEtcd"]}];var g={components:{LabeledSelect:i["a"]},props:{value:{type:Object,default:()=>({})}},data(){return{clusterType:null,clusterTypes:d()(v,"id")}},computed:{...Object(n["a"])(["currentCluster"]),provider(){return this.currentCluster.status.provider.toLowerCase()}},watch:{clusterType(e,t){if(l()(e))return;if(!l()(t)){const{configKeys:e}=Object(c["e"])(this.clusterTypes,"id",t.id);"managed"===t.group?"gke"===t.id&&(this.$set(this.value.coreDns,"enabled",!0),this.$set(this.value.kubeDns,"enabled",!1)):"other"!==t.group&&this.setClusterTypeEnabledValues([e,!1]),"k3s"===t.group&&(this.$set(this.value.prometheus.prometheusSpec.resources.limits,"memory","1500Mi"),this.$set(this.value.prometheus.prometheusSpec.resources.requests,"memory","750Mi"))}const{configKeys:a}=Object(c["e"])(this.clusterTypes,"id",e.id);"other"===e.group?this.setClusterTypeEnabledValues([a,!1]):"managed"===e.group?(this.setClusterTypeEnabledValues([a,!1]),"gke"===e.id&&(this.$set(this.value.coreDns,"enabled",!1),this.$set(this.value.kubeDns,"enabled",!0))):this.setClusterTypeEnabledValues([a,!0]),"k3s"===e.group&&(this.$set(this.value.prometheus.prometheusSpec.resources.limits,"memory","3000Mi"),this.$set(this.value.prometheus.prometheusSpec.resources.requests,"memory","1750Mi")),"rke.windows"===e.id?this.value.global.cattle.windows?this.value.global.cattle.windows.enabled=!0:this.$set(this.value.global.cattle,"windows",{enabled:!0}):t&&"rke.windows"===t.id&&delete this.value.global.cattle.windows,this.$emit("onClusterTypeChanged",e)}},created(){const{provider:e,clusterTypes:t}=this,a=Object(c["e"])(t,"id",e);l()(a)?this.clusterType=Object(c["e"])(this.clusterTypes,"id","other"):this.clusterType=a},methods:{setClusterTypeEnabledValues([e=[],t=!1]){const{value:a}=this;e.forEach(e=>{a[e]||this.$set(a,e,{}),this.$set(a[e],"enabled",t)})}}},h=g,b=a("d802"),f=Object(b["a"])(h,s,r,!1,null,null,null);t["default"]=f.exports},a071:function(e,t,a){"use strict";var s=a("9ce4"),r=a("8e93"),o=a("0df0"),l={components:{Checkbox:o["a"],LabeledInput:r["a"]},props:{value:{type:Object,default:()=>({})}},computed:{...Object(s["a"])(["currentCluster"]),provider(){return(this.currentCluster.status.provider||"").split(".")[0]}},created(){const e=this.provider;this.value._setSources||(Object.defineProperty(this.value,"_setSources",{enumerable:!1,value:!0}),this.$set(this.value,"additionalLoggingSources",this.value.additionalLoggingSources||{}),this.$set(this.value.additionalLoggingSources,e,this.value.additionalLoggingSources[e]||{}),this.$set(this.value.additionalLoggingSources[e],"enabled",!0),this.$set(this.value,"global",this.value.global||{}))}};t["a"]=l},a1d3:function(e,t,a){var s=a("5eaa");t=s(!1),t.push([e.i,'.clearfix[data-v-00e1386d]:after,.clearfix[data-v-00e1386d]:before{content:" ";display:table}.clearfix[data-v-00e1386d]:after{clear:both}.list-unstyled[data-v-00e1386d]{margin:0;padding:0;list-style-type:none}.no-select[data-v-00e1386d]{-webkit-user-select:none;-moz-user-select:none;user-select:none}.no-resize[data-v-00e1386d]{resize:none}.hand[data-v-00e1386d]{cursor:pointer;cursor:hand}.fixed[data-v-00e1386d]{table-layout:fixed}.clip[data-v-00e1386d]{text-overflow:ellipsis;overflow:hidden;white-space:nowrap}.clip[data-v-00e1386d],.force-wrap[data-v-00e1386d]{word-wrap:break-word}.force-wrap[data-v-00e1386d]{white-space:normal}.bordered-section[data-v-00e1386d]{border-bottom:1px solid var(--border);margin-bottom:20px;padding-bottom:20px}.section-divider[data-v-00e1386d]{margin-bottom:20px;margin-top:20px}.v1-monitoring[data-v-00e1386d]{display:flex;flex-direction:column;align-items:center;width:100%}.v1-monitoring p[data-v-00e1386d]{max-width:900px}.v1-monitoring .btn[data-v-00e1386d]{min-width:200px}',""]),e.exports=t},a20f:function(e,t,a){"use strict";a("2ffc")},aaa7:function(e,t,a){"use strict";a("8a13")},b561:function(e,t,a){var s=a("da61");s.__esModule&&(s=s.default),"string"===typeof s&&(s=[[e.i,s,""]]),s.locals&&(e.exports=s.locals);var r=a("0ed3").default;r("a1afc9be",s,!0,{sourceMap:!1,shadowMode:!1})},b5f3:function(e,t,a){var s=a("96b3");s.__esModule&&(s=s.default),"string"===typeof s&&(s=[[e.i,s,""]]),s.locals&&(e.exports=s.locals);var r=a("0ed3").default;r("197612a4",s,!0,{sourceMap:!1,shadowMode:!1})},ba49:function(e,t,a){var s=a("6a1e");s.__esModule&&(s=s.default),"string"===typeof s&&(s=[[e.i,s,""]]),s.locals&&(e.exports=s.locals);var r=a("0ed3").default;r("07d6448f",s,!0,{sourceMap:!1,shadowMode:!1})},c347:function(e,t,a){var s=a("5eaa");t=s(!1),t.push([e.i,'.clearfix[data-v-f7b155aa]:after,.clearfix[data-v-f7b155aa]:before{content:" ";display:table}.clearfix[data-v-f7b155aa]:after{clear:both}.list-unstyled[data-v-f7b155aa]{margin:0;padding:0;list-style-type:none}.no-select[data-v-f7b155aa]{-webkit-user-select:none;-moz-user-select:none;user-select:none}.no-resize[data-v-f7b155aa]{resize:none}.hand[data-v-f7b155aa]{cursor:pointer;cursor:hand}.fixed[data-v-f7b155aa]{table-layout:fixed}.clip[data-v-f7b155aa]{text-overflow:ellipsis;overflow:hidden;white-space:nowrap}.clip[data-v-f7b155aa],.force-wrap[data-v-f7b155aa]{word-wrap:break-word}.force-wrap[data-v-f7b155aa]{white-space:normal}.bordered-section[data-v-f7b155aa]{border-bottom:1px solid var(--border);margin-bottom:20px;padding-bottom:20px}.section-divider[data-v-f7b155aa]{margin-bottom:20px;margin-top:20px}.ca-controls[data-v-f7b155aa]{display:flex}.ca-controls .ca-tooltip[data-v-f7b155aa]{flex:1;margin-top:4px;text-align:right}.ca-controls .ca-tooltip>i[data-v-f7b155aa]{font-size:16px}',""]),e.exports=t},ca1f:function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("Banner",{attrs:{color:e.mustSelectOne}},[e._v(" "+e._s(e.t("rancherAlertingDrivers.selectOne"))+" ")]),a("div",{staticClass:"row"},[a("div",{staticClass:"col span-6"},[a("Checkbox",{attrs:{"label-key":"rancherAlertingDrivers.msTeams"},model:{value:e.value.prom2teams.enabled,callback:function(t){e.$set(e.value.prom2teams,"enabled",t)},expression:"value.prom2teams.enabled"}})],1)]),a("div",{staticClass:"row"},[a("div",{staticClass:"col span-6"},[a("Checkbox",{attrs:{"label-key":"rancherAlertingDrivers.sms"},model:{value:e.value.sachet.enabled,callback:function(t){e.$set(e.value.sachet,"enabled",t)},expression:"value.sachet.enabled"}})],1)])],1)},r=[],o=a("0df0"),l=a("6418"),i={components:{Banner:l["a"],Checkbox:o["a"]},props:{value:{type:Object,default:()=>({})}},computed:{mustSelectOne(){return this.value.prom2teams.enabled||this.value.sachet.enabled?"info":"error"}},mounted(){"error"===this.mustSelectOne&&(this.value.sachet.enabled=!0)}},n=i,c=a("d802"),u=Object(c["a"])(n,s,r,!1,null,null,null);t["default"]=u.exports},cb66:function(e,t,a){var s=a("a1d3");s.__esModule&&(s=s.default),"string"===typeof s&&(s=[[e.i,s,""]]),s.locals&&(e.exports=s.locals);var r=a("0ed3").default;r("6a27dee6",s,!0,{sourceMap:!1,shadowMode:!1})},ce60:function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("LabeledInput",{model:{value:e.value.foo,callback:function(t){e.$set(e.value,"foo",t)},expression:"value.foo"}})},r=[],o=a("8e93"),l={components:{LabeledInput:o["a"]},props:{value:{type:Object,required:!0}}},i=l,n=a("d802"),c=Object(n["a"])(i,s,r,!1,null,null,null);t["default"]=c.exports},da61:function(e,t,a){var s=a("5eaa");t=s(!1),t.push([e.i,'.clearfix[data-v-fd8c73f8]:after,.clearfix[data-v-fd8c73f8]:before{content:" ";display:table}.clearfix[data-v-fd8c73f8]:after{clear:both}.list-unstyled[data-v-fd8c73f8]{margin:0;padding:0;list-style-type:none}.no-select[data-v-fd8c73f8]{-webkit-user-select:none;-moz-user-select:none;user-select:none}.no-resize[data-v-fd8c73f8]{resize:none}.hand[data-v-fd8c73f8]{cursor:pointer;cursor:hand}.fixed[data-v-fd8c73f8]{table-layout:fixed}.clip[data-v-fd8c73f8]{text-overflow:ellipsis;overflow:hidden;white-space:nowrap}.clip[data-v-fd8c73f8],.force-wrap[data-v-fd8c73f8]{word-wrap:break-word}.force-wrap[data-v-fd8c73f8]{white-space:normal}.bordered-section[data-v-fd8c73f8]{border-bottom:1px solid var(--border);margin-bottom:20px;padding-bottom:20px}.section-divider[data-v-fd8c73f8]{margin-bottom:20px;margin-top:20px}.alerting-config>.row[data-v-fd8c73f8]{padding:10px 0}.alerting-config .banner.info[data-v-fd8c73f8]{margin-bottom:0;margin-top:0}',""]),e.exports=t},dd1b:function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"row"},[a("div",{staticClass:"col span-6"},[a("UnitInput",{attrs:{label:"Audit interval",suffix:"Seconds"},model:{value:e.value.auditInterval,callback:function(t){e.$set(e.value,"auditInterval",t)},expression:"value.auditInterval"}})],1)]),a("div",{staticClass:"row mt-10"},[a("div",{staticClass:"col span-6"},[a("UnitInput",{attrs:{label:"Constraint violations limit",suffix:""},model:{value:e.value.constraintViolationsLimit,callback:function(t){e.$set(e.value,"constraintViolationsLimit",t)},expression:"value.constraintViolationsLimit"}})],1)])])},r=[],o=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("LabeledInput",e._b({ref:"value",attrs:{value:e.displayValue,type:"number",min:e.min,mode:e.mode,label:e.label,delay:e.delay,"label-key":e.labelKey,tooltip:e.tooltip,"tooltip-key":e.tooltipKey,required:e.required,placeholder:e.placeholder,"hide-arrows":e.hideArrows},on:{blur:function(t){return e.update(t.target.value)}},scopedSlots:e._u([{key:"suffix",fn:function(){return[e.displayUnit?a("div",{staticClass:"addon",class:{"with-tooltip":e.tooltip||e.tooltipKey}},[e._v(" "+e._s(e.displayUnit)+" ")]):e._e()]},proxy:!0}])},"LabeledInput",e.$attrs,!1))},l=[],i=a("d37d"),n=a("8e93"),c=a("da25"),u={components:{LabeledInput:n["a"]},props:{outputAs:{type:String,default:"number"},outputModifier:{type:Boolean,default:!1},inputExponent:{type:Number,default:0},baseUnit:{type:String,default:"B"},hideArrows:{type:Boolean,default:!1},increment:{type:Number,default:1e3},suffix:{type:String,default:null},mode:{type:String,default:c["w"]},value:{type:[Number,String],default:null},label:{type:String,default:null},labelKey:{type:String,default:null},tooltip:{type:[String,Object],default:null},tooltipKey:{type:String,default:null},required:{type:Boolean,default:!1},min:{type:[Number,String],default:0},placeholder:{type:[String,Number],default:""},delay:{type:Number,default:0}},computed:{unit(){let e;return e=this.inputExponent>=0?i["b"][this.inputExponent]:i["a"][-1*this.inputExponent],1024===this.increment&&e&&(e+="i"),e},parsedValue(){return"string"===typeof this.value?Object(i["d"])(this.value):this.value},displayValue(){let e="";return(this.parsedValue||0===this.parsedValue)&&(e=Object(i["c"])(this.parsedValue,{increment:this.increment,addSuffix:!1,maxExponent:this.inputExponent,minExponent:this.inputExponent})),e},displayUnit(){return this.suffix?this.suffix:this.unit+this.baseUnit}},methods:{focus(){const e=this.$refs.value;e&&e.focus()},update(e){let t=""===e?null:e;this.outputModifier?t=null===t?null:`${e}${this.unit}`:"string"===this.outputAs?t=null===t?"":""+e:t&&(t=this.unit?Object(i["d"])(`${t}${this.unit}`):parseInt(t)),this.$emit("input",t)}}},d=u,p=(a("0020"),a("d802")),m=Object(p["a"])(d,o,l,!1,null,"1ade22a7",null),v=m.exports,g={components:{UnitInput:v},props:{value:{type:Object,default:()=>({})}}},h=g,b=Object(p["a"])(h,s,r,!1,null,null,null);t["default"]=b.exports},eb92:function(e,t,a){var s=a("5eaa");t=s(!1),t.push([e.i,'.clearfix[data-v-cb2d95b2]:after,.clearfix[data-v-cb2d95b2]:before{content:" ";display:table}.clearfix[data-v-cb2d95b2]:after{clear:both}.list-unstyled[data-v-cb2d95b2]{margin:0;padding:0;list-style-type:none}.no-select[data-v-cb2d95b2]{-webkit-user-select:none;-moz-user-select:none;user-select:none}.no-resize[data-v-cb2d95b2]{resize:none}.hand[data-v-cb2d95b2]{cursor:pointer;cursor:hand}.fixed[data-v-cb2d95b2]{table-layout:fixed}.clip[data-v-cb2d95b2]{text-overflow:ellipsis;overflow:hidden;white-space:nowrap}.clip[data-v-cb2d95b2],.force-wrap[data-v-cb2d95b2]{word-wrap:break-word}.force-wrap[data-v-cb2d95b2]{white-space:normal}.bordered-section[data-v-cb2d95b2]{border-bottom:1px solid var(--border);margin-bottom:20px;padding-bottom:20px}.section-divider[data-v-cb2d95b2]{margin-bottom:20px;margin-top:20px}.operator .vs__dropdown-option[data-v-cb2d95b2]{padding:3px 6px 3px 6px!important}.remove-expression[data-v-cb2d95b2]{padding:8px;position:absolute;margin-bottom:10px;right:0;top:0;z-index:2}.remove-expression i[data-v-cb2d95b2]{font-size:2em}.remove-container[data-v-cb2d95b2]{display:flex;justify-content:center}.match-expression-header[data-v-cb2d95b2],.match-expression-row[data-v-cb2d95b2]{display:grid;grid-template-columns:1fr 1fr 1fr;margin:5px 0;grid-gap:10px}.match-expression-header>LABEL[data-v-cb2d95b2],.match-expression-row>LABEL[data-v-cb2d95b2]{margin:0}.match-expression-header[data-v-cb2d95b2]:not(.view),.match-expression-row[data-v-cb2d95b2]:not(.view){grid-template-columns:1fr 1fr 1fr 100px}',""]),e.exports=t},ed16:function(e,t,a){var s=a("103b");s.__esModule&&(s=s.default),"string"===typeof s&&(s=[[e.i,s,""]]),s.locals&&(e.exports=s.locals);var r=a("0ed3").default;r("47115886",s,!0,{sourceMap:!1,shadowMode:!1})},edea:function(e,t,a){"use strict";var s=a("330a"),r=a.n(s),o=a("0df0"),l=a("466b"),i=a("e143");const n="cattle-monitoring-system";var c={components:{Checkbox:o["a"],LabeledSelect:l["a"],RadioGroup:i["a"]},props:{mode:{type:String,default:"create"},secrets:{type:Array,default:()=>[]},value:{type:Object,default:()=>({})}},data(){return{useExistingLabels:[this.t("monitoring.alerting.secrets.new"),this.t("monitoring.alerting.secrets.existing")],useExistingOptions:[!1,!0]}},computed:{allSecrets(){const{secrets:e}=this;return e.filter(e=>e.metadata.namespace===n).map(e=>({label:e.metadata.name,value:e.metadata.name}))},canUseExistingSecret(){const{filteredSecrets:e}=this;return e.length>0&&!this.value.alertmanager.alertmanagerSpec.useExistingSecret},existingSecret(){return this.secrets.find(e=>{var t,a;return"alertmanager-rancher-monitoring-alertmanager"===(null===e||void 0===e||null===(t=e.metadata)||void 0===t?void 0:t.name)&&(null===e||void 0===e||null===(a=e.metadata)||void 0===a?void 0:a.namespace)===n})},filteredSecrets(){const{secrets:e}=this,t=[];return e.forEach(e=>{e.metadata.name&&e.metadata.namespace===n&&t.push(e.metadata.name)}),t},forceCreateNewSecret(){const{filteredSecrets:e}=this;return r()(e)}},watch:{filteredSecrets(e,t){r()(e)&&this.$set(this.value.alertmanager.alertmanagerSpec,"useExistingSecret",!1);const{existingSecret:a}=this;a&&this.$nextTick(()=>{this.$set(this.value.alertmanager.alertmanagerSpec,"useExistingSecret",!0),this.$set(this.value.alertmanager.alertmanagerSpec,"configSecret",a.metadata.name)})},"value.alertmanager.alertmanagerSpec.useExistingSecret"(e){const{existingSecret:t}=this;var a;e?null!==t&&void 0!==t&&null!==(a=t.metadata)&&void 0!==a&&a.name&&this.$set(this.value.alertmanager.alertmanagerSpec,"configSecret",t.metadata.name):this.$set(this.value.alertmanager.alertmanagerSpec,"configSecret","")}},beforeMount(){var e,t,a,s;const r=null!==(e=null===(t=this.value)||void 0===t||null===(a=t.alertmanager)||void 0===a||null===(s=a.alertmanagerSpec)||void 0===s?void 0:s.secrets)&&void 0!==e?e:[];this.existingSecret&&r.length<=0&&this.$set(this.value.alertmanager.alertmanagerSpec,"useExistingSecret",!0)}};t["a"]=c},ee0a:function(e,t,a){"use strict";a("ed16")},f23d:function(e,t,a){"use strict";var s=a("e143"),r=a("8e93"),o=a("466b"),l=a("a232"),i=a("977f"),n=a("3e15"),c={components:{ArrayList:i["a"],KeyValue:l["a"],LabeledInput:r["a"],LabeledSelect:o["a"],RadioGroup:s["a"],StorageClassSelector:n["default"]},props:{accessModes:{type:Array,required:!0},mode:{type:String,default:"create"},storageClasses:{type:Array,default:()=>[]},pvcs:{type:Array,default:()=>[]},value:{type:Object,default:()=>({})}},data(){const e=["disabled","existing","pvc","statefulset"],t=[this.t("generic.disabled"),this.t("monitoring.grafana.storage.types.existing"),this.t("monitoring.grafana.storage.types.template"),this.t("monitoring.grafana.storage.types.statefulset")];this.pvcs.length<1&&(e.splice(1,1),t.splice(1,1));const{persistence:a={}}=this.value.grafana;let s;switch(a.type){case"pvc":s="pvc";break;case"statefulset":s="statefulset";break;default:s=a.existingClaim?"existing":"disabled"}return{persistentStorageTypes:e,persistentStorageTypeLabels:t,persistentStorageType:s}},computed:{showStorageClasses(){const{storageClasses:e}=this;return(e||[]).length>=1}},watch:{persistentStorageType(e,t){let a,s;switch(t){case"existing":s={existingClaim:null,subPath:null,type:null};break;case"pvc":s={accessModes:null,storageClassName:null,size:null,subPath:null,annotations:null,finalizers:null};break;case"statefulset":s={accessModes:null,storageClassName:null,size:null,subPath:null};break;default:break}switch(e){case"existing":a={existingClaim:null,subPath:null,type:null,enabled:!0};break;case"pvc":a={accessModes:null,storageClassName:null,size:null,subPath:null,type:"pvc",annotations:null,finalizers:null,enabled:!0};break;case"statefulset":a={accessModes:null,storageClassName:null,size:null,subPath:null,type:"statefulset",enabled:!0};break;default:this.$delete(this.value.grafana,"persistence");break}this.$set(this.value.grafana,"persistence",s),this.$set(this.value.grafana,"persistence",a)}}};t["a"]=c},f89b:function(e,t,a){"use strict";a("3c13")},fab8:function(e,t,a){var s=a("5eaa");t=s(!1),t.push([e.i,'.clearfix:after,.clearfix:before{content:" ";display:table}.clearfix:after{clear:both}.list-unstyled{margin:0;padding:0;list-style-type:none}.no-select{-webkit-user-select:none;-moz-user-select:none;user-select:none}.no-resize{resize:none}.hand{cursor:pointer;cursor:hand}.fixed{table-layout:fixed}.clip{text-overflow:ellipsis;overflow:hidden;white-space:nowrap}.clip,.force-wrap{word-wrap:break-word}.force-wrap{white-space:normal}.bordered-section{border-bottom:1px solid var(--border);margin-bottom:20px;padding-bottom:20px}.section-divider{margin-bottom:20px;margin-top:20px}::v-deep P{font-size:medium;line-height:normal;font-weight:400;letter-spacing:normal;font-style:normal}.markdown TH{text-align:left}.markdown table tr th{font-weight:700}.markdown table tr td,.markdown table tr th{text-align:left;margin:0;padding:6px 13px}.markdown table tr td :first-child,.markdown table tr th :first-child{margin-top:0}.markdown table tr td :last-child,.markdown table tr th :last-child{margin-bottom:0}',""]),e.exports=t},fb2f:function(e,t,a){var s=a("eb92");s.__esModule&&(s=s.default),"string"===typeof s&&(s=[[e.i,s,""]]),s.locals&&(e.exports=s.locals);var r=a("0ed3").default;r("7772c2b6",s,!0,{sourceMap:!1,shadowMode:!1})},fca5:function(e,t,a){var s=a("5eaa");t=s(!1),t.push([e.i,'.clearfix:after,.clearfix:before{content:" ";display:table}.clearfix:after{clear:both}.list-unstyled{margin:0;padding:0;list-style-type:none}.no-select{-webkit-user-select:none;-moz-user-select:none;user-select:none}.no-resize{resize:none}.hand{cursor:pointer;cursor:hand}.fixed{table-layout:fixed}.clip{text-overflow:ellipsis;overflow:hidden;white-space:nowrap}.clip,.force-wrap{word-wrap:break-word}.force-wrap{white-space:normal}.bordered-section{border-bottom:1px solid var(--border);margin-bottom:20px;padding-bottom:20px}.section-divider{margin-bottom:20px;margin-top:20px}.custom-overlay>DIV{color:var(--input-label)}.custom-overlay>DIV>*{padding:3px}.custom-overlay .yaml-editor{flex:1;min-height:200px}.custom-overlay .yaml-editor .code-mirror .CodeMirror{position:static;height:auto;min-height:200px}',""]),e.exports=t}}]);
//# sourceMappingURL=kubewarden-0.1.0.umd.min.vendors~edit.js.map