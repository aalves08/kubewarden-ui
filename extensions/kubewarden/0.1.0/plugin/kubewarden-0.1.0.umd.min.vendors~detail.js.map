{"version":3,"sources":["webpack://kubewarden-0.1.0//home/jordon/Documents/kubewarden/ui/node_modules/@rancher/shell/components/GrafanaDashboard.vue?e438","webpack://kubewarden-0.1.0//home/jordon/Documents/kubewarden/ui/node_modules/@rancher/shell/components/DashboardOptions.vue?35cb","webpack://kubewarden-0.1.0//home/jordon/Documents/kubewarden/ui/node_modules/@rancher/shell/components/DashboardOptions.vue?1ce7","webpack://kubewarden-0.1.0//home/jordon/Documents/kubewarden/ui/node_modules/@rancher/shell/components/GrafanaDashboard.vue?a7db","webpack://kubewarden-0.1.0//home/jordon/Documents/kubewarden/ui/node_modules/@rancher/shell/components/DashboardMetrics.vue?fcfd","webpack://kubewarden-0.1.0//home/jordon/Documents/kubewarden/ui/node_modules/@rancher/shell/utils/grafana.js","webpack://kubewarden-0.1.0//home/jordon/Documents/kubewarden/ui/node_modules/@rancher/shell/components/DashboardMetrics.vue?89f5","webpack://kubewarden-0.1.0//home/jordon/Documents/kubewarden/ui/node_modules/@rancher/shell/components/DashboardOptions.vue?965f","webpack://kubewarden-0.1.0/../../node_modules/@rancher/shell/components/DashboardOptions.vue","webpack://kubewarden-0.1.0//home/jordon/Documents/kubewarden/ui/node_modules/@rancher/shell/components/DashboardOptions.vue?0212","webpack://kubewarden-0.1.0//home/jordon/Documents/kubewarden/ui/node_modules/@rancher/shell/components/DashboardOptions.vue","webpack://kubewarden-0.1.0//home/jordon/Documents/kubewarden/ui/node_modules/@rancher/shell/components/GrafanaDashboard.vue?8b89","webpack://kubewarden-0.1.0/../../node_modules/@rancher/shell/components/GrafanaDashboard.vue","webpack://kubewarden-0.1.0//home/jordon/Documents/kubewarden/ui/node_modules/@rancher/shell/components/GrafanaDashboard.vue?b09b","webpack://kubewarden-0.1.0//home/jordon/Documents/kubewarden/ui/node_modules/@rancher/shell/components/GrafanaDashboard.vue","webpack://kubewarden-0.1.0/../../node_modules/@rancher/shell/components/DashboardMetrics.vue","webpack://kubewarden-0.1.0//home/jordon/Documents/kubewarden/ui/node_modules/@rancher/shell/components/DashboardMetrics.vue?5623","webpack://kubewarden-0.1.0//home/jordon/Documents/kubewarden/ui/node_modules/@rancher/shell/components/DashboardMetrics.vue","webpack://kubewarden-0.1.0//home/jordon/Documents/kubewarden/ui/node_modules/@rancher/shell/components/form/ResourceTabs/index.vue?eb26","webpack://kubewarden-0.1.0//home/jordon/Documents/kubewarden/ui/node_modules/@rancher/shell/components/form/Conditions.vue?685a","webpack://kubewarden-0.1.0/../../node_modules/@rancher/shell/components/form/Conditions.vue","webpack://kubewarden-0.1.0//home/jordon/Documents/kubewarden/ui/node_modules/@rancher/shell/components/form/Conditions.vue?b0c2","webpack://kubewarden-0.1.0//home/jordon/Documents/kubewarden/ui/node_modules/@rancher/shell/components/form/Conditions.vue","webpack://kubewarden-0.1.0//home/jordon/Documents/kubewarden/ui/node_modules/@rancher/shell/components/RelatedResources.vue?e1f7","webpack://kubewarden-0.1.0/../../node_modules/@rancher/shell/components/RelatedResources.vue","webpack://kubewarden-0.1.0//home/jordon/Documents/kubewarden/ui/node_modules/@rancher/shell/components/RelatedResources.vue?e3ef","webpack://kubewarden-0.1.0//home/jordon/Documents/kubewarden/ui/node_modules/@rancher/shell/components/RelatedResources.vue","webpack://kubewarden-0.1.0/../../node_modules/@rancher/shell/components/form/ResourceTabs/index.vue","webpack://kubewarden-0.1.0//home/jordon/Documents/kubewarden/ui/node_modules/@rancher/shell/components/form/ResourceTabs/index.vue?9be6","webpack://kubewarden-0.1.0//home/jordon/Documents/kubewarden/ui/node_modules/@rancher/shell/components/form/ResourceTabs/index.vue","webpack://kubewarden-0.1.0//home/jordon/Documents/kubewarden/ui/node_modules/@rancher/shell/components/DashboardOptions.vue?6cd5","webpack://kubewarden-0.1.0//home/jordon/Documents/kubewarden/ui/node_modules/@rancher/shell/components/GrafanaDashboard.vue?4b7b","webpack://kubewarden-0.1.0//home/jordon/Documents/kubewarden/ui/node_modules/@rancher/shell/components/DashboardMetrics.vue?57bb","webpack://kubewarden-0.1.0//home/jordon/Documents/kubewarden/ui/node_modules/@rancher/shell/components/DashboardMetrics.vue?a27c"],"names":["content","__esModule","default","module","i","locals","exports","add","computeDashboardUrl","embedUrl","clusterId","params","url","parseUrl","clusterPrefix","newUrl","path","query","viewPanel","addParam","orgId","Object","entries","forEach","entry","async","dashboardExists","store","storeName","isMonitoringInstalled","getters","prefix","delimiter","split","uid","dispatch","redirectUnauthorized","ex","MONITORING","SERVICEMONITOR","render","_vm","this","_h","$createElement","_c","_self","staticClass","class","hasSummaryAndDetail","attrs","model","value","callback","$$v","graphOptions","expression","_t","style","height","graphHeight","type","graphBackgroundColor","theme","refreshRate","range","detailUrl","vars","summaryUrl","staticRenderFns","detailSummaryOptions","$set","rangeOptions","t","refreshOptions","components","ButtonGroup","LabeledSelect","props","required","data","label","component","staticStyle","_v","_s","on","reload","_e","directives","name","rawName","error","ref","loading","frame","initialUrl","grafanaUrl","Banner","Loading","backgroundColor","interval","errorTimer","computed","currentUrl","graphWindow","graphHistory","graphDocument","watch","injector","clearInterval","mounted","beforeDestroy","methods","poll","computeFromTo","from","to","computeUrl","computeParams","ev","injectCss","inject","DashboardOptions","GrafanaDashboard","_b","defaultTab","tabChange","$attrs","conditionsHaveIssues","selectedTab","events","eventHeaders","headers","rows","scopedSlots","_u","key","fn","row","condition","status","SortableTable","labelKey","width","sort","dashIfEmpty","formatter","formatterOpts","addSuffix","message","time","getRealResources","real","ResourceTable","BadgeState","rel","direction","ignoreTypes","loadedResources","filteredRelationships","all","namespace","product","cluster","resource","id","out","state","metadata","_key","nameDisplay","nameSort","stateColor","detailLocation","typeDisplay","stateDisplay","stateBackground","groupByLabel","STATE","TYPE","NAME","NAMESPACE","Tabbed","Tab","Conditions","RelatedResources","mixins","mode","needConditions","needEvents","needRelated","alwaysShowEvents","hasEvents","allEvents","didLoadEvents","showConditions","showEvents","showRelated","reason","date","eventType","___CSS_LOADER_API_IMPORT___","push"],"mappings":"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","file":"kubewarden-0.1.0.umd.min.vendors~detail.js","sourcesContent":["export * from \"-!../../../vue-style-loader/index.js??ref--10-oneOf-1-0!../../../@vue/cli-service/node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../@vue/cli-service/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../postcss-loader/src/index.js??ref--10-oneOf-1-3!../../../sass-loader/dist/cjs.js??ref--10-oneOf-1-4!../../../cache-loader/dist/cjs.js??ref--2-0!../../../@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./GrafanaDashboard.vue?vue&type=style&index=0&id=6853a6e8&prod&lang=scss&scoped=true&\"","export * from \"-!../../../vue-style-loader/index.js??ref--10-oneOf-1-0!../../../@vue/cli-service/node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../@vue/cli-service/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../postcss-loader/src/index.js??ref--10-oneOf-1-3!../../../sass-loader/dist/cjs.js??ref--10-oneOf-1-4!../../../cache-loader/dist/cjs.js??ref--2-0!../../../@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./DashboardOptions.vue?vue&type=style&index=0&id=4aa7b084&prod&lang=scss&scoped=true&\"","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../@vue/cli-service/node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../@vue/cli-service/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../postcss-loader/src/index.js??ref--10-oneOf-1-3!../../../sass-loader/dist/cjs.js??ref--10-oneOf-1-4!../../../cache-loader/dist/cjs.js??ref--2-0!../../../@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./DashboardOptions.vue?vue&type=style&index=0&id=4aa7b084&prod&lang=scss&scoped=true&\");\nif(content.__esModule) content = content.default;\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar add = require(\"!../../../vue-style-loader/lib/addStylesClient.js\").default\nvar update = add(\"c2e72aa2\", content, true, {\"sourceMap\":false,\"shadowMode\":false});","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../@vue/cli-service/node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../@vue/cli-service/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../postcss-loader/src/index.js??ref--10-oneOf-1-3!../../../sass-loader/dist/cjs.js??ref--10-oneOf-1-4!../../../cache-loader/dist/cjs.js??ref--2-0!../../../@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./GrafanaDashboard.vue?vue&type=style&index=0&id=6853a6e8&prod&lang=scss&scoped=true&\");\nif(content.__esModule) content = content.default;\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar add = require(\"!../../../vue-style-loader/lib/addStylesClient.js\").default\nvar update = add(\"8f8df26c\", content, true, {\"sourceMap\":false,\"shadowMode\":false});","export * from \"-!../../../vue-style-loader/index.js??ref--10-oneOf-1-0!../../../@vue/cli-service/node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../@vue/cli-service/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../postcss-loader/src/index.js??ref--10-oneOf-1-3!../../../sass-loader/dist/cjs.js??ref--10-oneOf-1-4!../../../cache-loader/dist/cjs.js??ref--2-0!../../../@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./DashboardMetrics.vue?vue&type=style&index=0&id=0d2267c9&prod&lang=scss&scoped=true&\"","import { parse as parseUrl, addParam } from '@shell/utils/url';\r\nimport { MONITORING } from '@shell/config/types';\r\n\r\nexport function computeDashboardUrl(embedUrl, clusterId, params) {\r\n  const url = parseUrl(embedUrl);\r\n  const clusterPrefix = clusterId === 'local' ? '' : `/k8s/clusters/${ clusterId }`;\r\n\r\n  let newUrl = `${ clusterPrefix }${ url.path }`;\r\n\r\n  if (url.query.viewPanel) {\r\n    newUrl = addParam(newUrl, 'viewPanel', url.query.viewPanel);\r\n  }\r\n  newUrl = addParam(newUrl, 'orgId', url.query.orgId);\r\n  newUrl = addParam(newUrl, 'kiosk', null);\r\n\r\n  Object.entries(params).forEach((entry) => {\r\n    newUrl = addParam(newUrl, entry[0], entry[1]);\r\n  });\r\n\r\n  return newUrl;\r\n}\r\n\r\nexport async function dashboardExists(store, clusterId, embedUrl, storeName = 'cluster') {\r\n  if (!isMonitoringInstalled(store.getters, storeName)) {\r\n    return false;\r\n  }\r\n\r\n  const url = parseUrl(embedUrl);\r\n  const clusterPrefix = clusterId === 'local' ? '' : `/k8s/clusters/${ clusterId }`;\r\n  const prefix = `${ clusterPrefix }/api/v1/namespaces/cattle-monitoring-system/services/http:rancher-monitoring-grafana:80/proxy/`;\r\n  const delimiter = 'http:rancher-monitoring-grafana:80/proxy/';\r\n  const path = url.path.split(delimiter)[1];\r\n  const uid = path.split('/')[1];\r\n  const newUrl = `${ prefix }api/dashboards/uid/${ uid }`;\r\n\r\n  try {\r\n    await store.dispatch(`${ storeName }/request`, { url: newUrl, redirectUnauthorized: false });\r\n\r\n    return true;\r\n  } catch (ex) {\r\n    return false;\r\n  }\r\n}\r\n\r\nexport async function allDashboardsExist(store, clusterId, embeddedUrls, storeName = 'cluster') {\r\n  const existPromises = embeddedUrls.map(url => dashboardExists(store, clusterId, url, storeName));\r\n\r\n  return (await Promise.all(existPromises)).every(exists => exists);\r\n}\r\n\r\nexport function queryGrafana(dispatch, clusterId, query, range, step) {\r\n  const clusterPrefix = clusterId === 'local' ? '' : `/k8s/clusters/${ clusterId }`;\r\n  const url = `${ clusterPrefix }/api/v1/namespaces/cattle-monitoring-system/services/http:rancher-monitoring-grafana:80/proxy/api/datasources/proxy/1/api/v1/query_range?query=${ query }&start=${ range.start }&end=${ range.end }&step=${ step }`;\r\n\r\n  return dispatch('cluster/request', { url, redirectUnauthorized: false });\r\n}\r\n\r\nexport async function hasLeader(dispatch, clusterId) {\r\n  const end = Date.now() / 1000;\r\n  const start = end - (5 * 60);\r\n\r\n  const response = await queryGrafana(dispatch, clusterId, 'max(etcd_server_has_leader)', { start, end }, 30);\r\n\r\n  return response.data.result[0]?.values?.[0]?.[1] === '1';\r\n}\r\n\r\nexport async function leaderChanges(dispatch, clusterId) {\r\n  const end = Date.now() / 1000;\r\n  const start = end - (60 * 60);\r\n\r\n  const response = await queryGrafana(dispatch, clusterId, 'max(etcd_server_leader_changes_seen_total)', { start, end }, 30);\r\n\r\n  return response.data.result[0]?.values?.[0]?.[1] || 0;\r\n}\r\n\r\nexport async function failedProposals(dispatch, clusterId) {\r\n  const end = Date.now() / 1000;\r\n  const start = end - (60 * 60);\r\n\r\n  const response = await queryGrafana(dispatch, clusterId, 'sum(etcd_server_proposals_failed_total)', { start, end }, 30);\r\n\r\n  return response.data.result[0]?.values?.[0]?.[1] || 0;\r\n}\r\n\r\nfunction isMonitoringInstalled(getters, storeName = 'cluster') {\r\n  return !!getters[`${ storeName }/schemaFor`](MONITORING.SERVICEMONITOR);\r\n}\r\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"dashboard-metrics\",class:!_vm.hasSummaryAndDetail && 'external-link-pull-left'},[_c('div',{staticClass:\"graph-options mb-10\"},[_c('DashboardOptions',{attrs:{\"has-summary-and-detail\":_vm.hasSummaryAndDetail},model:{value:(_vm.graphOptions),callback:function ($$v) {_vm.graphOptions=$$v},expression:\"graphOptions\"}})],1),_c('div',{staticClass:\"info\"},[_vm._t(\"default\")],2),_c('div',{staticClass:\"graphs\",style:({height: _vm.graphHeight})},[(_vm.graphOptions.type === 'detail')?_c('GrafanaDashboard',{staticClass:\"col span-12 detail\",attrs:{\"background-color\":_vm.graphBackgroundColor,\"theme\":_vm.theme,\"refresh-rate\":_vm.graphOptions.refreshRate,\"range\":_vm.graphOptions.range,\"url\":_vm.detailUrl,\"vars\":_vm.vars}}):_c('GrafanaDashboard',{staticClass:\"col span-12 summary\",attrs:{\"background-color\":_vm.graphBackgroundColor,\"theme\":_vm.theme,\"refresh-rate\":_vm.graphOptions.refreshRate,\"range\":_vm.graphOptions.range,\"url\":_vm.summaryUrl,\"vars\":_vm.vars}})],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"graph-options\"},[(_vm.hasSummaryAndDetail)?_c('div',[_c('ButtonGroup',{attrs:{\"options\":_vm.detailSummaryOptions},model:{value:(_vm.value.type),callback:function ($$v) {_vm.$set(_vm.value, \"type\", $$v)},expression:\"value.type\"}})],1):_c('div',[_c('div')]),_c('div',{staticClass:\"range-refresh\"},[_c('LabeledSelect',{attrs:{\"options\":_vm.rangeOptions,\"label\":_vm.t('graphOptions.range')},model:{value:(_vm.value.range),callback:function ($$v) {_vm.$set(_vm.value, \"range\", $$v)},expression:\"value.range\"}}),_c('LabeledSelect',{attrs:{\"options\":_vm.refreshOptions,\"label\":_vm.t('graphOptions.refresh')},model:{value:(_vm.value.refreshRate),callback:function ($$v) {_vm.$set(_vm.value, \"refreshRate\", $$v)},expression:\"value.refreshRate\"}})],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<script>\r\nimport ButtonGroup from '@shell/components/ButtonGroup';\r\nimport LabeledSelect from '@shell/components/form/LabeledSelect';\r\n\r\nexport default {\r\n  components: { ButtonGroup, LabeledSelect },\r\n  props:      {\r\n    value: {\r\n      type:     Object,\r\n      required: true,\r\n    },\r\n    hasSummaryAndDetail: {\r\n      type:    Boolean,\r\n      default: true,\r\n    },\r\n  },\r\n  data() {\r\n    return {\r\n      range:        null,\r\n      rangeOptions: [\r\n        {\r\n          label: this.t('generic.units.time.5m'),\r\n          value: '5m',\r\n        },\r\n        {\r\n          label: this.t('generic.units.time.1h'),\r\n          value: '1h',\r\n        },\r\n        {\r\n          label: this.t('generic.units.time.6h'),\r\n          value: '6h',\r\n        },\r\n        {\r\n          label: this.t('generic.units.time.1d'),\r\n          value: '1d',\r\n        },\r\n        {\r\n          label: this.t('generic.units.time.7d'),\r\n          value: '7d',\r\n        },\r\n        {\r\n          label: this.t('generic.units.time.30d'),\r\n          value: '30d',\r\n        },\r\n      ],\r\n      refreshOptions: [\r\n        {\r\n          label: this.t('generic.units.time.5s'),\r\n          value: '5s',\r\n        },\r\n        {\r\n          label: this.t('generic.units.time.10s'),\r\n          value: '10s',\r\n        },\r\n        {\r\n          label: this.t('generic.units.time.30s'),\r\n          value: '30s',\r\n        },\r\n        {\r\n          label: this.t('generic.units.time.1m'),\r\n          value: '1m',\r\n        },\r\n        {\r\n          label: this.t('generic.units.time.5m'),\r\n          value: '5m',\r\n        },\r\n        {\r\n          label: this.t('generic.units.time.15m'),\r\n          value: '15m',\r\n        },\r\n        {\r\n          label: this.t('generic.units.time.30m'),\r\n          value: '30m',\r\n        },\r\n        {\r\n          label: this.t('generic.units.time.1h'),\r\n          value: '1h',\r\n        },\r\n        {\r\n          label: this.t('generic.units.time.2h'),\r\n          value: '2h',\r\n        },\r\n        {\r\n          label: this.t('generic.units.time.1d'),\r\n          value: '1d',\r\n        }\r\n      ],\r\n      detailSummaryOptions: [\r\n        {\r\n          label: this.t('graphOptions.detail'),\r\n          value: 'detail'\r\n        },\r\n        {\r\n          label: this.t('graphOptions.summary'),\r\n          value: 'summary'\r\n        }\r\n      ]\r\n    };\r\n  }\r\n};\r\n</script>\r\n\r\n<template>\r\n  <div class=\"graph-options\">\r\n    <div v-if=\"hasSummaryAndDetail\">\r\n      <ButtonGroup v-model=\"value.type\" :options=\"detailSummaryOptions\" />\r\n    </div>\r\n    <div v-else>\r\n      <div />\r\n    </div>\r\n    <div class=\"range-refresh\">\r\n      <LabeledSelect v-model=\"value.range\" :options=\"rangeOptions\" :label=\"t('graphOptions.range')\" />\r\n      <LabeledSelect v-model=\"value.refreshRate\" :options=\"refreshOptions\" :label=\"t('graphOptions.refresh')\" />\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<style lang='scss' scoped>\r\n.graph-options {\r\n    &, .range-refresh {\r\n      display: flex;\r\n      flex-direction: row;\r\n      justify-content: flex-end;\r\n    }\r\n\r\n    & {\r\n      justify-content: space-between;\r\n      align-items: center;\r\n    }\r\n\r\n    .labeled-select {\r\n        width: 100px;\r\n        margin-left: 10px;\r\n    }\r\n}\r\n</style>\r\n","import mod from \"-!../../../cache-loader/dist/cjs.js??ref--14-0!../../../thread-loader/dist/cjs.js!../../../babel-loader/lib/index.js!../../../cache-loader/dist/cjs.js??ref--2-0!../../../@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./DashboardOptions.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../cache-loader/dist/cjs.js??ref--14-0!../../../thread-loader/dist/cjs.js!../../../babel-loader/lib/index.js!../../../cache-loader/dist/cjs.js??ref--2-0!../../../@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./DashboardOptions.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./DashboardOptions.vue?vue&type=template&id=4aa7b084&scoped=true&\"\nimport script from \"./DashboardOptions.vue?vue&type=script&lang=js&\"\nexport * from \"./DashboardOptions.vue?vue&type=script&lang=js&\"\nimport style0 from \"./DashboardOptions.vue?vue&type=style&index=0&id=4aa7b084&prod&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../@vue/cli-service/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"4aa7b084\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"grafana-graph\"},[(_vm.error)?_c('Banner',{staticStyle:{\"z-index\":\"1000\"},attrs:{\"color\":\"error\"}},[_c('div',{staticClass:\"text-center\"},[_vm._v(\" \"+_vm._s(_vm.t('grafanaDashboard.failedToLoad'))+\" \"),_c('a',{attrs:{\"href\":\"#\"},on:{\"click\":_vm.reload}},[_vm._v(_vm._s(_vm.t('grafanaDashboard.reload')))])])]):_vm._e(),_c('iframe',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.error),expression:\"!error\"}],ref:\"frame\",class:{loading: _vm.loading, frame: true},attrs:{\"src\":_vm.initialUrl,\"frameborder\":\"0\",\"scrolling\":\"no\"}}),(_vm.loading)?_c('div',[_c('Loading')],1):_vm._e(),(!_vm.loading && !_vm.error)?_c('div',{staticClass:\"external-link\"},[_c('a',{attrs:{\"href\":_vm.grafanaUrl,\"target\":\"_blank\",\"rel\":\"noopener noreferrer nofollow\"}},[_vm._v(_vm._s(_vm.t('grafanaDashboard.grafana'))+\" \"),_c('i',{staticClass:\"icon icon-external-link\"})])]):_vm._e()],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<script>\r\nimport Loading from '@shell/components/Loading';\r\nimport { Banner } from '@components/Banner';\r\nimport { computeDashboardUrl } from '@shell/utils/grafana';\r\n\r\nexport default {\r\n  components: { Banner, Loading },\r\n  props:      {\r\n    url: {\r\n      type:     String,\r\n      required: true,\r\n    },\r\n    vars: {\r\n      type:    Object,\r\n      default: () => ({})\r\n    },\r\n    range: {\r\n      type:    String,\r\n      default: null\r\n    },\r\n    refreshRate: {\r\n      type:    String,\r\n      default: null\r\n    },\r\n    backgroundColor: {\r\n      type:    String,\r\n      default: '#1b1c21'\r\n    },\r\n    theme: {\r\n      type:    String,\r\n      default: 'dark'\r\n    }\r\n  },\r\n  data() {\r\n    return {\r\n      loading: false, error: false, interval: null, initialUrl: this.computeUrl(), errorTimer: null\r\n    };\r\n  },\r\n  computed: {\r\n    currentUrl() {\r\n      return this.computeUrl();\r\n    },\r\n    grafanaUrl() {\r\n      return this.currentUrl.replace('&kiosk', '');\r\n    },\r\n    graphWindow() {\r\n      return this.$refs.frame?.contentWindow;\r\n    },\r\n    graphHistory() {\r\n      return this.graphWindow?.history;\r\n    },\r\n    graphDocument() {\r\n      return this.graphWindow?.document;\r\n    }\r\n  },\r\n  watch: {\r\n    currentUrl() {\r\n      if (this.graphHistory && this.graphWindow?.angular) {\r\n        const angularElement = this.graphWindow.angular.element(this.graphDocument.querySelector('.grafana-app'));\r\n        const injector = angularElement.injector();\r\n\r\n        this.graphHistory.pushState({}, '', this.currentUrl);\r\n        injector.get('$route').updateParams(this.computeParams());\r\n        injector.get('$route').reload();\r\n      }\r\n    },\r\n\r\n    error(neu) {\r\n      if (neu) {\r\n        this.errorTimer = setInterval(() => {\r\n          this.reload();\r\n        }, 45000);\r\n      } else {\r\n        clearInterval(this.errorTimer);\r\n        this.errorTimer = null;\r\n      }\r\n    }\r\n  },\r\n  mounted() {\r\n    this.$refs.frame.onload = this.inject;\r\n    this.poll();\r\n  },\r\n  beforeDestroy() {\r\n    if (this.interval) {\r\n      clearInterval(this.interval);\r\n    }\r\n\r\n    if (this.errorTimer) {\r\n      clearInterval(this.errorTimer);\r\n    }\r\n  },\r\n  methods: {\r\n    poll() {\r\n      if (this.interval) {\r\n        clearInterval(this.interval);\r\n        this.interval = null;\r\n      }\r\n\r\n      this.interval = setInterval(() => {\r\n        try {\r\n          const graphWindow = this.$refs.frame?.contentWindow;\r\n          const errorElements = graphWindow.document.getElementsByClassName('alert-error');\r\n          const errorCornerElements = graphWindow.document.getElementsByClassName('panel-info-corner--error');\r\n          const panelInFullScreenElements = graphWindow.document.getElementsByClassName('panel-in-fullscreen');\r\n          const panelContainerElements = graphWindow.document.getElementsByClassName('panel-container');\r\n          const error = errorElements.length > 0 || errorCornerElements.length > 0;\r\n          const loaded = panelInFullScreenElements.length > 0 || panelContainerElements.length > 0;\r\n          const errorMessageElms = graphWindow.document.getElementsByTagName('pre');\r\n          const errorMessage = errorMessageElms.length > 0 ? errorMessageElms[0].innerText : '';\r\n          const isFailure = errorMessage.includes('\"status\": \"Failure\"');\r\n\r\n          if (error) {\r\n            throw new Error('An error was detected in the iframe');\r\n          }\r\n\r\n          this.$set(this, 'loading', !loaded);\r\n          this.$set(this, 'error', isFailure);\r\n        } catch (ex) {\r\n          this.$set(this, 'error', true);\r\n          this.$set(this, 'loading', false);\r\n          clearInterval(this.interval);\r\n          this.interval = null;\r\n        }\r\n      }, 100);\r\n    },\r\n    computeFromTo() {\r\n      return {\r\n        from: `now-${ this.range }`,\r\n        to:   `now`\r\n      };\r\n    },\r\n    computeUrl() {\r\n      const embedUrl = this.url;\r\n      const clusterId = this.$store.getters['currentCluster'].id;\r\n      const params = this.computeParams();\r\n\r\n      return computeDashboardUrl(embedUrl, clusterId, params);\r\n    },\r\n    computeParams() {\r\n      const params = {};\r\n      const fromTo = this.computeFromTo();\r\n\r\n      if (fromTo.from) {\r\n        params.from = fromTo.from;\r\n      }\r\n\r\n      if (fromTo.to) {\r\n        params.to = fromTo.to;\r\n      }\r\n\r\n      if (this.refreshRate) {\r\n        params.refresh = this.refreshRate;\r\n      }\r\n\r\n      if (Object.keys(this.vars).length > 0) {\r\n        Object.entries(this.vars).forEach((entry) => {\r\n          const paramName = `var-${ entry[0] }`;\r\n\r\n          params[paramName] = entry[1];\r\n        });\r\n      }\r\n\r\n      params.theme = this.theme;\r\n\r\n      return params;\r\n    },\r\n    reload(ev) {\r\n      ev && ev.preventDefault();\r\n      this.$refs.frame.contentWindow.location.reload();\r\n      this.poll();\r\n    },\r\n    injectCss() {\r\n      const style = document.createElement('style');\r\n\r\n      style.innerHTML = `\r\n        body .grafana-app .dashboard-content {\r\n          background: ${ this.backgroundColor };\r\n          padding: 0;\r\n        }\r\n\r\n        body .grafana-app .layout {\r\n          background: ${ this.backgroundColor };\r\n        }\r\n\r\n\r\n        body .grafana-app .dashboard-content .panel-container {\r\n          background-color: initial;\r\n          border: none;\r\n        }\r\n\r\n        body .grafana-app .dashboard-content .panel-wrapper {\r\n          height: 100%;\r\n        }\r\n\r\n        body .grafana-app .panel-menu-container {\r\n          display: none;\r\n        }\r\n\r\n        body .grafana-app .panel-title {\r\n          cursor: default;\r\n        }\r\n\r\n        body .grafana-app .panel-title .panel-title-text div {\r\n          display: none;\r\n        }\r\n      `;\r\n\r\n      const graphWindow = this.$refs.frame?.contentWindow;\r\n      const graphDocument = graphWindow?.document;\r\n\r\n      if (graphDocument.head) {\r\n        graphDocument.head.appendChild(style);\r\n      }\r\n    },\r\n\r\n    inject() {\r\n      this.injectCss();\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<template>\r\n  <div class=\"grafana-graph\">\r\n    <Banner v-if=\"error\" color=\"error\" style=\"z-index: 1000\">\r\n      <div class=\"text-center\">\r\n        {{ t('grafanaDashboard.failedToLoad') }} <a href=\"#\" @click=\"reload\">{{ t('grafanaDashboard.reload') }}</a>\r\n      </div>\r\n    </Banner>\r\n    <iframe\r\n      v-show=\"!error\"\r\n      ref=\"frame\"\r\n      :class=\"{loading, frame: true}\"\r\n      :src=\"initialUrl\"\r\n      frameborder=\"0\"\r\n      scrolling=\"no\"\r\n    ></iframe>\r\n    <div v-if=\"loading\">\r\n      <Loading />\r\n    </div>\r\n    <div v-if=\"!loading && !error\" class=\"external-link\">\r\n      <a :href=\"grafanaUrl\" target=\"_blank\" rel=\"noopener noreferrer nofollow\">{{ t('grafanaDashboard.grafana') }} <i class=\"icon icon-external-link\" /></a>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<style lang='scss' scoped>\r\n.grafana-graph {\r\n  position: relative;\r\n  min-height: 100%;\r\n  min-width: 100%;\r\n\r\n  & ::v-deep .content {\r\n    position: relative;\r\n    display: flex;\r\n    flex-direction: column;\r\n    justify-content: center;\r\n    align-items: center;\r\n    width: 100%;\r\n    height: 100%;\r\n    padding: 0;\r\n  }\r\n\r\n  & ::v-deep .overlay {\r\n    position: static;\r\n    background-color: initial;\r\n  }\r\n\r\n  iframe {\r\n    position: absolute;\r\n    left: 0;\r\n    right: 0;\r\n    top: 20px;\r\n    bottom: 0;\r\n    width: 100%;\r\n    height: 100%;\r\n    overflow: hidden;\r\n\r\n    &.loading {\r\n      visibility: hidden;\r\n    }\r\n  }\r\n}\r\n</style>\r\n","import mod from \"-!../../../cache-loader/dist/cjs.js??ref--14-0!../../../thread-loader/dist/cjs.js!../../../babel-loader/lib/index.js!../../../cache-loader/dist/cjs.js??ref--2-0!../../../@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./GrafanaDashboard.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../cache-loader/dist/cjs.js??ref--14-0!../../../thread-loader/dist/cjs.js!../../../babel-loader/lib/index.js!../../../cache-loader/dist/cjs.js??ref--2-0!../../../@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./GrafanaDashboard.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./GrafanaDashboard.vue?vue&type=template&id=6853a6e8&scoped=true&\"\nimport script from \"./GrafanaDashboard.vue?vue&type=script&lang=js&\"\nexport * from \"./GrafanaDashboard.vue?vue&type=script&lang=js&\"\nimport style0 from \"./GrafanaDashboard.vue?vue&type=style&index=0&id=6853a6e8&prod&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../@vue/cli-service/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"6853a6e8\",\n  null\n  \n)\n\nexport default component.exports","<script>\r\nimport DashboardOptions from '@shell/components/DashboardOptions';\r\nimport GrafanaDashboard from '@shell/components/GrafanaDashboard';\r\nimport { mapGetters } from 'vuex';\r\n\r\nexport default {\r\n  components: { DashboardOptions, GrafanaDashboard },\r\n  props:      {\r\n    detailUrl: {\r\n      type:     String,\r\n      required: true,\r\n    },\r\n    summaryUrl: {\r\n      type:     String,\r\n      default:  '',\r\n    },\r\n    vars: {\r\n      type:    Object,\r\n      default: () => ({})\r\n    },\r\n    graphHeight: {\r\n      type:     String,\r\n      required: true\r\n    },\r\n    hasSummaryAndDetail: {\r\n      type:    Boolean,\r\n      default: true,\r\n    },\r\n  },\r\n  data() {\r\n    return {\r\n      graphOptions: {\r\n        range: '5m', refreshRate: '30s', type: 'detail'\r\n      }\r\n    };\r\n  },\r\n  computed: {\r\n    ...mapGetters(['prefs/theme']),\r\n    graphBackgroundColor() {\r\n      return this.theme === 'dark' ? '#2e3035' : '#f3f4f9';\r\n    },\r\n    theme() {\r\n      return this['prefs/theme'];\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<template>\r\n  <div class=\"dashboard-metrics\" :class=\"!hasSummaryAndDetail && 'external-link-pull-left'\">\r\n    <div class=\"graph-options mb-10\">\r\n      <DashboardOptions v-model=\"graphOptions\" :has-summary-and-detail=\"hasSummaryAndDetail\" />\r\n    </div>\r\n    <div class=\"info\">\r\n      <slot />\r\n    </div>\r\n    <div class=\"graphs\" :style=\"{height: graphHeight}\">\r\n      <GrafanaDashboard\r\n        v-if=\"graphOptions.type === 'detail'\"\r\n        class=\"col span-12 detail\"\r\n        :background-color=\"graphBackgroundColor\"\r\n        :theme=\"theme\"\r\n        :refresh-rate=\"graphOptions.refreshRate\"\r\n        :range=\"graphOptions.range\"\r\n        :url=\"detailUrl\"\r\n        :vars=\"vars\"\r\n      />\r\n      <GrafanaDashboard\r\n        v-else\r\n        class=\"col span-12 summary\"\r\n        :background-color=\"graphBackgroundColor\"\r\n        :theme=\"theme\"\r\n        :refresh-rate=\"graphOptions.refreshRate\"\r\n        :range=\"graphOptions.range\"\r\n        :url=\"summaryUrl\"\r\n        :vars=\"vars\"\r\n      />\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<style lang=\"scss\" scoped>\r\n.dashboard-metrics {\r\n  & ::v-deep {\r\n    .external-link {\r\n      position: absolute;\r\n      left: 200px;\r\n      top: -45px;\r\n    }\r\n\r\n    .frame {\r\n      top: 0;\r\n    }\r\n  }\r\n}\r\n\r\n.dashboard-metrics.external-link-pull-left {\r\n  & ::v-deep {\r\n    .external-link {\r\n      position: absolute;\r\n      left: 10px;\r\n      top: -45px;\r\n    }\r\n  }\r\n}\r\n</style>\r\n","import mod from \"-!../../../cache-loader/dist/cjs.js??ref--14-0!../../../thread-loader/dist/cjs.js!../../../babel-loader/lib/index.js!../../../cache-loader/dist/cjs.js??ref--2-0!../../../@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./DashboardMetrics.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../cache-loader/dist/cjs.js??ref--14-0!../../../thread-loader/dist/cjs.js!../../../babel-loader/lib/index.js!../../../cache-loader/dist/cjs.js??ref--2-0!../../../@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./DashboardMetrics.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./DashboardMetrics.vue?vue&type=template&id=0d2267c9&scoped=true&\"\nimport script from \"./DashboardMetrics.vue?vue&type=script&lang=js&\"\nexport * from \"./DashboardMetrics.vue?vue&type=script&lang=js&\"\nimport style0 from \"./DashboardMetrics.vue?vue&type=style&index=0&id=0d2267c9&prod&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../@vue/cli-service/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"0d2267c9\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('Tabbed',_vm._b({attrs:{\"default-tab\":_vm.defaultTab},on:{\"changed\":_vm.tabChange}},'Tabbed',_vm.$attrs,false),[_vm._t(\"default\"),(_vm.showConditions)?_c('Tab',{attrs:{\"label-key\":\"resourceTabs.conditions.tab\",\"name\":\"conditions\",\"weight\":-1,\"display-alert-icon\":_vm.conditionsHaveIssues}},[_c('Conditions',{attrs:{\"value\":_vm.value}})],1):_vm._e(),(_vm.showEvents)?_c('Tab',{attrs:{\"label-key\":\"resourceTabs.events.tab\",\"name\":\"events\",\"weight\":-2}},[(_vm.selectedTab === 'events')?_c('SortableTable',{attrs:{\"rows\":_vm.events,\"headers\":_vm.eventHeaders,\"key-field\":\"id\",\"search\":false,\"table-actions\":false,\"row-actions\":false,\"default-sort-by\":\"date\"}}):_vm._e()],1):_vm._e(),(_vm.showRelated)?_c('Tab',{attrs:{\"name\":\"related\",\"label-key\":\"resourceTabs.related.tab\",\"weight\":-3}},[_c('h3',{directives:[{name:\"t\",rawName:\"v-t\",value:('resourceTabs.related.from'),expression:\"'resourceTabs.related.from'\"}]}),_c('RelatedResources',{attrs:{\"ignore-types\":[_vm.value.type],\"value\":_vm.value,\"direction\":\"from\"}}),_c('h3',{directives:[{name:\"t\",rawName:\"v-t\",value:('resourceTabs.related.to'),expression:\"'resourceTabs.related.to'\"}],staticClass:\"mt-20\"}),_c('RelatedResources',{attrs:{\"ignore-types\":[_vm.value.type],\"value\":_vm.value,\"direction\":\"to\"}})],1):_vm._e()],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('SortableTable',{attrs:{\"headers\":_vm.headers,\"rows\":_vm.rows,\"key-field\":\"condition\",\"default-sort-by\":\"condition\",\"table-actions\":false,\"row-actions\":false,\"search\":false},scopedSlots:_vm._u([{key:\"cell:condition\",fn:function(ref){\nvar row = ref.row;\nreturn [_c('span',{class:{'text-error': row.error}},[_vm._v(_vm._s(row.condition))])]}},{key:\"cell:status\",fn:function(ref){\nvar row = ref.row;\nreturn [_c('span',{class:{'text-error': row.error}},[_vm._v(_vm._s(row.status))])]}}])})}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<script>\nimport SortableTable from '@shell/components/SortableTable';\n\nexport default {\n  components: { SortableTable },\n  props:      {\n    value: {\n      type:    Object,\n      default: () => {\n        return {};\n      }\n    }\n  },\n\n  computed: {\n    headers() {\n      return [\n        {\n          name:        'condition',\n          labelKey:    'tableHeaders.condition',\n          value:       'condition',\n          width:       150,\n          sort:        'condition',\n          dashIfEmpty: true,\n        },\n        {\n          name:        'status',\n          labelKey:    'tableHeaders.status',\n          value:       'status',\n          width:       75,\n          sort:        'status',\n          dashIfEmpty: true,\n        },\n        {\n          name:          'time',\n          labelKey:      'tableHeaders.updated',\n          value:         'time',\n          sort:          'time',\n          formatter:     'LiveDate',\n          formatterOpts: { addSuffix: true },\n          width:         125,\n          dashIfEmpty:   true,\n        },\n        {\n          name:        'message',\n          labelKey:    'tableHeaders.message',\n          value:       'message',\n          sort:        ['message'],\n          dashIfEmpty: true,\n        },\n      ];\n    },\n\n    rows() {\n      return (this.value.status?.conditions || []).map((cond) => {\n        let message = cond.message || '';\n\n        if ( cond.reason ) {\n          message = `[${ cond.reason }] ${ message }`.trim();\n        }\n\n        return {\n          condition: cond.type || 'Unknown',\n          status:    cond.status || 'Unknown',\n          error:     cond.error,\n          time:      cond.lastProbeTime || cond.lastUpdateTime || cond.lastTransitionTime,\n          message,\n        };\n      });\n    },\n  }\n};\n</script>\n\n<template>\n  <SortableTable\n    :headers=\"headers\"\n    :rows=\"rows\"\n    key-field=\"condition\"\n    default-sort-by=\"condition\"\n    :table-actions=\"false\"\n    :row-actions=\"false\"\n    :search=\"false\"\n  >\n    <template #cell:condition=\"{row}\">\n      <span :class=\"{'text-error': row.error}\">{{ row.condition }}</span>\n    </template>\n\n    <template #cell:status=\"{row}\">\n      <span :class=\"{'text-error': row.error}\">{{ row.status }}</span>\n    </template>\n  </SortableTable>\n</template>\n","import mod from \"-!../../../../cache-loader/dist/cjs.js??ref--14-0!../../../../thread-loader/dist/cjs.js!../../../../babel-loader/lib/index.js!../../../../cache-loader/dist/cjs.js??ref--2-0!../../../../@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./Conditions.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../cache-loader/dist/cjs.js??ref--14-0!../../../../thread-loader/dist/cjs.js!../../../../babel-loader/lib/index.js!../../../../cache-loader/dist/cjs.js??ref--2-0!../../../../@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./Conditions.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Conditions.vue?vue&type=template&id=14e4eb96&\"\nimport script from \"./Conditions.vue?vue&type=script&lang=js&\"\nexport * from \"./Conditions.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../@vue/cli-service/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('ResourceTable',{attrs:{\"schema\":null,\"rows\":_vm.rows,\"headers\":_vm.headers,\"search\":false,\"table-actions\":false,\"namespaced\":true,\"mangle-action-resources\":_vm.getRealResources,\"paging-label\":\"sortableTable.paging.generic\",\"groupable\":false},scopedSlots:_vm._u([{key:\"cell:state\",fn:function(ref){\nvar row = ref.row;\nreturn [(row.real)?_c('BadgeState',{attrs:{\"value\":row.real}}):_c('BadgeState',{attrs:{\"value\":row}})]}}])})}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<script>\nimport ResourceTable from '@shell/components/ResourceTable';\nimport { colorForState, stateDisplay } from '@shell/plugins/dashboard-store/resource-class';\nimport { NAME, NAMESPACE, STATE, TYPE } from '@shell/config/table-headers';\nimport { sortableNumericSuffix } from '@shell/utils/sort';\nimport { NAME as EXPLORER } from '@shell/config/product/explorer';\nimport { BadgeState } from '@components/BadgeState';\n\nexport default {\n  components: { ResourceTable, BadgeState },\n\n  props: {\n    value: {\n      type:     Object,\n      required: true,\n    },\n\n    rel: {\n      type:    String,\n      default: null,\n    },\n\n    direction: {\n      type:    String,\n      default: 'to'\n    },\n\n    ignoreTypes: {\n      type:    Array,\n      default: () => []\n    }\n  },\n\n  data() {\n    return { loadedResources: 1 };\n  },\n\n  computed: {\n    filteredRelationships() {\n      let all = this.value?.metadata?.relationships || [];\n\n      // @TODO probably will need more flexible filtering here for\n      // related resources other than helm app resources...\n\n      all = all.filter((relationship) => {\n        const type = relationship[`${ this.direction }Type`];\n\n        if (!type || this.ignoreTypes.includes(type)) {\n          return false;\n        }\n\n        if (this.rel && relationship.rel !== this.rel) {\n          return false;\n        }\n\n        return true;\n      });\n\n      return all;\n    },\n\n    rows() {\n      if ( this.loadedResources < 1 ) {\n        // This does nothing except force recompute when loaded resources change below\n        return;\n      }\n\n      const cluster = this.$store.getters['clusterId'];\n      const inStore = this.$store.getters['currentStore']();\n      const out = [];\n\n      for ( const r of this.filteredRelationships) {\n        const state = r.state || 'active';\n        const stateColor = colorForState(state, r.error, r.transitioning);\n        const type = r[`${ this.direction }Type`];\n        const schema = this.$store.getters[`${ inStore }/schemaFor`](type);\n\n        let name = r[`${ this.direction }Id`];\n\n        // Skip things like toType/toNamespace+selector for now\n        if ( !name ) {\n          continue;\n        }\n\n        let namespace = null;\n        const idx = name.indexOf('/');\n        const key = `${ type }/${ namespace }/${ name }`;\n\n        if ( idx > 0 ) {\n          namespace = name.substr(0, idx);\n          name = name.substr(idx + 1);\n        }\n\n        const detailLocation = {\n          name:   `c-cluster-product-resource${ namespace ? '-namespace' : '' }-id`,\n          params: {\n            product:  EXPLORER,\n            cluster:  inStore === 'management' ? 'local' : cluster,\n            resource: type,\n            namespace,\n            id:       name,\n          }\n        };\n\n        out.push({\n          type,\n          real:     this.$store.getters[`${ inStore }/byId`](type, r[`${ this.direction }Id`]),\n          id:       r[`${ this.direction }Id`],\n          state,\n          metadata: { namespace, name },\n          _key:     key,\n\n          name,\n          namespace,\n          nameDisplay: name,\n          nameSort:    sortableNumericSuffix(name).toLowerCase(),\n\n          stateColor,\n          detailLocation,\n          typeDisplay:     this.$store.getters['type-map/labelFor'](schema),\n          stateDisplay:    stateDisplay(state),\n          stateBackground: stateColor.replace('text-', 'bg-'),\n          groupByLabel:    namespace,\n        });\n      }\n\n      return out;\n    },\n\n    headers() {\n      return [\n        STATE,\n        TYPE,\n        NAME,\n        NAMESPACE,\n      ];\n    },\n  },\n\n  methods: {\n    async getRealResources(rows) {\n      const inStore = this.$store.getters['currentStore']();\n\n      const res = await Promise.allSettled(rows.map((row) => {\n        return this.$store.dispatch(`${ inStore }/find`, { type: row.type, id: row.id });\n      }));\n\n      const out = [];\n\n      for ( let i = 0 ; i < res.length ; i++ ) {\n        if ( res[i].status === 'fulfilled' ) {\n          out.push(res[i].value);\n        }\n      }\n\n      this.loadedResources++;\n\n      return out;\n    }\n  },\n};\n</script>\n\n<template>\n  <ResourceTable\n    :schema=\"null\"\n    :rows=\"rows\"\n    :headers=\"headers\"\n    :search=\"false\"\n    :table-actions=\"false\"\n    :namespaced=\"true\"\n    :mangle-action-resources=\"getRealResources\"\n    paging-label=\"sortableTable.paging.generic\"\n    :groupable=\"false\"\n  >\n    <template #cell:state=\"{row}\">\n      <BadgeState v-if=\"row.real\" :value=\"row.real\" />\n      <BadgeState v-else :value=\"row\" />\n    </template>\n  </ResourceTable>\n</template>\n","import mod from \"-!../../../cache-loader/dist/cjs.js??ref--14-0!../../../thread-loader/dist/cjs.js!../../../babel-loader/lib/index.js!../../../cache-loader/dist/cjs.js??ref--2-0!../../../@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./RelatedResources.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../cache-loader/dist/cjs.js??ref--14-0!../../../thread-loader/dist/cjs.js!../../../babel-loader/lib/index.js!../../../cache-loader/dist/cjs.js??ref--2-0!../../../@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./RelatedResources.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./RelatedResources.vue?vue&type=template&id=f3fc5a76&\"\nimport script from \"./RelatedResources.vue?vue&type=script&lang=js&\"\nexport * from \"./RelatedResources.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../@vue/cli-service/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<script>\n/*\n    Tab component for resource CRU pages featuring:\n    Labels and Annotation tabs with content filtered by create-edit-view mixin\n*/\nimport Tabbed from '@shell/components/Tabbed';\nimport Tab from '@shell/components/Tabbed/Tab';\nimport CreateEditView from '@shell/mixins/create-edit-view';\nimport Conditions from '@shell/components/form/Conditions';\nimport { EVENT } from '@shell/config/types';\nimport SortableTable from '@shell/components/SortableTable';\nimport { _VIEW } from '@shell/config/query-params';\nimport RelatedResources from '@shell/components/RelatedResources';\n\nexport default {\n\n  name: 'ResourceTabs',\n\n  components: {\n    Tabbed,\n    Tab,\n    Conditions,\n    SortableTable,\n    RelatedResources,\n  },\n\n  mixins: [CreateEditView],\n\n  props: {\n    // resource instance\n    value: {\n      type:    Object,\n      default: () => {\n        return {};\n      }\n    },\n    // create-edit-view mode\n    mode: {\n      type:    String,\n      default: _VIEW,\n    },\n\n    defaultTab: {\n      type:    String,\n      default: null,\n    },\n\n    needConditions: {\n      type:    Boolean,\n      default: true\n    },\n\n    needEvents: {\n      type:    Boolean,\n      default: true\n    },\n\n    needRelated: {\n      type:    Boolean,\n      default: true\n    },\n\n    alwaysShowEvents: {\n      type:    Boolean,\n      default: false\n    }\n  },\n\n  data() {\n    const inStore = this.$store.getters['currentStore'](EVENT);\n\n    return {\n      hasEvents:     this.$store.getters[`${ inStore }/schemaFor`](EVENT), // @TODO be smarter about which resources actually ever have events\n      allEvents:     [],\n      selectedTab:   this.defaultTab,\n      didLoadEvents: false,\n    };\n  },\n\n  beforeDestroy() {\n    this.$store.dispatch('cluster/forgetType', EVENT);\n  },\n\n  computed: {\n    showConditions() {\n      const inStore = this.$store.getters['currentStore'](this.value.type);\n\n      return this.isView && this.needConditions && this.value?.type && this.$store.getters[`${ inStore }/pathExistsInSchema`](this.value.type, 'status.conditions');\n    },\n    showEvents() {\n      return this.isView && this.needEvents && this.hasEvents && (this.events.length || this.alwaysShowEvents);\n    },\n    showRelated() {\n      return this.isView && this.needRelated;\n    },\n    eventHeaders() {\n      return [\n        {\n          name:  'type',\n          label: this.t('tableHeaders.type'),\n          value: 'eventType',\n          sort:  'eventType',\n        },\n        {\n          name:  'reason',\n          label: this.t('tableHeaders.reason'),\n          value: 'reason',\n          sort:  'reason',\n        },\n        {\n          name:          'date',\n          label:         this.t('tableHeaders.updated'),\n          value:         'date',\n          sort:          'date:desc',\n          formatter:     'LiveDate',\n          formatterOpts: { addSuffix: true },\n          width:         125\n        },\n        {\n          name:  'message',\n          label: this.t('tableHeaders.message'),\n          value: 'message',\n          sort:  'message',\n        },\n      ];\n    },\n    events() {\n      return this.allEvents.filter((event) => {\n        return event.involvedObject?.uid === this.value?.metadata?.uid;\n      }).map((event) => {\n        return {\n          reason:    (`${ event.reason || this.t('generic.unknown') }${ event.count > 1 ? ` (${ event.count })` : '' }`).trim(),\n          message:   event.message || this.t('generic.unknown'),\n          date:      event.lastTimestamp || event.firstTimestamp || event.metadata.creationTimestamp,\n          eventType: event.eventType\n        };\n      });\n    },\n    conditionsHaveIssues() {\n      if (this.showConditions) {\n        return this.value.status?.conditions?.some(cond => cond.error);\n      }\n\n      return false;\n    }\n  },\n\n  methods: {\n    // Ensures we only fetch events and show the table when the events tab has been activated\n    tabChange(neu) {\n      this.selectedTab = neu?.selectedName;\n\n      if (!this.didLoadEvents && this.selectedTab === 'events') {\n        const inStore = this.$store.getters['currentStore'](EVENT);\n\n        this.$store.dispatch(`${ inStore }/findAll`, { type: EVENT }).then((events) => {\n          this.allEvents = events;\n          this.didLoadEvents = true;\n        });\n      }\n    }\n  }\n};\n</script>\n\n<template>\n  <Tabbed v-bind=\"$attrs\" :default-tab=\"defaultTab\" @changed=\"tabChange\">\n    <slot />\n\n    <Tab v-if=\"showConditions\" label-key=\"resourceTabs.conditions.tab\" name=\"conditions\" :weight=\"-1\" :display-alert-icon=\"conditionsHaveIssues\">\n      <Conditions :value=\"value\" />\n    </Tab>\n\n    <Tab v-if=\"showEvents\" label-key=\"resourceTabs.events.tab\" name=\"events\" :weight=\"-2\">\n      <SortableTable\n        v-if=\"selectedTab === 'events'\"\n        :rows=\"events\"\n        :headers=\"eventHeaders\"\n        key-field=\"id\"\n        :search=\"false\"\n        :table-actions=\"false\"\n        :row-actions=\"false\"\n        default-sort-by=\"date\"\n      />\n    </Tab>\n\n    <Tab v-if=\"showRelated\" name=\"related\" label-key=\"resourceTabs.related.tab\" :weight=\"-3\">\n      <h3 v-t=\"'resourceTabs.related.from'\" />\n      <RelatedResources :ignore-types=\"[value.type]\" :value=\"value\" direction=\"from\" />\n\n      <h3 v-t=\"'resourceTabs.related.to'\" class=\"mt-20\" />\n      <RelatedResources :ignore-types=\"[value.type]\" :value=\"value\" direction=\"to\" />\n    </Tab>\n  </Tabbed>\n</template>\n","import mod from \"-!../../../../../cache-loader/dist/cjs.js??ref--14-0!../../../../../thread-loader/dist/cjs.js!../../../../../babel-loader/lib/index.js!../../../../../cache-loader/dist/cjs.js??ref--2-0!../../../../../@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../cache-loader/dist/cjs.js??ref--14-0!../../../../../thread-loader/dist/cjs.js!../../../../../babel-loader/lib/index.js!../../../../../cache-loader/dist/cjs.js??ref--2-0!../../../../../@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=5b6e0a6c&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../@vue/cli-service/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../@vue/cli-service/node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".clearfix[data-v-4aa7b084]:after,.clearfix[data-v-4aa7b084]:before{content:\\\" \\\";display:table}.clearfix[data-v-4aa7b084]:after{clear:both}.list-unstyled[data-v-4aa7b084]{margin:0;padding:0;list-style-type:none}.no-select[data-v-4aa7b084]{-webkit-user-select:none;-moz-user-select:none;user-select:none}.no-resize[data-v-4aa7b084]{resize:none}.hand[data-v-4aa7b084]{cursor:pointer;cursor:hand}.fixed[data-v-4aa7b084]{table-layout:fixed}.clip[data-v-4aa7b084]{text-overflow:ellipsis;overflow:hidden;white-space:nowrap}.clip[data-v-4aa7b084],.force-wrap[data-v-4aa7b084]{word-wrap:break-word}.force-wrap[data-v-4aa7b084]{white-space:normal}.bordered-section[data-v-4aa7b084]{border-bottom:1px solid var(--border);margin-bottom:20px;padding-bottom:20px}.section-divider[data-v-4aa7b084]{margin-bottom:20px;margin-top:20px}.graph-options[data-v-4aa7b084],.graph-options .range-refresh[data-v-4aa7b084]{display:flex;flex-direction:row;justify-content:flex-end}.graph-options[data-v-4aa7b084]{justify-content:space-between;align-items:center}.graph-options .labeled-select[data-v-4aa7b084]{width:100px;margin-left:10px}\", \"\"]);\n// Exports\nmodule.exports = exports;\n","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../@vue/cli-service/node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".clearfix[data-v-6853a6e8]:after,.clearfix[data-v-6853a6e8]:before{content:\\\" \\\";display:table}.clearfix[data-v-6853a6e8]:after{clear:both}.list-unstyled[data-v-6853a6e8]{margin:0;padding:0;list-style-type:none}.no-select[data-v-6853a6e8]{-webkit-user-select:none;-moz-user-select:none;user-select:none}.no-resize[data-v-6853a6e8]{resize:none}.hand[data-v-6853a6e8]{cursor:pointer;cursor:hand}.fixed[data-v-6853a6e8]{table-layout:fixed}.clip[data-v-6853a6e8]{text-overflow:ellipsis;overflow:hidden;white-space:nowrap}.clip[data-v-6853a6e8],.force-wrap[data-v-6853a6e8]{word-wrap:break-word}.force-wrap[data-v-6853a6e8]{white-space:normal}.bordered-section[data-v-6853a6e8]{border-bottom:1px solid var(--border);margin-bottom:20px;padding-bottom:20px}.section-divider[data-v-6853a6e8]{margin-bottom:20px;margin-top:20px}.grafana-graph[data-v-6853a6e8]{position:relative;min-height:100%;min-width:100%}.grafana-graph[data-v-6853a6e8]  .content{position:relative;display:flex;flex-direction:column;justify-content:center;align-items:center;width:100%;height:100%;padding:0}.grafana-graph[data-v-6853a6e8]  .overlay{position:static;background-color:initial}.grafana-graph iframe[data-v-6853a6e8]{position:absolute;left:0;right:0;top:20px;bottom:0;width:100%;height:100%;overflow:hidden}.grafana-graph iframe.loading[data-v-6853a6e8]{visibility:hidden}\", \"\"]);\n// Exports\nmodule.exports = exports;\n","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../@vue/cli-service/node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../@vue/cli-service/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../postcss-loader/src/index.js??ref--10-oneOf-1-3!../../../sass-loader/dist/cjs.js??ref--10-oneOf-1-4!../../../cache-loader/dist/cjs.js??ref--2-0!../../../@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./DashboardMetrics.vue?vue&type=style&index=0&id=0d2267c9&prod&lang=scss&scoped=true&\");\nif(content.__esModule) content = content.default;\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar add = require(\"!../../../vue-style-loader/lib/addStylesClient.js\").default\nvar update = add(\"ff1d58e6\", content, true, {\"sourceMap\":false,\"shadowMode\":false});","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../@vue/cli-service/node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".clearfix[data-v-0d2267c9]:after,.clearfix[data-v-0d2267c9]:before{content:\\\" \\\";display:table}.clearfix[data-v-0d2267c9]:after{clear:both}.list-unstyled[data-v-0d2267c9]{margin:0;padding:0;list-style-type:none}.no-select[data-v-0d2267c9]{-webkit-user-select:none;-moz-user-select:none;user-select:none}.no-resize[data-v-0d2267c9]{resize:none}.hand[data-v-0d2267c9]{cursor:pointer;cursor:hand}.fixed[data-v-0d2267c9]{table-layout:fixed}.clip[data-v-0d2267c9]{text-overflow:ellipsis;overflow:hidden;white-space:nowrap}.clip[data-v-0d2267c9],.force-wrap[data-v-0d2267c9]{word-wrap:break-word}.force-wrap[data-v-0d2267c9]{white-space:normal}.bordered-section[data-v-0d2267c9]{border-bottom:1px solid var(--border);margin-bottom:20px;padding-bottom:20px}.section-divider[data-v-0d2267c9]{margin-bottom:20px;margin-top:20px}.dashboard-metrics[data-v-0d2267c9]  .external-link{position:absolute;left:200px;top:-45px}.dashboard-metrics[data-v-0d2267c9]  .frame{top:0}.dashboard-metrics.external-link-pull-left[data-v-0d2267c9]  .external-link{position:absolute;left:10px;top:-45px}\", \"\"]);\n// Exports\nmodule.exports = exports;\n"],"sourceRoot":""}